Ballerina File(0,4680)
  IMPORT_DECLARATION(0,22)
    PsiElement(import)('import')(0,6)
    PsiWhiteSpace(' ')(6,7)
    ORG_NAME(7,16)
      PsiElement(identifier)('ballerina')(7,16)
    PsiElement(/)('/')(16,17)
    COMPLETE_PACKAGE_NAME(17,21)
      PACKAGE_NAME(17,21)
        PsiElement(identifier)('http')(17,21)
    PsiElement(;)(';')(21,22)
  PsiWhiteSpace('\n')(22,23)
  IMPORT_DECLARATION(23,43)
    PsiElement(import)('import')(23,29)
    PsiWhiteSpace(' ')(29,30)
    ORG_NAME(30,39)
      PsiElement(identifier)('ballerina')(30,39)
    PsiElement(/)('/')(39,40)
    COMPLETE_PACKAGE_NAME(40,42)
      PACKAGE_NAME(40,42)
        PsiElement(identifier)('io')(40,42)
    PsiElement(;)(';')(42,43)
  PsiWhiteSpace('\n\n')(43,45)
  DEFINITION(45,112)
    TYPE_DEFINITION(45,112)
      PsiElement(type)('type')(45,49)
      PsiWhiteSpace(' ')(49,50)
      PsiElement(identifier)('ProductMaterial')(50,65)
      PsiWhiteSpace(' ')(65,66)
      FINITE_TYPE(66,111)
        FINITE_TYPE_UNIT(66,111)
          RECORD_TYPE_NAME(66,111)
            PsiElement(record)('record')(66,72)
            PsiWhiteSpace(' ')(72,73)
            PsiElement({)('{')(73,74)
            PsiWhiteSpace('\n    ')(74,79)
            RECORD_FIELD_DEFINITION_LIST(79,109)
              FIELD_DEFINITION(79,91)
                SIMPLE_TYPE_NAME(79,85)
                  VALUE_TYPE_NAME(79,85)
                    PsiElement(string)('string')(79,85)
                PsiWhiteSpace(' ')(85,86)
                PsiElement(identifier)('name')(86,90)
                PsiElement(;)(';')(90,91)
              PsiWhiteSpace('\n    ')(91,96)
              FIELD_DEFINITION(96,109)
                SIMPLE_TYPE_NAME(96,101)
                  VALUE_TYPE_NAME(96,101)
                    PsiElement(float)('float')(96,101)
                PsiWhiteSpace(' ')(101,102)
                PsiElement(identifier)('amount')(102,108)
                PsiElement(;)(';')(108,109)
            PsiWhiteSpace('\n')(109,110)
            PsiElement(})('}')(110,111)
      PsiElement(;)(';')(111,112)
  PsiWhiteSpace('\n\n')(112,114)
  DEFINITION(114,217)
    TYPE_DEFINITION(114,217)
      PsiElement(type)('type')(114,118)
      PsiWhiteSpace(' ')(118,119)
      PsiElement(identifier)('MaterialUsage')(119,132)
      PsiWhiteSpace(' ')(132,133)
      FINITE_TYPE(133,216)
        FINITE_TYPE_UNIT(133,216)
          RECORD_TYPE_NAME(133,216)
            PsiElement(record)('record')(133,139)
            PsiWhiteSpace(' ')(139,140)
            PsiElement({)('{')(140,141)
            PsiWhiteSpace('\n    ')(141,146)
            RECORD_FIELD_DEFINITION_LIST(146,214)
              FIELD_DEFINITION(146,158)
                SIMPLE_TYPE_NAME(146,152)
                  VALUE_TYPE_NAME(146,152)
                    PsiElement(string)('string')(146,152)
                PsiWhiteSpace(' ')(152,153)
                PsiElement(identifier)('name')(153,157)
                PsiElement(;)(';')(157,158)
              PsiWhiteSpace('\n    ')(158,163)
              FIELD_DEFINITION(163,186)
                SIMPLE_TYPE_NAME(163,168)
                  VALUE_TYPE_NAME(163,168)
                    PsiElement(float)('float')(163,168)
                PsiWhiteSpace(' ')(168,169)
                PsiElement(identifier)('totalRawMaterial')(169,185)
                PsiElement(;)(';')(185,186)
              PsiWhiteSpace('\n    ')(186,191)
              FIELD_DEFINITION(191,214)
                SIMPLE_TYPE_NAME(191,196)
                  VALUE_TYPE_NAME(191,196)
                    PsiElement(float)('float')(191,196)
                PsiWhiteSpace(' ')(196,197)
                PsiElement(identifier)('totalConsumption')(197,213)
                PsiElement(;)(';')(213,214)
            PsiWhiteSpace('\n')(214,215)
            PsiElement(})('}')(215,216)
      PsiElement(;)(';')(216,217)
  PsiWhiteSpace('\n\n')(217,219)
  PsiComment(LINE_COMMENT)('// These are the input streams that use `ProductMaterial` as the constraint type.')(219,300)
  PsiWhiteSpace('\n')(300,301)
  DEFINITION(301,349)
    GLOBAL_VARIABLE_DEFINITION(301,349)
      SIMPLE_TYPE_NAME(301,324)
        REFERENCE_TYPE_NAME(301,324)
          BUILT_IN_REFERENCE_TYPE_NAME(301,324)
            STREAM_TYPE_NAME(301,324)
              PsiElement(stream)('stream')(301,307)
              PsiElement(<)('<')(307,308)
              SIMPLE_TYPE_NAME(308,323)
                REFERENCE_TYPE_NAME(308,323)
                  USER_DEFINE_TYPE_NAME(308,323)
                    NAME_REFERENCE(308,323)
                      PsiElement(identifier)('ProductMaterial')(308,323)
              PsiElement(>)('>')(323,324)
      PsiWhiteSpace(' ')(324,325)
      PsiElement(identifier)('rawMaterialStream')(325,342)
      PsiWhiteSpace(' ')(342,343)
      PsiElement(=)('=')(343,344)
      PsiWhiteSpace(' ')(344,345)
      TYPE_INIT_EXPRESSION(345,348)
        INIT_WITHOUT_TYPE(345,348)
          PsiElement(new)('new')(345,348)
      PsiElement(;)(';')(348,349)
  PsiWhiteSpace('\n')(349,350)
  DEFINITION(350,402)
    GLOBAL_VARIABLE_DEFINITION(350,402)
      SIMPLE_TYPE_NAME(350,373)
        REFERENCE_TYPE_NAME(350,373)
          BUILT_IN_REFERENCE_TYPE_NAME(350,373)
            STREAM_TYPE_NAME(350,373)
              PsiElement(stream)('stream')(350,356)
              PsiElement(<)('<')(356,357)
              SIMPLE_TYPE_NAME(357,372)
                REFERENCE_TYPE_NAME(357,372)
                  USER_DEFINE_TYPE_NAME(357,372)
                    NAME_REFERENCE(357,372)
                      PsiElement(identifier)('ProductMaterial')(357,372)
              PsiElement(>)('>')(372,373)
      PsiWhiteSpace(' ')(373,374)
      PsiElement(identifier)('productionInputStream')(374,395)
      PsiWhiteSpace(' ')(395,396)
      PsiElement(=)('=')(396,397)
      PsiWhiteSpace(' ')(397,398)
      TYPE_INIT_EXPRESSION(398,401)
        INIT_WITHOUT_TYPE(398,401)
          PsiElement(new)('new')(398,401)
      PsiElement(;)(';')(401,402)
  PsiWhiteSpace('\n\n')(402,404)
  PsiComment(LINE_COMMENT)('// This is the output stream that contains the events/alerts that are generated based on streaming logic.')(404,509)
  PsiWhiteSpace('\n')(509,510)
  DEFINITION(510,558)
    GLOBAL_VARIABLE_DEFINITION(510,558)
      SIMPLE_TYPE_NAME(510,531)
        REFERENCE_TYPE_NAME(510,531)
          BUILT_IN_REFERENCE_TYPE_NAME(510,531)
            STREAM_TYPE_NAME(510,531)
              PsiElement(stream)('stream')(510,516)
              PsiElement(<)('<')(516,517)
              SIMPLE_TYPE_NAME(517,530)
                REFERENCE_TYPE_NAME(517,530)
                  USER_DEFINE_TYPE_NAME(517,530)
                    NAME_REFERENCE(517,530)
                      PsiElement(identifier)('MaterialUsage')(517,530)
              PsiElement(>)('>')(530,531)
      PsiWhiteSpace(' ')(531,532)
      PsiElement(identifier)('materialUsageStream')(532,551)
      PsiWhiteSpace(' ')(551,552)
      PsiElement(=)('=')(552,553)
      PsiWhiteSpace(' ')(553,554)
      TYPE_INIT_EXPRESSION(554,557)
        INIT_WITHOUT_TYPE(554,557)
          PsiElement(new)('new')(554,557)
      PsiElement(;)(';')(557,558)
  PsiWhiteSpace('\n\n')(558,560)
  DEFINITION(560,2194)
    FUNCTION_DEFINITION(560,2194)
      PsiElement(function)('function')(560,568)
      PsiWhiteSpace(' ')(568,569)
      CALLABLE_UNIT_SIGNATURE(569,609)
        ANY_IDENTIFIER_NAME(569,596)
          PsiElement(identifier)('initRealtimeProductionAlert')(569,596)
        PsiElement(()('(')(596,597)
        PsiElement())(')')(597,598)
        PsiWhiteSpace(' ')(598,599)
        RETURN_PARAMETER(599,609)
          PsiElement(returns)('returns')(599,606)
          PsiWhiteSpace(' ')(606,607)
          RETURN_TYPE(607,609)
            SIMPLE_TYPE_NAME(607,609)
              EMPTY_TUPLE_LITERAL(607,609)
                PsiElement(()('(')(607,608)
                PsiElement())(')')(608,609)
      PsiWhiteSpace(' ')(609,610)
      CALLABLE_UNIT_BODY(610,2194)
        PsiElement({)('{')(610,611)
        PsiWhiteSpace('\n\n    ')(611,617)
        PsiComment(LINE_COMMENT)('// Whenever the `materialUsageStream` stream receives an event from the streaming rules defined in the `forever`')(617,729)
        PsiWhiteSpace('\n    ')(729,734)
        PsiComment(LINE_COMMENT)('// block, the `printMaterialUsageAlert` function is invoked.')(734,794)
        PsiWhiteSpace('\n    ')(794,799)
        STATEMENT(799,854)
          EXPRESSION_STMT(799,854)
            VARIABLE_REFERENCE_EXPRESSION(799,853)
              INVOCATION_REFERENCE(799,853)
                SIMPLE_VARIABLE_REFERENCE(799,818)
                  NAME_REFERENCE(799,818)
                    PsiElement(identifier)('materialUsageStream')(799,818)
                INVOCATION(818,853)
                  PsiElement(.)('.')(818,819)
                  ANY_IDENTIFIER_NAME(819,828)
                    PsiElement(identifier)('subscribe')(819,828)
                  PsiElement(()('(')(828,829)
                  INVOCATION_ARG_LIST(829,852)
                    INVOCATION_ARG(829,852)
                      VARIABLE_REFERENCE_EXPRESSION(829,852)
                        SIMPLE_VARIABLE_REFERENCE(829,852)
                          NAME_REFERENCE(829,852)
                            PsiElement(identifier)('printMaterialUsageAlert')(829,852)
                  PsiElement())(')')(852,853)
            PsiElement(;)(';')(853,854)
        PsiWhiteSpace('\n\n\n    ')(854,861)
        PsiComment(LINE_COMMENT)('// Gather events related to raw materials through the `rawMaterialStream` stream and production related events')(861,971)
        PsiWhiteSpace('\n    ')(971,976)
        PsiComment(LINE_COMMENT)('// through the `productionInputStream`. The raw materials usage and production outcome for the last')(976,1075)
        PsiWhiteSpace('\n    ')(1075,1080)
        PsiComment(LINE_COMMENT)('// 10 seconds are calculated and an alert is triggered if the raw material usage is 5% higher than the')(1080,1182)
        PsiWhiteSpace('\n    ')(1182,1187)
        PsiComment(LINE_COMMENT)('// production outcome. This `forever` block is executed once, when initializing the service. The processing happens')(1187,1302)
        PsiWhiteSpace('\n    ')(1302,1307)
        PsiComment(LINE_COMMENT)('// asynchronously each time the `requestStream` or `productionInputStream` receives an event.')(1307,1400)
        PsiWhiteSpace('\n    ')(1400,1405)
        STATEMENT(1405,2192)
          FOREVER_STATEMENT(1405,2192)
            PsiElement(forever)('forever')(1405,1412)
            PsiWhiteSpace(' ')(1412,1413)
            PsiElement({)('{')(1413,1414)
            PsiWhiteSpace('\n        ')(1414,1423)
            FOREVER_STATEMENT_BODY(1423,2186)
              STREAMING_QUERY_STATEMENT(1423,2186)
                PsiElement(from)('from')(1423,1427)
                PsiWhiteSpace(' ')(1427,1428)
                STREAMING_INPUT(1428,1473)
                  SIMPLE_VARIABLE_REFERENCE(1428,1449)
                    NAME_REFERENCE(1428,1449)
                      PsiElement(identifier)('productionInputStream')(1428,1449)
                  PsiWhiteSpace(' ')(1449,1450)
                  WINDOW_CLAUSE(1450,1468)
                    PsiElement(window)('window')(1450,1456)
                    PsiWhiteSpace(' ')(1456,1457)
                    FUNCTION_INVOCATION(1457,1468)
                      FUNCTION_NAME_REFERENCE(1457,1461)
                        ANY_IDENTIFIER_NAME(1457,1461)
                          PsiElement(identifier)('time')(1457,1461)
                      PsiElement(()('(')(1461,1462)
                      INVOCATION_ARG_LIST(1462,1467)
                        INVOCATION_ARG(1462,1467)
                          SIMPLE_LITERAL_EXPRESSION(1462,1467)
                            SIMPLE_LITERAL(1462,1467)
                              INTEGER_LITERAL(1462,1467)
                                PsiElement(DECIMAL_INTEGER_LITERAL)('10000')(1462,1467)
                      PsiElement())(')')(1467,1468)
                  PsiWhiteSpace(' ')(1468,1469)
                  PsiElement(as)('as')(1469,1471)
                  PsiWhiteSpace(' ')(1471,1472)
                  PsiElement(identifier)('p')(1472,1473)
                PsiWhiteSpace('\n        ')(1473,1482)
                JOIN_STREAMING_INPUT(1482,1556)
                  JOIN_TYPE(1482,1486)
                    PsiElement(join)('join')(1482,1486)
                  PsiWhiteSpace(' ')(1486,1487)
                  STREAMING_INPUT(1487,1528)
                    SIMPLE_VARIABLE_REFERENCE(1487,1504)
                      NAME_REFERENCE(1487,1504)
                        PsiElement(identifier)('rawMaterialStream')(1487,1504)
                    PsiWhiteSpace(' ')(1504,1505)
                    WINDOW_CLAUSE(1505,1523)
                      PsiElement(window)('window')(1505,1511)
                      PsiWhiteSpace(' ')(1511,1512)
                      FUNCTION_INVOCATION(1512,1523)
                        FUNCTION_NAME_REFERENCE(1512,1516)
                          ANY_IDENTIFIER_NAME(1512,1516)
                            PsiElement(identifier)('time')(1512,1516)
                        PsiElement(()('(')(1516,1517)
                        INVOCATION_ARG_LIST(1517,1522)
                          INVOCATION_ARG(1517,1522)
                            SIMPLE_LITERAL_EXPRESSION(1517,1522)
                              SIMPLE_LITERAL(1517,1522)
                                INTEGER_LITERAL(1517,1522)
                                  PsiElement(DECIMAL_INTEGER_LITERAL)('10000')(1517,1522)
                        PsiElement())(')')(1522,1523)
                    PsiWhiteSpace(' ')(1523,1524)
                    PsiElement(as)('as')(1524,1526)
                    PsiWhiteSpace(' ')(1526,1527)
                    PsiElement(identifier)('r')(1527,1528)
                  PsiWhiteSpace('\n        ')(1528,1537)
                  PsiElement(on)('on')(1537,1539)
                  PsiWhiteSpace(' ')(1539,1540)
                  BINARY_EQUAL_EXPRESSION(1540,1556)
                    VARIABLE_REFERENCE_EXPRESSION(1540,1546)
                      FIELD_VARIABLE_REFERENCE(1540,1546)
                        SIMPLE_VARIABLE_REFERENCE(1540,1541)
                          NAME_REFERENCE(1540,1541)
                            PsiElement(identifier)('r')(1540,1541)
                        FIELD(1541,1546)
                          PsiElement(.)('.')(1541,1542)
                          PsiElement(identifier)('name')(1542,1546)
                    PsiWhiteSpace(' ')(1546,1547)
                    PsiElement(==)('==')(1547,1549)
                    PsiWhiteSpace(' ')(1549,1550)
                    VARIABLE_REFERENCE_EXPRESSION(1550,1556)
                      FIELD_VARIABLE_REFERENCE(1550,1556)
                        SIMPLE_VARIABLE_REFERENCE(1550,1551)
                          NAME_REFERENCE(1550,1551)
                            PsiElement(identifier)('p')(1550,1551)
                        FIELD(1551,1556)
                          PsiElement(.)('.')(1551,1552)
                          PsiElement(identifier)('name')(1552,1556)
                PsiWhiteSpace('\n        ')(1556,1565)
                SELECT_CLAUSE(1565,1790)
                  PsiElement(select)('select')(1565,1571)
                  PsiWhiteSpace(' ')(1571,1572)
                  SELECT_EXPRESSION_LIST(1572,1664)
                    SELECT_EXPRESSION(1572,1578)
                      VARIABLE_REFERENCE_EXPRESSION(1572,1578)
                        FIELD_VARIABLE_REFERENCE(1572,1578)
                          SIMPLE_VARIABLE_REFERENCE(1572,1573)
                            NAME_REFERENCE(1572,1573)
                              PsiElement(identifier)('r')(1572,1573)
                          FIELD(1573,1578)
                            PsiElement(.)('.')(1573,1574)
                            PsiElement(identifier)('name')(1574,1578)
                    PsiElement(,)(',')(1578,1579)
                    PsiWhiteSpace(' ')(1579,1580)
                    SELECT_EXPRESSION(1580,1613)
                      VARIABLE_REFERENCE_EXPRESSION(1580,1593)
                        FUNCTION_INVOCATION_REFERENCE(1580,1593)
                          FUNCTION_INVOCATION(1580,1593)
                            FUNCTION_NAME_REFERENCE(1580,1583)
                              ANY_IDENTIFIER_NAME(1580,1583)
                                PsiElement(identifier)('sum')(1580,1583)
                            PsiElement(()('(')(1583,1584)
                            INVOCATION_ARG_LIST(1584,1592)
                              INVOCATION_ARG(1584,1592)
                                VARIABLE_REFERENCE_EXPRESSION(1584,1592)
                                  FIELD_VARIABLE_REFERENCE(1584,1592)
                                    SIMPLE_VARIABLE_REFERENCE(1584,1585)
                                      NAME_REFERENCE(1584,1585)
                                        PsiElement(identifier)('r')(1584,1585)
                                    FIELD(1585,1592)
                                      PsiElement(.)('.')(1585,1586)
                                      PsiElement(identifier)('amount')(1586,1592)
                            PsiElement())(')')(1592,1593)
                      PsiWhiteSpace(' ')(1593,1594)
                      PsiElement(as)('as')(1594,1596)
                      PsiWhiteSpace(' ')(1596,1597)
                      PsiElement(identifier)('totalRawMaterial')(1597,1613)
                    PsiElement(,)(',')(1613,1614)
                    PsiWhiteSpace('\n                ')(1614,1631)
                    SELECT_EXPRESSION(1631,1664)
                      VARIABLE_REFERENCE_EXPRESSION(1631,1644)
                        FUNCTION_INVOCATION_REFERENCE(1631,1644)
                          FUNCTION_INVOCATION(1631,1644)
                            FUNCTION_NAME_REFERENCE(1631,1634)
                              ANY_IDENTIFIER_NAME(1631,1634)
                                PsiElement(identifier)('sum')(1631,1634)
                            PsiElement(()('(')(1634,1635)
                            INVOCATION_ARG_LIST(1635,1643)
                              INVOCATION_ARG(1635,1643)
                                VARIABLE_REFERENCE_EXPRESSION(1635,1643)
                                  FIELD_VARIABLE_REFERENCE(1635,1643)
                                    SIMPLE_VARIABLE_REFERENCE(1635,1636)
                                      NAME_REFERENCE(1635,1636)
                                        PsiElement(identifier)('p')(1635,1636)
                                    FIELD(1636,1643)
                                      PsiElement(.)('.')(1636,1637)
                                      PsiElement(identifier)('amount')(1637,1643)
                            PsiElement())(')')(1643,1644)
                      PsiWhiteSpace(' ')(1644,1645)
                      PsiElement(as)('as')(1645,1647)
                      PsiWhiteSpace(' ')(1647,1648)
                      PsiElement(identifier)('totalConsumption')(1648,1664)
                  PsiWhiteSpace('\n        ')(1664,1673)
                  GROUP_BY_CLAUSE(1673,1688)
                    PsiElement(group)('group')(1673,1678)
                    PsiWhiteSpace(' ')(1678,1679)
                    PsiElement(by)('by')(1679,1681)
                    PsiWhiteSpace(' ')(1681,1682)
                    VARIABLE_REFERENCE_LIST(1682,1688)
                      FIELD_VARIABLE_REFERENCE(1682,1688)
                        SIMPLE_VARIABLE_REFERENCE(1682,1683)
                          NAME_REFERENCE(1682,1683)
                            PsiElement(identifier)('r')(1682,1683)
                        FIELD(1683,1688)
                          PsiElement(.)('.')(1683,1684)
                          PsiElement(identifier)('name')(1684,1688)
                  PsiWhiteSpace('\n        ')(1688,1697)
                  HAVING_CLAUSE(1697,1790)
                    PsiElement(having)('having')(1697,1703)
                    PsiWhiteSpace(' ')(1703,1704)
                    BINARY_COMPARE_EXPRESSION(1704,1790)
                      BRACED_OR_TUPLE_EXPRESSION(1704,1786)
                        TUPLE_LITERAL(1704,1786)
                          PsiElement(()('(')(1704,1705)
                          BINARY_DIV_MUL_MOD_EXPRESSION(1705,1785)
                            BINARY_DIV_MUL_MOD_EXPRESSION(1705,1750)
                              BRACED_OR_TUPLE_EXPRESSION(1705,1742)
                                TUPLE_LITERAL(1705,1742)
                                  PsiElement(()('(')(1705,1706)
                                  BINARY_ADD_SUB_EXPRESSION(1706,1741)
                                    VARIABLE_REFERENCE_EXPRESSION(1706,1722)
                                      SIMPLE_VARIABLE_REFERENCE(1706,1722)
                                        NAME_REFERENCE(1706,1722)
                                          PsiElement(identifier)('totalRawMaterial')(1706,1722)
                                    PsiWhiteSpace(' ')(1722,1723)
                                    PsiElement(-)('-')(1723,1724)
                                    PsiWhiteSpace(' ')(1724,1725)
                                    VARIABLE_REFERENCE_EXPRESSION(1725,1741)
                                      SIMPLE_VARIABLE_REFERENCE(1725,1741)
                                        NAME_REFERENCE(1725,1741)
                                          PsiElement(identifier)('totalConsumption')(1725,1741)
                                  PsiElement())(')')(1741,1742)
                              PsiWhiteSpace(' ')(1742,1743)
                              PsiElement(*)('*')(1743,1744)
                              PsiWhiteSpace(' ')(1744,1745)
                              SIMPLE_LITERAL_EXPRESSION(1745,1750)
                                SIMPLE_LITERAL(1745,1750)
                                  FLOATING_POINT_LITERAL(1745,1750)
                                    PsiElement(DECIMAL_FLOATING_POINT_NUMBER)('100.0')(1745,1750)
                            PsiWhiteSpace(' ')(1750,1751)
                            PsiElement(/)('/')(1751,1752)
                            PsiWhiteSpace('\n                ')(1752,1769)
                            VARIABLE_REFERENCE_EXPRESSION(1769,1785)
                              SIMPLE_VARIABLE_REFERENCE(1769,1785)
                                NAME_REFERENCE(1769,1785)
                                  PsiElement(identifier)('totalRawMaterial')(1769,1785)
                          PsiElement())(')')(1785,1786)
                      PsiWhiteSpace(' ')(1786,1787)
                      PsiElement(>)('>')(1787,1788)
                      PsiWhiteSpace(' ')(1788,1789)
                      SIMPLE_LITERAL_EXPRESSION(1789,1790)
                        SIMPLE_LITERAL(1789,1790)
                          INTEGER_LITERAL(1789,1790)
                            PsiElement(DECIMAL_INTEGER_LITERAL)('5')(1789,1790)
                PsiWhiteSpace('\n        ')(1790,1799)
                STREAMING_ACTION(1799,2186)
                  PsiElement(=>)('=>')(1799,1801)
                  PsiWhiteSpace(' ')(1801,1802)
                  PsiElement(()('(')(1802,1803)
                  PARAMETER(1803,1833)
                    PARAMETER_WITH_TYPE(1803,1833)
                      ARRAY_TYPE_NAME(1803,1818)
                        SIMPLE_TYPE_NAME(1803,1816)
                          REFERENCE_TYPE_NAME(1803,1816)
                            USER_DEFINE_TYPE_NAME(1803,1816)
                              NAME_REFERENCE(1803,1816)
                                PsiElement(identifier)('MaterialUsage')(1803,1816)
                        PsiElement([)('[')(1816,1817)
                        PsiElement(])(']')(1817,1818)
                      PsiWhiteSpace(' ')(1818,1819)
                      PsiElement(identifier)('materialUsages')(1819,1833)
                  PsiElement())(')')(1833,1834)
                  PsiWhiteSpace(' ')(1834,1835)
                  PsiElement({)('{')(1835,1836)
                  PsiWhiteSpace('\n        ')(1836,1845)
                  PsiComment(LINE_COMMENT)('// `materialUsages` is the output that matches the defined streaming rules. It is published to the `materialUsageStream` stream.')(1845,1973)
                  PsiWhiteSpace('\n        ')(1973,1982)
                  PsiComment(LINE_COMMENT)('// The selected clause should match the structure of the `MaterialUsage` type.')(1982,2060)
                  PsiWhiteSpace('\n            ')(2060,2073)
                  BLOCK(2073,2176)
                    STATEMENT(2073,2176)
                      FOREACH_STATEMENT(2073,2176)
                        PsiElement(foreach)('foreach')(2073,2080)
                        PsiWhiteSpace(' ')(2080,2081)
                        PsiElement(var)('var')(2081,2084)
                        PsiWhiteSpace(' ')(2084,2085)
                        BINDING_PATTERN(2085,2090)
                          PsiElement(identifier)('usage')(2085,2090)
                        PsiWhiteSpace(' ')(2090,2091)
                        PsiElement(in)('in')(2091,2093)
                        PsiWhiteSpace(' ')(2093,2094)
                        VARIABLE_REFERENCE_EXPRESSION(2094,2108)
                          SIMPLE_VARIABLE_REFERENCE(2094,2108)
                            NAME_REFERENCE(2094,2108)
                              PsiElement(identifier)('materialUsages')(2094,2108)
                        PsiWhiteSpace(' ')(2108,2109)
                        PsiElement({)('{')(2109,2110)
                        PsiWhiteSpace('\n                ')(2110,2127)
                        BLOCK(2127,2162)
                          STATEMENT(2127,2162)
                            EXPRESSION_STMT(2127,2162)
                              VARIABLE_REFERENCE_EXPRESSION(2127,2161)
                                INVOCATION_REFERENCE(2127,2161)
                                  SIMPLE_VARIABLE_REFERENCE(2127,2146)
                                    NAME_REFERENCE(2127,2146)
                                      PsiElement(identifier)('materialUsageStream')(2127,2146)
                                  INVOCATION(2146,2161)
                                    PsiElement(.)('.')(2146,2147)
                                    ANY_IDENTIFIER_NAME(2147,2154)
                                      PsiElement(identifier)('publish')(2147,2154)
                                    PsiElement(()('(')(2154,2155)
                                    INVOCATION_ARG_LIST(2155,2160)
                                      INVOCATION_ARG(2155,2160)
                                        VARIABLE_REFERENCE_EXPRESSION(2155,2160)
                                          SIMPLE_VARIABLE_REFERENCE(2155,2160)
                                            NAME_REFERENCE(2155,2160)
                                              PsiElement(identifier)('usage')(2155,2160)
                                    PsiElement())(')')(2160,2161)
                              PsiElement(;)(';')(2161,2162)
                        PsiWhiteSpace('\n            ')(2162,2175)
                        PsiElement(})('}')(2175,2176)
                  PsiWhiteSpace('\n        ')(2176,2185)
                  PsiElement(})('}')(2185,2186)
            PsiWhiteSpace('\n    ')(2186,2191)
            PsiElement(})('}')(2191,2192)
        PsiWhiteSpace('\n')(2192,2193)
        PsiElement(})('}')(2193,2194)
  PsiWhiteSpace('\n\n')(2194,2196)
  DEFINITION(2196,2638)
    FUNCTION_DEFINITION(2196,2638)
      PsiElement(function)('function')(2196,2204)
      PsiWhiteSpace(' ')(2204,2205)
      CALLABLE_UNIT_SIGNATURE(2205,2257)
        ANY_IDENTIFIER_NAME(2205,2228)
          PsiElement(identifier)('printMaterialUsageAlert')(2205,2228)
        PsiElement(()('(')(2228,2229)
        FORMAL_PARAMETER_LIST(2229,2256)
          PARAMETER(2229,2256)
            PARAMETER_WITH_TYPE(2229,2256)
              SIMPLE_TYPE_NAME(2229,2242)
                REFERENCE_TYPE_NAME(2229,2242)
                  USER_DEFINE_TYPE_NAME(2229,2242)
                    NAME_REFERENCE(2229,2242)
                      PsiElement(identifier)('MaterialUsage')(2229,2242)
              PsiWhiteSpace(' ')(2242,2243)
              PsiElement(identifier)('materialUsage')(2243,2256)
        PsiElement())(')')(2256,2257)
      PsiWhiteSpace(' ')(2257,2258)
      CALLABLE_UNIT_BODY(2258,2638)
        PsiElement({)('{')(2258,2259)
        PsiWhiteSpace('\n\n    ')(2259,2265)
        STATEMENT(2265,2434)
          VARIABLE_DEFINITION_STATEMENT(2265,2434)
            VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(2265,2434)
              SIMPLE_TYPE_NAME(2265,2270)
                VALUE_TYPE_NAME(2265,2270)
                  PsiElement(float)('float')(2265,2270)
              PsiWhiteSpace(' ')(2270,2271)
              BINDING_PATTERN(2271,2294)
                PsiElement(identifier)('materialUsageDifference')(2271,2294)
              PsiWhiteSpace(' ')(2294,2295)
              PsiElement(=)('=')(2295,2296)
              PsiWhiteSpace(' ')(2296,2297)
              BINARY_DIV_MUL_MOD_EXPRESSION(2297,2433)
                BINARY_DIV_MUL_MOD_EXPRESSION(2297,2382)
                  BRACED_OR_TUPLE_EXPRESSION(2297,2374)
                    TUPLE_LITERAL(2297,2374)
                      PsiElement(()('(')(2297,2298)
                      BINARY_ADD_SUB_EXPRESSION(2298,2373)
                        VARIABLE_REFERENCE_EXPRESSION(2298,2328)
                          FIELD_VARIABLE_REFERENCE(2298,2328)
                            SIMPLE_VARIABLE_REFERENCE(2298,2311)
                              NAME_REFERENCE(2298,2311)
                                PsiElement(identifier)('materialUsage')(2298,2311)
                            FIELD(2311,2328)
                              PsiElement(.)('.')(2311,2312)
                              PsiElement(identifier)('totalRawMaterial')(2312,2328)
                        PsiWhiteSpace(' ')(2328,2329)
                        PsiElement(-)('-')(2329,2330)
                        PsiWhiteSpace('\n            ')(2330,2343)
                        VARIABLE_REFERENCE_EXPRESSION(2343,2373)
                          FIELD_VARIABLE_REFERENCE(2343,2373)
                            SIMPLE_VARIABLE_REFERENCE(2343,2356)
                              NAME_REFERENCE(2343,2356)
                                PsiElement(identifier)('materialUsage')(2343,2356)
                            FIELD(2356,2373)
                              PsiElement(.)('.')(2356,2357)
                              PsiElement(identifier)('totalConsumption')(2357,2373)
                      PsiElement())(')')(2373,2374)
                  PsiWhiteSpace(' ')(2374,2375)
                  PsiElement(*)('*')(2375,2376)
                  PsiWhiteSpace(' ')(2376,2377)
                  SIMPLE_LITERAL_EXPRESSION(2377,2382)
                    SIMPLE_LITERAL(2377,2382)
                      FLOATING_POINT_LITERAL(2377,2382)
                        PsiElement(DECIMAL_FLOATING_POINT_NUMBER)('100.0')(2377,2382)
                PsiWhiteSpace(' ')(2382,2383)
                PsiElement(/)('/')(2383,2384)
                PsiWhiteSpace('\n                ')(2384,2401)
                BRACED_OR_TUPLE_EXPRESSION(2401,2433)
                  TUPLE_LITERAL(2401,2433)
                    PsiElement(()('(')(2401,2402)
                    VARIABLE_REFERENCE_EXPRESSION(2402,2432)
                      FIELD_VARIABLE_REFERENCE(2402,2432)
                        SIMPLE_VARIABLE_REFERENCE(2402,2415)
                          NAME_REFERENCE(2402,2415)
                            PsiElement(identifier)('materialUsage')(2402,2415)
                        FIELD(2415,2432)
                          PsiElement(.)('.')(2415,2416)
                          PsiElement(identifier)('totalRawMaterial')(2416,2432)
                    PsiElement())(')')(2432,2433)
              PsiElement(;)(';')(2433,2434)
        PsiWhiteSpace('\n\n    ')(2434,2440)
        STATEMENT(2440,2636)
          EXPRESSION_STMT(2440,2636)
            VARIABLE_REFERENCE_EXPRESSION(2440,2635)
              FUNCTION_INVOCATION_REFERENCE(2440,2635)
                FUNCTION_INVOCATION(2440,2635)
                  FUNCTION_NAME_REFERENCE(2440,2450)
                    PACKAGE_REFERENCE(2440,2443)
                      PsiElement(identifier)('io')(2440,2442)
                      PsiElement(:)(':')(2442,2443)
                    ANY_IDENTIFIER_NAME(2443,2450)
                      PsiElement(identifier)('println')(2443,2450)
                  PsiElement(()('(')(2450,2451)
                  INVOCATION_ARG_LIST(2451,2634)
                    INVOCATION_ARG(2451,2634)
                      BINARY_ADD_SUB_EXPRESSION(2451,2634)
                        BINARY_ADD_SUB_EXPRESSION(2451,2608)
                          BINARY_ADD_SUB_EXPRESSION(2451,2565)
                            BINARY_ADD_SUB_EXPRESSION(2451,2544)
                              SIMPLE_LITERAL_EXPRESSION(2451,2505)
                                SIMPLE_LITERAL(2451,2505)
                                  PsiElement(QUOTED_STRING_LITERAL)('"ALERT!! : Material usage is higher than the expected"')(2451,2505)
                              PsiWhiteSpace('\n            ')(2505,2518)
                              PsiElement(+)('+')(2518,2519)
                              PsiWhiteSpace(' ')(2519,2520)
                              SIMPLE_LITERAL_EXPRESSION(2520,2544)
                                SIMPLE_LITERAL(2520,2544)
                                  PsiElement(QUOTED_STRING_LITERAL)('" limit for material : "')(2520,2544)
                            PsiWhiteSpace(' ')(2544,2545)
                            PsiElement(+)('+')(2545,2546)
                            PsiWhiteSpace(' ')(2546,2547)
                            VARIABLE_REFERENCE_EXPRESSION(2547,2565)
                              FIELD_VARIABLE_REFERENCE(2547,2565)
                                SIMPLE_VARIABLE_REFERENCE(2547,2560)
                                  NAME_REFERENCE(2547,2560)
                                    PsiElement(identifier)('materialUsage')(2547,2560)
                                FIELD(2560,2565)
                                  PsiElement(.)('.')(2560,2561)
                                  PsiElement(identifier)('name')(2561,2565)
                          PsiWhiteSpace(' ')(2565,2566)
                          PsiElement(+)('+')(2566,2567)
                          PsiWhiteSpace('\n            ')(2567,2580)
                          SIMPLE_LITERAL_EXPRESSION(2580,2608)
                            SIMPLE_LITERAL(2580,2608)
                              PsiElement(QUOTED_STRING_LITERAL)('" , usage difference (%) : "')(2580,2608)
                        PsiWhiteSpace(' ')(2608,2609)
                        PsiElement(+)('+')(2609,2610)
                        PsiWhiteSpace(' ')(2610,2611)
                        VARIABLE_REFERENCE_EXPRESSION(2611,2634)
                          SIMPLE_VARIABLE_REFERENCE(2611,2634)
                            NAME_REFERENCE(2611,2634)
                              PsiElement(identifier)('materialUsageDifference')(2611,2634)
                  PsiElement())(')')(2634,2635)
            PsiElement(;)(';')(2635,2636)
        PsiWhiteSpace('\n')(2636,2637)
        PsiElement(})('}')(2637,2638)
  PsiWhiteSpace('\n\n')(2638,2640)
  DEFINITION(2640,2700)
    GLOBAL_VARIABLE_DEFINITION(2640,2700)
      PsiElement(listener)('listener')(2640,2648)
      PsiWhiteSpace(' ')(2648,2649)
      SIMPLE_TYPE_NAME(2649,2662)
        REFERENCE_TYPE_NAME(2649,2662)
          USER_DEFINE_TYPE_NAME(2649,2662)
            NAME_REFERENCE(2649,2662)
              PACKAGE_REFERENCE(2649,2654)
                PsiElement(identifier)('http')(2649,2653)
                PsiElement(:)(':')(2653,2654)
              PsiElement(identifier)('Listener')(2654,2662)
      PsiWhiteSpace(' ')(2662,2663)
      PsiElement(identifier)('productMaterialListener')(2663,2686)
      PsiWhiteSpace(' ')(2686,2687)
      PsiElement(=)('=')(2687,2688)
      PsiWhiteSpace(' ')(2688,2689)
      TYPE_INIT_EXPRESSION(2689,2699)
        INIT_WITHOUT_TYPE(2689,2699)
          PsiElement(new)('new')(2689,2692)
          PsiWhiteSpace(' ')(2692,2693)
          PsiElement(()('(')(2693,2694)
          INVOCATION_ARG_LIST(2694,2698)
            INVOCATION_ARG(2694,2698)
              SIMPLE_LITERAL_EXPRESSION(2694,2698)
                SIMPLE_LITERAL(2694,2698)
                  INTEGER_LITERAL(2694,2698)
                    PsiElement(DECIMAL_INTEGER_LITERAL)('9090')(2694,2698)
          PsiElement())(')')(2698,2699)
      PsiElement(;)(';')(2699,2700)
  PsiWhiteSpace('\n\n')(2700,2702)
  PsiComment(LINE_COMMENT)('// The service, which receives events related to the production outcome and the raw material input.')(2702,2801)
  PsiWhiteSpace('\n')(2801,2802)
  DEFINITION(2802,4680)
    ANNOTATION_ATTACHMENT(2802,2843)
      PsiElement(@)('@')(2802,2803)
      NAME_REFERENCE(2803,2821)
        PACKAGE_REFERENCE(2803,2808)
          PsiElement(identifier)('http')(2803,2807)
          PsiElement(:)(':')(2807,2808)
        PsiElement(identifier)('ServiceConfig')(2808,2821)
      PsiWhiteSpace(' ')(2821,2822)
      RECORD_LITERAL(2822,2843)
        PsiElement({)('{')(2822,2823)
        PsiWhiteSpace('\n    ')(2823,2828)
        RECORD_LITERAL_BODY(2828,2841)
          RECORD_KEY_VALUE(2828,2841)
            RECORD_KEY(2828,2836)
              VARIABLE_REFERENCE_EXPRESSION(2828,2836)
                SIMPLE_VARIABLE_REFERENCE(2828,2836)
                  NAME_REFERENCE(2828,2836)
                    PsiElement(identifier)('basePath')(2828,2836)
            PsiElement(:)(':')(2836,2837)
            PsiWhiteSpace(' ')(2837,2838)
            SIMPLE_LITERAL_EXPRESSION(2838,2841)
              SIMPLE_LITERAL(2838,2841)
                PsiElement(QUOTED_STRING_LITERAL)('"/"')(2838,2841)
        PsiWhiteSpace('\n')(2841,2842)
        PsiElement(})('}')(2842,2843)
    PsiWhiteSpace('\n')(2843,2844)
    DEFINITION(2844,4680)
      SERVICE_DEFINITION(2844,4680)
        PsiElement(service)('service')(2844,2851)
        PsiWhiteSpace(' ')(2851,2852)
        PsiElement(identifier)('productMaterialService')(2852,2874)
        PsiWhiteSpace(' ')(2874,2875)
        PsiElement(on)('on')(2875,2877)
        PsiWhiteSpace(' ')(2877,2878)
        EXPRESSION_LIST(2878,2901)
          VARIABLE_REFERENCE_EXPRESSION(2878,2901)
            SIMPLE_VARIABLE_REFERENCE(2878,2901)
              NAME_REFERENCE(2878,2901)
                PsiElement(identifier)('productMaterialListener')(2878,2901)
        PsiWhiteSpace(' ')(2901,2902)
        SERVICE_BODY(2902,4680)
          PsiElement({)('{')(2902,2903)
          PsiWhiteSpace('\n\n    ')(2903,2909)
          PsiComment(LINE_COMMENT)('// Initialize the function that contains streaming queries.')(2909,2968)
          PsiWhiteSpace('\n    ')(2968,2973)
          SERVICE_BODY_MEMBER(2973,3026)
            OBJECT_FIELD_DEFINITION(2973,3026)
              SIMPLE_TYPE_NAME(2973,2983)
                REFERENCE_TYPE_NAME(2973,2983)
                  BUILT_IN_REFERENCE_TYPE_NAME(2973,2983)
                    FUTURE_TYPE_NAME(2973,2983)
                      PsiElement(future)('future')(2973,2979)
                      PsiElement(<)('<')(2979,2980)
                      SIMPLE_TYPE_NAME(2980,2982)
                        EMPTY_TUPLE_LITERAL(2980,2982)
                          PsiElement(()('(')(2980,2981)
                          PsiElement())(')')(2981,2982)
                      PsiElement(>)('>')(2982,2983)
              PsiWhiteSpace(' ')(2983,2984)
              PsiElement(identifier)('ftr')(2984,2987)
              PsiWhiteSpace(' ')(2987,2988)
              PsiElement(=)('=')(2988,2989)
              PsiWhiteSpace(' ')(2989,2990)
              VARIABLE_REFERENCE_EXPRESSION(2990,3025)
                PsiElement(start)('start')(2990,2995)
                PsiWhiteSpace(' ')(2995,2996)
                FUNCTION_INVOCATION_REFERENCE(2996,3025)
                  FUNCTION_INVOCATION(2996,3025)
                    FUNCTION_NAME_REFERENCE(2996,3023)
                      ANY_IDENTIFIER_NAME(2996,3023)
                        PsiElement(identifier)('initRealtimeProductionAlert')(2996,3023)
                    PsiElement(()('(')(3023,3024)
                    PsiElement())(')')(3024,3025)
              PsiElement(;)(';')(3025,3026)
          PsiWhiteSpace('\n\n    ')(3026,3032)
          SERVICE_BODY_MEMBER(3032,3827)
            OBJECT_FUNCTION_DEFINITION(3032,3827)
              ANNOTATION_ATTACHMENT(3032,3116)
                PsiElement(@)('@')(3032,3033)
                NAME_REFERENCE(3033,3052)
                  PACKAGE_REFERENCE(3033,3038)
                    PsiElement(identifier)('http')(3033,3037)
                    PsiElement(:)(':')(3037,3038)
                  PsiElement(identifier)('ResourceConfig')(3038,3052)
                PsiWhiteSpace(' ')(3052,3053)
                RECORD_LITERAL(3053,3116)
                  PsiElement({)('{')(3053,3054)
                  PsiWhiteSpace('\n        ')(3054,3063)
                  RECORD_LITERAL_BODY(3063,3110)
                    RECORD_KEY_VALUE(3063,3080)
                      RECORD_KEY(3063,3070)
                        VARIABLE_REFERENCE_EXPRESSION(3063,3070)
                          SIMPLE_VARIABLE_REFERENCE(3063,3070)
                            NAME_REFERENCE(3063,3070)
                              PsiElement(identifier)('methods')(3063,3070)
                      PsiElement(:)(':')(3070,3071)
                      PsiWhiteSpace(' ')(3071,3072)
                      ARRAY_LITERAL_EXPRESSION(3072,3080)
                        ARRAY_LITERAL(3072,3080)
                          PsiElement([)('[')(3072,3073)
                          EXPRESSION_LIST(3073,3079)
                            SIMPLE_LITERAL_EXPRESSION(3073,3079)
                              SIMPLE_LITERAL(3073,3079)
                                PsiElement(QUOTED_STRING_LITERAL)('"POST"')(3073,3079)
                          PsiElement(])(']')(3079,3080)
                    PsiElement(,)(',')(3080,3081)
                    PsiWhiteSpace('\n        ')(3081,3090)
                    RECORD_KEY_VALUE(3090,3110)
                      RECORD_KEY(3090,3094)
                        VARIABLE_REFERENCE_EXPRESSION(3090,3094)
                          SIMPLE_VARIABLE_REFERENCE(3090,3094)
                            NAME_REFERENCE(3090,3094)
                              PsiElement(identifier)('path')(3090,3094)
                      PsiElement(:)(':')(3094,3095)
                      PsiWhiteSpace(' ')(3095,3096)
                      SIMPLE_LITERAL_EXPRESSION(3096,3110)
                        SIMPLE_LITERAL(3096,3110)
                          PsiElement(QUOTED_STRING_LITERAL)('"/rawmaterial"')(3096,3110)
                  PsiWhiteSpace('\n    ')(3110,3115)
                  PsiElement(})('}')(3115,3116)
              PsiWhiteSpace('\n    ')(3116,3121)
              PsiElement(resource)('resource')(3121,3129)
              PsiWhiteSpace(' ')(3129,3130)
              PsiElement(function)('function')(3130,3138)
              PsiWhiteSpace(' ')(3138,3139)
              CALLABLE_UNIT_SIGNATURE(3139,3196)
                ANY_IDENTIFIER_NAME(3139,3158)
                  PsiElement(identifier)('rawmaterialrequests')(3139,3158)
                PsiElement(()('(')(3158,3159)
                FORMAL_PARAMETER_LIST(3159,3195)
                  PARAMETER(3159,3177)
                    PARAMETER_WITH_TYPE(3159,3177)
                      SIMPLE_TYPE_NAME(3159,3170)
                        REFERENCE_TYPE_NAME(3159,3170)
                          USER_DEFINE_TYPE_NAME(3159,3170)
                            NAME_REFERENCE(3159,3170)
                              PACKAGE_REFERENCE(3159,3164)
                                PsiElement(identifier)('http')(3159,3163)
                                PsiElement(:)(':')(3163,3164)
                              PsiElement(identifier)('Caller')(3164,3170)
                      PsiWhiteSpace(' ')(3170,3171)
                      PsiElement(identifier)('caller')(3171,3177)
                  PsiElement(,)(',')(3177,3178)
                  PsiWhiteSpace(' ')(3178,3179)
                  PARAMETER(3179,3195)
                    PARAMETER_WITH_TYPE(3179,3195)
                      SIMPLE_TYPE_NAME(3179,3191)
                        REFERENCE_TYPE_NAME(3179,3191)
                          USER_DEFINE_TYPE_NAME(3179,3191)
                            NAME_REFERENCE(3179,3191)
                              PACKAGE_REFERENCE(3179,3184)
                                PsiElement(identifier)('http')(3179,3183)
                                PsiElement(:)(':')(3183,3184)
                              PsiElement(identifier)('Request')(3184,3191)
                      PsiWhiteSpace(' ')(3191,3192)
                      PsiElement(identifier)('req')(3192,3195)
                PsiElement())(')')(3195,3196)
              PsiWhiteSpace(' ')(3196,3197)
              CALLABLE_UNIT_BODY(3197,3827)
                PsiElement({)('{')(3197,3198)
                PsiWhiteSpace('\n        ')(3198,3207)
                STATEMENT(3207,3242)
                  VARIABLE_DEFINITION_STATEMENT(3207,3242)
                    VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(3207,3242)
                      PsiElement(var)('var')(3207,3210)
                      PsiWhiteSpace(' ')(3210,3211)
                      BINDING_PATTERN(3211,3218)
                        PsiElement(identifier)('jsonMsg')(3211,3218)
                      PsiWhiteSpace(' ')(3218,3219)
                      PsiElement(=)('=')(3219,3220)
                      PsiWhiteSpace(' ')(3220,3221)
                      VARIABLE_REFERENCE_EXPRESSION(3221,3241)
                        INVOCATION_REFERENCE(3221,3241)
                          SIMPLE_VARIABLE_REFERENCE(3221,3224)
                            NAME_REFERENCE(3221,3224)
                              PsiElement(identifier)('req')(3221,3224)
                          INVOCATION(3224,3241)
                            PsiElement(.)('.')(3224,3225)
                            ANY_IDENTIFIER_NAME(3225,3239)
                              PsiElement(identifier)('getJsonPayload')(3225,3239)
                            PsiElement(()('(')(3239,3240)
                            PsiElement())(')')(3240,3241)
                      PsiElement(;)(';')(3241,3242)
                PsiWhiteSpace('\n        ')(3242,3251)
                STATEMENT(3251,3821)
                  IF_ELSE_STATEMENT(3251,3821)
                    IF_CLAUSE(3251,3619)
                      PsiElement(if)('if')(3251,3253)
                      PsiWhiteSpace(' ')(3253,3254)
                      BRACED_OR_TUPLE_EXPRESSION(3254,3271)
                        TUPLE_LITERAL(3254,3271)
                          PsiElement(()('(')(3254,3255)
                          TYPE_TEST_EXPRESSION(3255,3270)
                            VARIABLE_REFERENCE_EXPRESSION(3255,3262)
                              SIMPLE_VARIABLE_REFERENCE(3255,3262)
                                NAME_REFERENCE(3255,3262)
                                  PsiElement(identifier)('jsonMsg')(3255,3262)
                            PsiWhiteSpace(' ')(3262,3263)
                            PsiElement(is)('is')(3263,3265)
                            PsiWhiteSpace(' ')(3265,3266)
                            SIMPLE_TYPE_NAME(3266,3270)
                              REFERENCE_TYPE_NAME(3266,3270)
                                BUILT_IN_REFERENCE_TYPE_NAME(3266,3270)
                                  JSON_TYPE_NAME(3266,3270)
                                    PsiElement(json)('json')(3266,3270)
                          PsiElement())(')')(3270,3271)
                      PsiWhiteSpace(' ')(3271,3272)
                      PsiElement({)('{')(3272,3273)
                      PsiWhiteSpace('\n            ')(3273,3286)
                      BLOCK(3286,3609)
                        STATEMENT(3286,3341)
                          VARIABLE_DEFINITION_STATEMENT(3286,3341)
                            VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(3286,3341)
                              PsiElement(var)('var')(3286,3289)
                              PsiWhiteSpace(' ')(3289,3290)
                              BINDING_PATTERN(3290,3305)
                                PsiElement(identifier)('productMaterial')(3290,3305)
                              PsiWhiteSpace(' ')(3305,3306)
                              PsiElement(=)('=')(3306,3307)
                              PsiWhiteSpace(' ')(3307,3308)
                              VARIABLE_REFERENCE_EXPRESSION(3308,3340)
                                INVOCATION_REFERENCE(3308,3340)
                                  SIMPLE_VARIABLE_REFERENCE(3308,3323)
                                    NAME_REFERENCE(3308,3323)
                                      PsiElement(identifier)('ProductMaterial')(3308,3323)
                                  INVOCATION(3323,3340)
                                    PsiElement(.)('.')(3323,3324)
                                    ANY_IDENTIFIER_NAME(3324,3331)
                                      PsiElement(identifier)('convert')(3324,3331)
                                    PsiElement(()('(')(3331,3332)
                                    INVOCATION_ARG_LIST(3332,3339)
                                      INVOCATION_ARG(3332,3339)
                                        VARIABLE_REFERENCE_EXPRESSION(3332,3339)
                                          SIMPLE_VARIABLE_REFERENCE(3332,3339)
                                            NAME_REFERENCE(3332,3339)
                                              PsiElement(identifier)('jsonMsg')(3332,3339)
                                    PsiElement())(')')(3339,3340)
                              PsiElement(;)(';')(3340,3341)
                        PsiWhiteSpace('\n            ')(3341,3354)
                        STATEMENT(3354,3397)
                          EXPRESSION_STMT(3354,3397)
                            VARIABLE_REFERENCE_EXPRESSION(3354,3396)
                              INVOCATION_REFERENCE(3354,3396)
                                SIMPLE_VARIABLE_REFERENCE(3354,3371)
                                  NAME_REFERENCE(3354,3371)
                                    PsiElement(identifier)('rawMaterialStream')(3354,3371)
                                INVOCATION(3371,3396)
                                  PsiElement(.)('.')(3371,3372)
                                  ANY_IDENTIFIER_NAME(3372,3379)
                                    PsiElement(identifier)('publish')(3372,3379)
                                  PsiElement(()('(')(3379,3380)
                                  INVOCATION_ARG_LIST(3380,3395)
                                    INVOCATION_ARG(3380,3395)
                                      VARIABLE_REFERENCE_EXPRESSION(3380,3395)
                                        SIMPLE_VARIABLE_REFERENCE(3380,3395)
                                          NAME_REFERENCE(3380,3395)
                                            PsiElement(identifier)('productMaterial')(3380,3395)
                                  PsiElement())(')')(3395,3396)
                            PsiElement(;)(';')(3396,3397)
                        PsiWhiteSpace('\n\n            ')(3397,3411)
                        STATEMENT(3411,3435)
                          VARIABLE_DEFINITION_STATEMENT(3411,3435)
                            VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(3411,3435)
                              SIMPLE_TYPE_NAME(3411,3424)
                                REFERENCE_TYPE_NAME(3411,3424)
                                  USER_DEFINE_TYPE_NAME(3411,3424)
                                    NAME_REFERENCE(3411,3424)
                                      PACKAGE_REFERENCE(3411,3416)
                                        PsiElement(identifier)('http')(3411,3415)
                                        PsiElement(:)(':')(3415,3416)
                                      PsiElement(identifier)('Response')(3416,3424)
                              PsiWhiteSpace(' ')(3424,3425)
                              BINDING_PATTERN(3425,3428)
                                PsiElement(identifier)('res')(3425,3428)
                              PsiWhiteSpace(' ')(3428,3429)
                              PsiElement(=)('=')(3429,3430)
                              PsiWhiteSpace(' ')(3430,3431)
                              TYPE_INIT_EXPRESSION(3431,3434)
                                INIT_WITHOUT_TYPE(3431,3434)
                                  PsiElement(new)('new')(3431,3434)
                              PsiElement(;)(';')(3434,3435)
                        PsiWhiteSpace('\n            ')(3435,3448)
                        STATEMENT(3448,3571)
                          EXPRESSION_STMT(3448,3571)
                            VARIABLE_REFERENCE_EXPRESSION(3448,3570)
                              INVOCATION_REFERENCE(3448,3570)
                                SIMPLE_VARIABLE_REFERENCE(3448,3451)
                                  NAME_REFERENCE(3448,3451)
                                    PsiElement(identifier)('res')(3448,3451)
                                INVOCATION(3451,3570)
                                  PsiElement(.)('.')(3451,3452)
                                  ANY_IDENTIFIER_NAME(3452,3466)
                                    PsiElement(identifier)('setJsonPayload')(3452,3466)
                                  PsiElement(()('(')(3466,3467)
                                  INVOCATION_ARG_LIST(3467,3569)
                                    INVOCATION_ARG(3467,3569)
                                      RECORD_LITERAL_EXPRESSION(3467,3569)
                                        RECORD_LITERAL(3467,3569)
                                          PsiElement({)('{')(3467,3468)
                                          RECORD_LITERAL_BODY(3468,3568)
                                            RECORD_KEY_VALUE(3468,3568)
                                              RECORD_KEY(3468,3477)
                                                SIMPLE_LITERAL_EXPRESSION(3468,3477)
                                                  SIMPLE_LITERAL(3468,3477)
                                                    PsiElement(QUOTED_STRING_LITERAL)('"message"')(3468,3477)
                                              PsiElement(:)(':')(3477,3478)
                                              PsiWhiteSpace(' ')(3478,3479)
                                              BINARY_ADD_SUB_EXPRESSION(3479,3568)
                                                SIMPLE_LITERAL_EXPRESSION(3479,3501)
                                                  SIMPLE_LITERAL(3479,3501)
                                                    PsiElement(QUOTED_STRING_LITERAL)('"Raw material request"')(3479,3501)
                                                PsiWhiteSpace('\n                                        ')(3501,3542)
                                                PsiElement(+)('+')(3542,3543)
                                                PsiWhiteSpace(' ')(3543,3544)
                                                SIMPLE_LITERAL_EXPRESSION(3544,3568)
                                                  SIMPLE_LITERAL(3544,3568)
                                                    PsiElement(QUOTED_STRING_LITERAL)('" successfully received"')(3544,3568)
                                          PsiElement(})('}')(3568,3569)
                                  PsiElement())(')')(3569,3570)
                            PsiElement(;)(';')(3570,3571)
                        PsiWhiteSpace('\n            ')(3571,3584)
                        STATEMENT(3584,3609)
                          ASSIGNMENT_STATEMENT(3584,3609)
                            SIMPLE_VARIABLE_REFERENCE(3584,3585)
                              NAME_REFERENCE(3584,3585)
                                PsiElement(identifier)('_')(3584,3585)
                            PsiWhiteSpace(' ')(3585,3586)
                            PsiElement(=)('=')(3586,3587)
                            PsiWhiteSpace(' ')(3587,3588)
                            ACTION_INVOCATION_EXPRESSION(3588,3608)
                              ACTION_INVOCATION(3588,3608)
                                SIMPLE_VARIABLE_REFERENCE(3588,3594)
                                  NAME_REFERENCE(3588,3594)
                                    PsiElement(identifier)('caller')(3588,3594)
                                PsiElement(->)('->')(3594,3596)
                                FUNCTION_INVOCATION(3596,3608)
                                  FUNCTION_NAME_REFERENCE(3596,3603)
                                    ANY_IDENTIFIER_NAME(3596,3603)
                                      PsiElement(identifier)('respond')(3596,3603)
                                  PsiElement(()('(')(3603,3604)
                                  INVOCATION_ARG_LIST(3604,3607)
                                    INVOCATION_ARG(3604,3607)
                                      VARIABLE_REFERENCE_EXPRESSION(3604,3607)
                                        SIMPLE_VARIABLE_REFERENCE(3604,3607)
                                          NAME_REFERENCE(3604,3607)
                                            PsiElement(identifier)('res')(3604,3607)
                                  PsiElement())(')')(3607,3608)
                            PsiElement(;)(';')(3608,3609)
                      PsiWhiteSpace('\n        ')(3609,3618)
                      PsiElement(})('}')(3618,3619)
                    PsiWhiteSpace(' ')(3619,3620)
                    ELSE_IF_CLAUSE(3620,3821)
                      PsiElement(else)('else')(3620,3624)
                      PsiWhiteSpace(' ')(3624,3625)
                      PsiElement(if)('if')(3625,3627)
                      PsiWhiteSpace(' ')(3627,3628)
                      BRACED_OR_TUPLE_EXPRESSION(3628,3646)
                        TUPLE_LITERAL(3628,3646)
                          PsiElement(()('(')(3628,3629)
                          TYPE_TEST_EXPRESSION(3629,3645)
                            VARIABLE_REFERENCE_EXPRESSION(3629,3636)
                              SIMPLE_VARIABLE_REFERENCE(3629,3636)
                                NAME_REFERENCE(3629,3636)
                                  PsiElement(identifier)('jsonMsg')(3629,3636)
                            PsiWhiteSpace(' ')(3636,3637)
                            PsiElement(is)('is')(3637,3639)
                            PsiWhiteSpace(' ')(3639,3640)
                            SIMPLE_TYPE_NAME(3640,3645)
                              REFERENCE_TYPE_NAME(3640,3645)
                                BUILT_IN_REFERENCE_TYPE_NAME(3640,3645)
                                  ERROR_TYPE_NAME(3640,3645)
                                    PsiElement(error)('error')(3640,3645)
                          PsiElement())(')')(3645,3646)
                      PsiWhiteSpace(' ')(3646,3647)
                      PsiElement({)('{')(3647,3648)
                      PsiWhiteSpace('\n            ')(3648,3661)
                      BLOCK(3661,3811)
                        STATEMENT(3661,3685)
                          VARIABLE_DEFINITION_STATEMENT(3661,3685)
                            VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(3661,3685)
                              SIMPLE_TYPE_NAME(3661,3674)
                                REFERENCE_TYPE_NAME(3661,3674)
                                  USER_DEFINE_TYPE_NAME(3661,3674)
                                    NAME_REFERENCE(3661,3674)
                                      PACKAGE_REFERENCE(3661,3666)
                                        PsiElement(identifier)('http')(3661,3665)
                                        PsiElement(:)(':')(3665,3666)
                                      PsiElement(identifier)('Response')(3666,3674)
                              PsiWhiteSpace(' ')(3674,3675)
                              BINDING_PATTERN(3675,3678)
                                PsiElement(identifier)('res')(3675,3678)
                              PsiWhiteSpace(' ')(3678,3679)
                              PsiElement(=)('=')(3679,3680)
                              PsiWhiteSpace(' ')(3680,3681)
                              TYPE_INIT_EXPRESSION(3681,3684)
                                INIT_WITHOUT_TYPE(3681,3684)
                                  PsiElement(new)('new')(3681,3684)
                              PsiElement(;)(';')(3684,3685)
                        PsiWhiteSpace('\n            ')(3685,3698)
                        STATEMENT(3698,3719)
                          ASSIGNMENT_STATEMENT(3698,3719)
                            FIELD_VARIABLE_REFERENCE(3698,3712)
                              SIMPLE_VARIABLE_REFERENCE(3698,3701)
                                NAME_REFERENCE(3698,3701)
                                  PsiElement(identifier)('res')(3698,3701)
                              FIELD(3701,3712)
                                PsiElement(.)('.')(3701,3702)
                                PsiElement(identifier)('statusCode')(3702,3712)
                            PsiWhiteSpace(' ')(3712,3713)
                            PsiElement(=)('=')(3713,3714)
                            PsiWhiteSpace(' ')(3714,3715)
                            SIMPLE_LITERAL_EXPRESSION(3715,3718)
                              SIMPLE_LITERAL(3715,3718)
                                INTEGER_LITERAL(3715,3718)
                                  PsiElement(DECIMAL_INTEGER_LITERAL)('500')(3715,3718)
                            PsiElement(;)(';')(3718,3719)
                        PsiWhiteSpace('\n            ')(3719,3732)
                        STATEMENT(3732,3773)
                          EXPRESSION_STMT(3732,3773)
                            VARIABLE_REFERENCE_EXPRESSION(3732,3772)
                              INVOCATION_REFERENCE(3732,3772)
                                SIMPLE_VARIABLE_REFERENCE(3732,3735)
                                  NAME_REFERENCE(3732,3735)
                                    PsiElement(identifier)('res')(3732,3735)
                                INVOCATION(3735,3772)
                                  PsiElement(.)('.')(3735,3736)
                                  ANY_IDENTIFIER_NAME(3736,3746)
                                    PsiElement(identifier)('setPayload')(3736,3746)
                                  PsiElement(()('(')(3746,3747)
                                  INVOCATION_ARG_LIST(3747,3771)
                                    INVOCATION_ARG(3747,3771)
                                      UNARY_EXPRESSION(3747,3771)
                                        PsiElement(untaint)('untaint')(3747,3754)
                                        PsiWhiteSpace(' ')(3754,3755)
                                        VARIABLE_REFERENCE_EXPRESSION(3755,3771)
                                          INVOCATION_REFERENCE(3755,3771)
                                            SIMPLE_VARIABLE_REFERENCE(3755,3762)
                                              NAME_REFERENCE(3755,3762)
                                                PsiElement(identifier)('jsonMsg')(3755,3762)
                                            INVOCATION(3762,3771)
                                              PsiElement(.)('.')(3762,3763)
                                              ANY_IDENTIFIER_NAME(3763,3769)
                                                PsiElement(identifier)('reason')(3763,3769)
                                              PsiElement(()('(')(3769,3770)
                                              PsiElement())(')')(3770,3771)
                                  PsiElement())(')')(3771,3772)
                            PsiElement(;)(';')(3772,3773)
                        PsiWhiteSpace('\n            ')(3773,3786)
                        STATEMENT(3786,3811)
                          ASSIGNMENT_STATEMENT(3786,3811)
                            SIMPLE_VARIABLE_REFERENCE(3786,3787)
                              NAME_REFERENCE(3786,3787)
                                PsiElement(identifier)('_')(3786,3787)
                            PsiWhiteSpace(' ')(3787,3788)
                            PsiElement(=)('=')(3788,3789)
                            PsiWhiteSpace(' ')(3789,3790)
                            ACTION_INVOCATION_EXPRESSION(3790,3810)
                              ACTION_INVOCATION(3790,3810)
                                SIMPLE_VARIABLE_REFERENCE(3790,3796)
                                  NAME_REFERENCE(3790,3796)
                                    PsiElement(identifier)('caller')(3790,3796)
                                PsiElement(->)('->')(3796,3798)
                                FUNCTION_INVOCATION(3798,3810)
                                  FUNCTION_NAME_REFERENCE(3798,3805)
                                    ANY_IDENTIFIER_NAME(3798,3805)
                                      PsiElement(identifier)('respond')(3798,3805)
                                  PsiElement(()('(')(3805,3806)
                                  INVOCATION_ARG_LIST(3806,3809)
                                    INVOCATION_ARG(3806,3809)
                                      VARIABLE_REFERENCE_EXPRESSION(3806,3809)
                                        SIMPLE_VARIABLE_REFERENCE(3806,3809)
                                          NAME_REFERENCE(3806,3809)
                                            PsiElement(identifier)('res')(3806,3809)
                                  PsiElement())(')')(3809,3810)
                            PsiElement(;)(';')(3810,3811)
                      PsiWhiteSpace('\n        ')(3811,3820)
                      PsiElement(})('}')(3820,3821)
                PsiWhiteSpace('\n    ')(3821,3826)
                PsiElement(})('}')(3826,3827)
          PsiWhiteSpace('\n\n    ')(3827,3833)
          SERVICE_BODY_MEMBER(3833,4678)
            OBJECT_FUNCTION_DEFINITION(3833,4678)
              ANNOTATION_ATTACHMENT(3833,3924)
                PsiElement(@)('@')(3833,3834)
                NAME_REFERENCE(3834,3853)
                  PACKAGE_REFERENCE(3834,3839)
                    PsiElement(identifier)('http')(3834,3838)
                    PsiElement(:)(':')(3838,3839)
                  PsiElement(identifier)('ResourceConfig')(3839,3853)
                PsiWhiteSpace(' ')(3853,3854)
                RECORD_LITERAL(3854,3924)
                  PsiElement({)('{')(3854,3855)
                  PsiWhiteSpace('\n        ')(3855,3864)
                  RECORD_LITERAL_BODY(3864,3918)
                    RECORD_KEY_VALUE(3864,3881)
                      RECORD_KEY(3864,3871)
                        VARIABLE_REFERENCE_EXPRESSION(3864,3871)
                          SIMPLE_VARIABLE_REFERENCE(3864,3871)
                            NAME_REFERENCE(3864,3871)
                              PsiElement(identifier)('methods')(3864,3871)
                      PsiElement(:)(':')(3871,3872)
                      PsiWhiteSpace(' ')(3872,3873)
                      ARRAY_LITERAL_EXPRESSION(3873,3881)
                        ARRAY_LITERAL(3873,3881)
                          PsiElement([)('[')(3873,3874)
                          EXPRESSION_LIST(3874,3880)
                            SIMPLE_LITERAL_EXPRESSION(3874,3880)
                              SIMPLE_LITERAL(3874,3880)
                                PsiElement(QUOTED_STRING_LITERAL)('"POST"')(3874,3880)
                          PsiElement(])(']')(3880,3881)
                    PsiElement(,)(',')(3881,3882)
                    PsiWhiteSpace('\n        ')(3882,3891)
                    RECORD_KEY_VALUE(3891,3918)
                      RECORD_KEY(3891,3895)
                        VARIABLE_REFERENCE_EXPRESSION(3891,3895)
                          SIMPLE_VARIABLE_REFERENCE(3891,3895)
                            NAME_REFERENCE(3891,3895)
                              PsiElement(identifier)('path')(3891,3895)
                      PsiElement(:)(':')(3895,3896)
                      PsiWhiteSpace(' ')(3896,3897)
                      SIMPLE_LITERAL_EXPRESSION(3897,3918)
                        SIMPLE_LITERAL(3897,3918)
                          PsiElement(QUOTED_STRING_LITERAL)('"/productionmaterial"')(3897,3918)
                  PsiWhiteSpace('\n    ')(3918,3923)
                  PsiElement(})('}')(3923,3924)
              PsiWhiteSpace('\n    ')(3924,3929)
              PsiElement(resource)('resource')(3929,3937)
              PsiWhiteSpace(' ')(3937,3938)
              PsiElement(function)('function')(3938,3946)
              PsiWhiteSpace(' ')(3946,3947)
              CALLABLE_UNIT_SIGNATURE(3947,4042)
                ANY_IDENTIFIER_NAME(3947,3973)
                  PsiElement(identifier)('productionmaterialrequests')(3947,3973)
                PsiElement(()('(')(3973,3974)
                FORMAL_PARAMETER_LIST(3974,4041)
                  PARAMETER(3974,3992)
                    PARAMETER_WITH_TYPE(3974,3992)
                      SIMPLE_TYPE_NAME(3974,3985)
                        REFERENCE_TYPE_NAME(3974,3985)
                          USER_DEFINE_TYPE_NAME(3974,3985)
                            NAME_REFERENCE(3974,3985)
                              PACKAGE_REFERENCE(3974,3979)
                                PsiElement(identifier)('http')(3974,3978)
                                PsiElement(:)(':')(3978,3979)
                              PsiElement(identifier)('Caller')(3979,3985)
                      PsiWhiteSpace(' ')(3985,3986)
                      PsiElement(identifier)('caller')(3986,3992)
                  PsiElement(,)(',')(3992,3993)
                  PsiWhiteSpace('\n                               ')(3993,4025)
                  PARAMETER(4025,4041)
                    PARAMETER_WITH_TYPE(4025,4041)
                      SIMPLE_TYPE_NAME(4025,4037)
                        REFERENCE_TYPE_NAME(4025,4037)
                          USER_DEFINE_TYPE_NAME(4025,4037)
                            NAME_REFERENCE(4025,4037)
                              PACKAGE_REFERENCE(4025,4030)
                                PsiElement(identifier)('http')(4025,4029)
                                PsiElement(:)(':')(4029,4030)
                              PsiElement(identifier)('Request')(4030,4037)
                      PsiWhiteSpace(' ')(4037,4038)
                      PsiElement(identifier)('req')(4038,4041)
                PsiElement())(')')(4041,4042)
              PsiWhiteSpace(' ')(4042,4043)
              CALLABLE_UNIT_BODY(4043,4678)
                PsiElement({)('{')(4043,4044)
                PsiWhiteSpace('\n        ')(4044,4053)
                STATEMENT(4053,4088)
                  VARIABLE_DEFINITION_STATEMENT(4053,4088)
                    VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(4053,4088)
                      PsiElement(var)('var')(4053,4056)
                      PsiWhiteSpace(' ')(4056,4057)
                      BINDING_PATTERN(4057,4064)
                        PsiElement(identifier)('jsonMsg')(4057,4064)
                      PsiWhiteSpace(' ')(4064,4065)
                      PsiElement(=)('=')(4065,4066)
                      PsiWhiteSpace(' ')(4066,4067)
                      VARIABLE_REFERENCE_EXPRESSION(4067,4087)
                        INVOCATION_REFERENCE(4067,4087)
                          SIMPLE_VARIABLE_REFERENCE(4067,4070)
                            NAME_REFERENCE(4067,4070)
                              PsiElement(identifier)('req')(4067,4070)
                          INVOCATION(4070,4087)
                            PsiElement(.)('.')(4070,4071)
                            ANY_IDENTIFIER_NAME(4071,4085)
                              PsiElement(identifier)('getJsonPayload')(4071,4085)
                            PsiElement(()('(')(4085,4086)
                            PsiElement())(')')(4086,4087)
                      PsiElement(;)(';')(4087,4088)
                PsiWhiteSpace('\n        ')(4088,4097)
                STATEMENT(4097,4672)
                  IF_ELSE_STATEMENT(4097,4672)
                    IF_CLAUSE(4097,4470)
                      PsiElement(if)('if')(4097,4099)
                      PsiWhiteSpace(' ')(4099,4100)
                      BRACED_OR_TUPLE_EXPRESSION(4100,4117)
                        TUPLE_LITERAL(4100,4117)
                          PsiElement(()('(')(4100,4101)
                          TYPE_TEST_EXPRESSION(4101,4116)
                            VARIABLE_REFERENCE_EXPRESSION(4101,4108)
                              SIMPLE_VARIABLE_REFERENCE(4101,4108)
                                NAME_REFERENCE(4101,4108)
                                  PsiElement(identifier)('jsonMsg')(4101,4108)
                            PsiWhiteSpace(' ')(4108,4109)
                            PsiElement(is)('is')(4109,4111)
                            PsiWhiteSpace(' ')(4111,4112)
                            SIMPLE_TYPE_NAME(4112,4116)
                              REFERENCE_TYPE_NAME(4112,4116)
                                BUILT_IN_REFERENCE_TYPE_NAME(4112,4116)
                                  JSON_TYPE_NAME(4112,4116)
                                    PsiElement(json)('json')(4112,4116)
                          PsiElement())(')')(4116,4117)
                      PsiWhiteSpace(' ')(4117,4118)
                      PsiElement({)('{')(4118,4119)
                      PsiWhiteSpace('\n            ')(4119,4132)
                      BLOCK(4132,4459)
                        STATEMENT(4132,4187)
                          VARIABLE_DEFINITION_STATEMENT(4132,4187)
                            VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(4132,4187)
                              PsiElement(var)('var')(4132,4135)
                              PsiWhiteSpace(' ')(4135,4136)
                              BINDING_PATTERN(4136,4151)
                                PsiElement(identifier)('productMaterial')(4136,4151)
                              PsiWhiteSpace(' ')(4151,4152)
                              PsiElement(=)('=')(4152,4153)
                              PsiWhiteSpace(' ')(4153,4154)
                              VARIABLE_REFERENCE_EXPRESSION(4154,4186)
                                INVOCATION_REFERENCE(4154,4186)
                                  SIMPLE_VARIABLE_REFERENCE(4154,4169)
                                    NAME_REFERENCE(4154,4169)
                                      PsiElement(identifier)('ProductMaterial')(4154,4169)
                                  INVOCATION(4169,4186)
                                    PsiElement(.)('.')(4169,4170)
                                    ANY_IDENTIFIER_NAME(4170,4177)
                                      PsiElement(identifier)('convert')(4170,4177)
                                    PsiElement(()('(')(4177,4178)
                                    INVOCATION_ARG_LIST(4178,4185)
                                      INVOCATION_ARG(4178,4185)
                                        VARIABLE_REFERENCE_EXPRESSION(4178,4185)
                                          SIMPLE_VARIABLE_REFERENCE(4178,4185)
                                            NAME_REFERENCE(4178,4185)
                                              PsiElement(identifier)('jsonMsg')(4178,4185)
                                    PsiElement())(')')(4185,4186)
                              PsiElement(;)(';')(4186,4187)
                        PsiWhiteSpace('\n            ')(4187,4200)
                        STATEMENT(4200,4247)
                          EXPRESSION_STMT(4200,4247)
                            VARIABLE_REFERENCE_EXPRESSION(4200,4246)
                              INVOCATION_REFERENCE(4200,4246)
                                SIMPLE_VARIABLE_REFERENCE(4200,4221)
                                  NAME_REFERENCE(4200,4221)
                                    PsiElement(identifier)('productionInputStream')(4200,4221)
                                INVOCATION(4221,4246)
                                  PsiElement(.)('.')(4221,4222)
                                  ANY_IDENTIFIER_NAME(4222,4229)
                                    PsiElement(identifier)('publish')(4222,4229)
                                  PsiElement(()('(')(4229,4230)
                                  INVOCATION_ARG_LIST(4230,4245)
                                    INVOCATION_ARG(4230,4245)
                                      VARIABLE_REFERENCE_EXPRESSION(4230,4245)
                                        SIMPLE_VARIABLE_REFERENCE(4230,4245)
                                          NAME_REFERENCE(4230,4245)
                                            PsiElement(identifier)('productMaterial')(4230,4245)
                                  PsiElement())(')')(4245,4246)
                            PsiElement(;)(';')(4246,4247)
                        PsiWhiteSpace('\n\n            ')(4247,4261)
                        STATEMENT(4261,4285)
                          VARIABLE_DEFINITION_STATEMENT(4261,4285)
                            VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(4261,4285)
                              SIMPLE_TYPE_NAME(4261,4274)
                                REFERENCE_TYPE_NAME(4261,4274)
                                  USER_DEFINE_TYPE_NAME(4261,4274)
                                    NAME_REFERENCE(4261,4274)
                                      PACKAGE_REFERENCE(4261,4266)
                                        PsiElement(identifier)('http')(4261,4265)
                                        PsiElement(:)(':')(4265,4266)
                                      PsiElement(identifier)('Response')(4266,4274)
                              PsiWhiteSpace(' ')(4274,4275)
                              BINDING_PATTERN(4275,4278)
                                PsiElement(identifier)('res')(4275,4278)
                              PsiWhiteSpace(' ')(4278,4279)
                              PsiElement(=)('=')(4279,4280)
                              PsiWhiteSpace(' ')(4280,4281)
                              TYPE_INIT_EXPRESSION(4281,4284)
                                INIT_WITHOUT_TYPE(4281,4284)
                                  PsiElement(new)('new')(4281,4284)
                              PsiElement(;)(';')(4284,4285)
                        PsiWhiteSpace('\n            ')(4285,4298)
                        STATEMENT(4298,4421)
                          EXPRESSION_STMT(4298,4421)
                            VARIABLE_REFERENCE_EXPRESSION(4298,4420)
                              INVOCATION_REFERENCE(4298,4420)
                                SIMPLE_VARIABLE_REFERENCE(4298,4301)
                                  NAME_REFERENCE(4298,4301)
                                    PsiElement(identifier)('res')(4298,4301)
                                INVOCATION(4301,4420)
                                  PsiElement(.)('.')(4301,4302)
                                  ANY_IDENTIFIER_NAME(4302,4316)
                                    PsiElement(identifier)('setJsonPayload')(4302,4316)
                                  PsiElement(()('(')(4316,4317)
                                  INVOCATION_ARG_LIST(4317,4419)
                                    INVOCATION_ARG(4317,4419)
                                      RECORD_LITERAL_EXPRESSION(4317,4419)
                                        RECORD_LITERAL(4317,4419)
                                          PsiElement({)('{')(4317,4318)
                                          RECORD_LITERAL_BODY(4318,4418)
                                            RECORD_KEY_VALUE(4318,4418)
                                              RECORD_KEY(4318,4327)
                                                SIMPLE_LITERAL_EXPRESSION(4318,4327)
                                                  SIMPLE_LITERAL(4318,4327)
                                                    PsiElement(QUOTED_STRING_LITERAL)('"message"')(4318,4327)
                                              PsiElement(:)(':')(4327,4328)
                                              PsiWhiteSpace(' ')(4328,4329)
                                              BINARY_ADD_SUB_EXPRESSION(4329,4418)
                                                SIMPLE_LITERAL_EXPRESSION(4329,4348)
                                                  SIMPLE_LITERAL(4329,4348)
                                                    PsiElement(QUOTED_STRING_LITERAL)('"Production input "')(4329,4348)
                                                PsiWhiteSpace(' ')(4348,4349)
                                                PsiElement(+)('+')(4349,4350)
                                                PsiWhiteSpace('\n                                    ')(4350,4387)
                                                SIMPLE_LITERAL_EXPRESSION(4387,4418)
                                                  SIMPLE_LITERAL(4387,4418)
                                                    PsiElement(QUOTED_STRING_LITERAL)('"request successfully received"')(4387,4418)
                                          PsiElement(})('}')(4418,4419)
                                  PsiElement())(')')(4419,4420)
                            PsiElement(;)(';')(4420,4421)
                        PsiWhiteSpace('\n            ')(4421,4434)
                        STATEMENT(4434,4459)
                          ASSIGNMENT_STATEMENT(4434,4459)
                            SIMPLE_VARIABLE_REFERENCE(4434,4435)
                              NAME_REFERENCE(4434,4435)
                                PsiElement(identifier)('_')(4434,4435)
                            PsiWhiteSpace(' ')(4435,4436)
                            PsiElement(=)('=')(4436,4437)
                            PsiWhiteSpace(' ')(4437,4438)
                            ACTION_INVOCATION_EXPRESSION(4438,4458)
                              ACTION_INVOCATION(4438,4458)
                                SIMPLE_VARIABLE_REFERENCE(4438,4444)
                                  NAME_REFERENCE(4438,4444)
                                    PsiElement(identifier)('caller')(4438,4444)
                                PsiElement(->)('->')(4444,4446)
                                FUNCTION_INVOCATION(4446,4458)
                                  FUNCTION_NAME_REFERENCE(4446,4453)
                                    ANY_IDENTIFIER_NAME(4446,4453)
                                      PsiElement(identifier)('respond')(4446,4453)
                                  PsiElement(()('(')(4453,4454)
                                  INVOCATION_ARG_LIST(4454,4457)
                                    INVOCATION_ARG(4454,4457)
                                      VARIABLE_REFERENCE_EXPRESSION(4454,4457)
                                        SIMPLE_VARIABLE_REFERENCE(4454,4457)
                                          NAME_REFERENCE(4454,4457)
                                            PsiElement(identifier)('res')(4454,4457)
                                  PsiElement())(')')(4457,4458)
                            PsiElement(;)(';')(4458,4459)
                      PsiWhiteSpace('\n\n        ')(4459,4469)
                      PsiElement(})('}')(4469,4470)
                    PsiWhiteSpace(' ')(4470,4471)
                    ELSE_IF_CLAUSE(4471,4672)
                      PsiElement(else)('else')(4471,4475)
                      PsiWhiteSpace(' ')(4475,4476)
                      PsiElement(if)('if')(4476,4478)
                      PsiWhiteSpace(' ')(4478,4479)
                      BRACED_OR_TUPLE_EXPRESSION(4479,4497)
                        TUPLE_LITERAL(4479,4497)
                          PsiElement(()('(')(4479,4480)
                          TYPE_TEST_EXPRESSION(4480,4496)
                            VARIABLE_REFERENCE_EXPRESSION(4480,4487)
                              SIMPLE_VARIABLE_REFERENCE(4480,4487)
                                NAME_REFERENCE(4480,4487)
                                  PsiElement(identifier)('jsonMsg')(4480,4487)
                            PsiWhiteSpace(' ')(4487,4488)
                            PsiElement(is)('is')(4488,4490)
                            PsiWhiteSpace(' ')(4490,4491)
                            SIMPLE_TYPE_NAME(4491,4496)
                              REFERENCE_TYPE_NAME(4491,4496)
                                BUILT_IN_REFERENCE_TYPE_NAME(4491,4496)
                                  ERROR_TYPE_NAME(4491,4496)
                                    PsiElement(error)('error')(4491,4496)
                          PsiElement())(')')(4496,4497)
                      PsiWhiteSpace(' ')(4497,4498)
                      PsiElement({)('{')(4498,4499)
                      PsiWhiteSpace('\n            ')(4499,4512)
                      BLOCK(4512,4662)
                        STATEMENT(4512,4536)
                          VARIABLE_DEFINITION_STATEMENT(4512,4536)
                            VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(4512,4536)
                              SIMPLE_TYPE_NAME(4512,4525)
                                REFERENCE_TYPE_NAME(4512,4525)
                                  USER_DEFINE_TYPE_NAME(4512,4525)
                                    NAME_REFERENCE(4512,4525)
                                      PACKAGE_REFERENCE(4512,4517)
                                        PsiElement(identifier)('http')(4512,4516)
                                        PsiElement(:)(':')(4516,4517)
                                      PsiElement(identifier)('Response')(4517,4525)
                              PsiWhiteSpace(' ')(4525,4526)
                              BINDING_PATTERN(4526,4529)
                                PsiElement(identifier)('res')(4526,4529)
                              PsiWhiteSpace(' ')(4529,4530)
                              PsiElement(=)('=')(4530,4531)
                              PsiWhiteSpace(' ')(4531,4532)
                              TYPE_INIT_EXPRESSION(4532,4535)
                                INIT_WITHOUT_TYPE(4532,4535)
                                  PsiElement(new)('new')(4532,4535)
                              PsiElement(;)(';')(4535,4536)
                        PsiWhiteSpace('\n            ')(4536,4549)
                        STATEMENT(4549,4570)
                          ASSIGNMENT_STATEMENT(4549,4570)
                            FIELD_VARIABLE_REFERENCE(4549,4563)
                              SIMPLE_VARIABLE_REFERENCE(4549,4552)
                                NAME_REFERENCE(4549,4552)
                                  PsiElement(identifier)('res')(4549,4552)
                              FIELD(4552,4563)
                                PsiElement(.)('.')(4552,4553)
                                PsiElement(identifier)('statusCode')(4553,4563)
                            PsiWhiteSpace(' ')(4563,4564)
                            PsiElement(=)('=')(4564,4565)
                            PsiWhiteSpace(' ')(4565,4566)
                            SIMPLE_LITERAL_EXPRESSION(4566,4569)
                              SIMPLE_LITERAL(4566,4569)
                                INTEGER_LITERAL(4566,4569)
                                  PsiElement(DECIMAL_INTEGER_LITERAL)('500')(4566,4569)
                            PsiElement(;)(';')(4569,4570)
                        PsiWhiteSpace('\n            ')(4570,4583)
                        STATEMENT(4583,4624)
                          EXPRESSION_STMT(4583,4624)
                            VARIABLE_REFERENCE_EXPRESSION(4583,4623)
                              INVOCATION_REFERENCE(4583,4623)
                                SIMPLE_VARIABLE_REFERENCE(4583,4586)
                                  NAME_REFERENCE(4583,4586)
                                    PsiElement(identifier)('res')(4583,4586)
                                INVOCATION(4586,4623)
                                  PsiElement(.)('.')(4586,4587)
                                  ANY_IDENTIFIER_NAME(4587,4597)
                                    PsiElement(identifier)('setPayload')(4587,4597)
                                  PsiElement(()('(')(4597,4598)
                                  INVOCATION_ARG_LIST(4598,4622)
                                    INVOCATION_ARG(4598,4622)
                                      UNARY_EXPRESSION(4598,4622)
                                        PsiElement(untaint)('untaint')(4598,4605)
                                        PsiWhiteSpace(' ')(4605,4606)
                                        VARIABLE_REFERENCE_EXPRESSION(4606,4622)
                                          INVOCATION_REFERENCE(4606,4622)
                                            SIMPLE_VARIABLE_REFERENCE(4606,4613)
                                              NAME_REFERENCE(4606,4613)
                                                PsiElement(identifier)('jsonMsg')(4606,4613)
                                            INVOCATION(4613,4622)
                                              PsiElement(.)('.')(4613,4614)
                                              ANY_IDENTIFIER_NAME(4614,4620)
                                                PsiElement(identifier)('reason')(4614,4620)
                                              PsiElement(()('(')(4620,4621)
                                              PsiElement())(')')(4621,4622)
                                  PsiElement())(')')(4622,4623)
                            PsiElement(;)(';')(4623,4624)
                        PsiWhiteSpace('\n            ')(4624,4637)
                        STATEMENT(4637,4662)
                          ASSIGNMENT_STATEMENT(4637,4662)
                            SIMPLE_VARIABLE_REFERENCE(4637,4638)
                              NAME_REFERENCE(4637,4638)
                                PsiElement(identifier)('_')(4637,4638)
                            PsiWhiteSpace(' ')(4638,4639)
                            PsiElement(=)('=')(4639,4640)
                            PsiWhiteSpace(' ')(4640,4641)
                            ACTION_INVOCATION_EXPRESSION(4641,4661)
                              ACTION_INVOCATION(4641,4661)
                                SIMPLE_VARIABLE_REFERENCE(4641,4647)
                                  NAME_REFERENCE(4641,4647)
                                    PsiElement(identifier)('caller')(4641,4647)
                                PsiElement(->)('->')(4647,4649)
                                FUNCTION_INVOCATION(4649,4661)
                                  FUNCTION_NAME_REFERENCE(4649,4656)
                                    ANY_IDENTIFIER_NAME(4649,4656)
                                      PsiElement(identifier)('respond')(4649,4656)
                                  PsiElement(()('(')(4656,4657)
                                  INVOCATION_ARG_LIST(4657,4660)
                                    INVOCATION_ARG(4657,4660)
                                      VARIABLE_REFERENCE_EXPRESSION(4657,4660)
                                        SIMPLE_VARIABLE_REFERENCE(4657,4660)
                                          NAME_REFERENCE(4657,4660)
                                            PsiElement(identifier)('res')(4657,4660)
                                  PsiElement())(')')(4660,4661)
                            PsiElement(;)(';')(4661,4662)
                      PsiWhiteSpace('\n        ')(4662,4671)
                      PsiElement(})('}')(4671,4672)
                PsiWhiteSpace('\n    ')(4672,4677)
                PsiElement(})('}')(4677,4678)
          PsiWhiteSpace('\n')(4678,4679)
          PsiElement(})('}')(4679,4680)
