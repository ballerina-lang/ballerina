Ballerina File(0,1953)
  IMPORT_DECLARATION(0,22)
    PsiElement(import)('import')(0,6)
    PsiWhiteSpace(' ')(6,7)
    ORG_NAME(7,16)
      PsiElement(identifier)('ballerina')(7,16)
    PsiElement(/)('/')(16,17)
    COMPLETE_PACKAGE_NAME(17,21)
      PACKAGE_NAME(17,21)
        PsiElement(identifier)('http')(17,21)
    PsiElement(;)(';')(21,22)
  PsiWhiteSpace('\n')(22,23)
  IMPORT_DECLARATION(23,44)
    PsiElement(import)('import')(23,29)
    PsiWhiteSpace(' ')(29,30)
    ORG_NAME(30,39)
      PsiElement(identifier)('ballerina')(30,39)
    PsiElement(/)('/')(39,40)
    COMPLETE_PACKAGE_NAME(40,43)
      PACKAGE_NAME(40,43)
        PsiElement(identifier)('log')(40,43)
    PsiElement(;)(';')(43,44)
  PsiWhiteSpace('\n\n')(44,46)
  PsiComment(LINE_COMMENT)('// The `basePath` attribute associates a path to the service.')(46,107)
  PsiWhiteSpace('\n')(107,108)
  PsiComment(LINE_COMMENT)('// When bound to a listener endpoint, the service will be accessible at the specified path.')(108,199)
  PsiWhiteSpace('\n')(199,200)
  DEFINITION(200,1747)
    ANNOTATION_ATTACHMENT(200,240)
      PsiElement(@)('@')(200,201)
      NAME_REFERENCE(201,219)
        PACKAGE_REFERENCE(201,206)
          PsiElement(identifier)('http')(201,205)
          PsiElement(:)(':')(205,206)
        PsiElement(identifier)('ServiceConfig')(206,219)
      PsiWhiteSpace(' ')(219,220)
      RECORD_LITERAL(220,240)
        PsiElement({)('{')(220,221)
        PsiWhiteSpace(' ')(221,222)
        RECORD_LITERAL_BODY(222,238)
          RECORD_KEY_VALUE(222,238)
            RECORD_KEY(222,230)
              VARIABLE_REFERENCE_EXPRESSION(222,230)
                SIMPLE_VARIABLE_REFERENCE(222,230)
                  NAME_REFERENCE(222,230)
                    PsiElement(identifier)('basePath')(222,230)
            PsiElement(:)(':')(230,231)
            PsiWhiteSpace(' ')(231,232)
            SIMPLE_LITERAL_EXPRESSION(232,238)
              SIMPLE_LITERAL(232,238)
                PsiElement(QUOTED_STRING_LITERAL)('"/foo"')(232,238)
        PsiWhiteSpace(' ')(238,239)
        PsiElement(})('}')(239,240)
    PsiWhiteSpace('\n')(240,241)
    DEFINITION(241,1747)
      SERVICE_DEFINITION(241,1747)
        PsiElement(service)('service')(241,248)
        PsiWhiteSpace(' ')(248,249)
        PsiElement(identifier)('echo')(249,253)
        PsiWhiteSpace(' ')(253,254)
        PsiElement(on)('on')(254,256)
        PsiWhiteSpace(' ')(256,257)
        EXPRESSION_LIST(257,280)
          TYPE_INIT_EXPRESSION(257,280)
            INIT_WITH_TYPE(257,280)
              PsiElement(new)('new')(257,260)
              PsiWhiteSpace(' ')(260,261)
              USER_DEFINE_TYPE_NAME(261,274)
                NAME_REFERENCE(261,274)
                  PACKAGE_REFERENCE(261,266)
                    PsiElement(identifier)('http')(261,265)
                    PsiElement(:)(':')(265,266)
                  PsiElement(identifier)('Listener')(266,274)
              PsiElement(()('(')(274,275)
              INVOCATION_ARG_LIST(275,279)
                INVOCATION_ARG(275,279)
                  SIMPLE_LITERAL_EXPRESSION(275,279)
                    SIMPLE_LITERAL(275,279)
                      INTEGER_LITERAL(275,279)
                        PsiElement(DECIMAL_INTEGER_LITERAL)('9090')(275,279)
              PsiElement())(')')(279,280)
        PsiWhiteSpace(' ')(280,281)
        SERVICE_BODY(281,1747)
          PsiElement({)('{')(281,282)
          PsiWhiteSpace('\n    ')(282,287)
          PsiComment(LINE_COMMENT)('// When the `methods` attribute is used, it confines the resource to the HTTP methods specified.')(287,383)
          PsiWhiteSpace('\n    ')(383,388)
          PsiComment(LINE_COMMENT)('// In this instance, only `POST` requests are allowed.')(388,442)
          PsiWhiteSpace('\n    ')(442,447)
          PsiComment(LINE_COMMENT)('// The `path` attribute associates a subpath to the resource (i.e., relative to the `basePath` given in the `ServiceConfig` annotation).')(447,583)
          PsiWhiteSpace('\n    ')(583,588)
          SERVICE_BODY_MEMBER(588,1745)
            OBJECT_FUNCTION_DEFINITION(588,1745)
              ANNOTATION_ATTACHMENT(588,664)
                PsiElement(@)('@')(588,589)
                NAME_REFERENCE(589,608)
                  PACKAGE_REFERENCE(589,594)
                    PsiElement(identifier)('http')(589,593)
                    PsiElement(:)(':')(593,594)
                  PsiElement(identifier)('ResourceConfig')(594,608)
                PsiWhiteSpace(' ')(608,609)
                RECORD_LITERAL(609,664)
                  PsiElement({)('{')(609,610)
                  PsiWhiteSpace('\n        ')(610,619)
                  RECORD_LITERAL_BODY(619,658)
                    RECORD_KEY_VALUE(619,636)
                      RECORD_KEY(619,626)
                        VARIABLE_REFERENCE_EXPRESSION(619,626)
                          SIMPLE_VARIABLE_REFERENCE(619,626)
                            NAME_REFERENCE(619,626)
                              PsiElement(identifier)('methods')(619,626)
                      PsiElement(:)(':')(626,627)
                      PsiWhiteSpace(' ')(627,628)
                      ARRAY_LITERAL_EXPRESSION(628,636)
                        ARRAY_LITERAL(628,636)
                          PsiElement([)('[')(628,629)
                          EXPRESSION_LIST(629,635)
                            SIMPLE_LITERAL_EXPRESSION(629,635)
                              SIMPLE_LITERAL(629,635)
                                PsiElement(QUOTED_STRING_LITERAL)('"POST"')(629,635)
                          PsiElement(])(']')(635,636)
                    PsiElement(,)(',')(636,637)
                    PsiWhiteSpace('\n        ')(637,646)
                    RECORD_KEY_VALUE(646,658)
                      RECORD_KEY(646,650)
                        VARIABLE_REFERENCE_EXPRESSION(646,650)
                          SIMPLE_VARIABLE_REFERENCE(646,650)
                            NAME_REFERENCE(646,650)
                              PsiElement(identifier)('path')(646,650)
                      PsiElement(:)(':')(650,651)
                      PsiWhiteSpace(' ')(651,652)
                      SIMPLE_LITERAL_EXPRESSION(652,658)
                        SIMPLE_LITERAL(652,658)
                          PsiElement(QUOTED_STRING_LITERAL)('"/bar"')(652,658)
                  PsiWhiteSpace('\n    ')(658,663)
                  PsiElement(})('}')(663,664)
              PsiWhiteSpace('\n    ')(664,669)
              PsiElement(resource)('resource')(669,677)
              PsiWhiteSpace(' ')(677,678)
              PsiElement(function)('function')(678,686)
              PsiWhiteSpace(' ')(686,687)
              CALLABLE_UNIT_SIGNATURE(687,729)
                ANY_IDENTIFIER_NAME(687,691)
                  PsiElement(identifier)('echo')(687,691)
                PsiElement(()('(')(691,692)
                FORMAL_PARAMETER_LIST(692,728)
                  PARAMETER(692,710)
                    PARAMETER_WITH_TYPE(692,710)
                      SIMPLE_TYPE_NAME(692,703)
                        REFERENCE_TYPE_NAME(692,703)
                          USER_DEFINE_TYPE_NAME(692,703)
                            NAME_REFERENCE(692,703)
                              PACKAGE_REFERENCE(692,697)
                                PsiElement(identifier)('http')(692,696)
                                PsiElement(:)(':')(696,697)
                              PsiElement(identifier)('Caller')(697,703)
                      PsiWhiteSpace(' ')(703,704)
                      PsiElement(identifier)('caller')(704,710)
                  PsiElement(,)(',')(710,711)
                  PsiWhiteSpace(' ')(711,712)
                  PARAMETER(712,728)
                    PARAMETER_WITH_TYPE(712,728)
                      SIMPLE_TYPE_NAME(712,724)
                        REFERENCE_TYPE_NAME(712,724)
                          USER_DEFINE_TYPE_NAME(712,724)
                            NAME_REFERENCE(712,724)
                              PACKAGE_REFERENCE(712,717)
                                PsiElement(identifier)('http')(712,716)
                                PsiElement(:)(':')(716,717)
                              PsiElement(identifier)('Request')(717,724)
                      PsiWhiteSpace(' ')(724,725)
                      PsiElement(identifier)('req')(725,728)
                PsiElement())(')')(728,729)
              PsiWhiteSpace(' ')(729,730)
              CALLABLE_UNIT_BODY(730,1745)
                PsiElement({)('{')(730,731)
                PsiWhiteSpace('\n        ')(731,740)
                PsiComment(LINE_COMMENT)('// This method retrieves the request payload as a JSON.')(740,795)
                PsiWhiteSpace('\n        ')(795,804)
                STATEMENT(804,839)
                  VARIABLE_DEFINITION_STATEMENT(804,839)
                    VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(804,839)
                      PsiElement(var)('var')(804,807)
                      PsiWhiteSpace(' ')(807,808)
                      BINDING_PATTERN(808,815)
                        PsiElement(identifier)('payload')(808,815)
                      PsiWhiteSpace(' ')(815,816)
                      PsiElement(=)('=')(816,817)
                      PsiWhiteSpace(' ')(817,818)
                      VARIABLE_REFERENCE_EXPRESSION(818,838)
                        INVOCATION_REFERENCE(818,838)
                          SIMPLE_VARIABLE_REFERENCE(818,821)
                            NAME_REFERENCE(818,821)
                              PsiElement(identifier)('req')(818,821)
                          INVOCATION(821,838)
                            PsiElement(.)('.')(821,822)
                            ANY_IDENTIFIER_NAME(822,836)
                              PsiElement(identifier)('getJsonPayload')(822,836)
                            PsiElement(()('(')(836,837)
                            PsiElement())(')')(837,838)
                      PsiElement(;)(';')(838,839)
                PsiWhiteSpace('\n        ')(839,848)
                STATEMENT(848,872)
                  VARIABLE_DEFINITION_STATEMENT(848,872)
                    VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(848,872)
                      SIMPLE_TYPE_NAME(848,861)
                        REFERENCE_TYPE_NAME(848,861)
                          USER_DEFINE_TYPE_NAME(848,861)
                            NAME_REFERENCE(848,861)
                              PACKAGE_REFERENCE(848,853)
                                PsiElement(identifier)('http')(848,852)
                                PsiElement(:)(':')(852,853)
                              PsiElement(identifier)('Response')(853,861)
                      PsiWhiteSpace(' ')(861,862)
                      BINDING_PATTERN(862,865)
                        PsiElement(identifier)('res')(862,865)
                      PsiWhiteSpace(' ')(865,866)
                      PsiElement(=)('=')(866,867)
                      PsiWhiteSpace(' ')(867,868)
                      TYPE_INIT_EXPRESSION(868,871)
                        INIT_WITHOUT_TYPE(868,871)
                          PsiElement(new)('new')(868,871)
                      PsiElement(;)(';')(871,872)
                PsiWhiteSpace('\n        ')(872,881)
                STATEMENT(881,1540)
                  IF_ELSE_STATEMENT(881,1540)
                    IF_CLAUSE(881,1397)
                      PsiElement(if)('if')(881,883)
                      PsiWhiteSpace(' ')(883,884)
                      BRACED_OR_TUPLE_EXPRESSION(884,901)
                        TUPLE_LITERAL(884,901)
                          PsiElement(()('(')(884,885)
                          TYPE_TEST_EXPRESSION(885,900)
                            VARIABLE_REFERENCE_EXPRESSION(885,892)
                              SIMPLE_VARIABLE_REFERENCE(885,892)
                                NAME_REFERENCE(885,892)
                                  PsiElement(identifier)('payload')(885,892)
                            PsiWhiteSpace(' ')(892,893)
                            PsiElement(is)('is')(893,895)
                            PsiWhiteSpace(' ')(895,896)
                            SIMPLE_TYPE_NAME(896,900)
                              REFERENCE_TYPE_NAME(896,900)
                                BUILT_IN_REFERENCE_TYPE_NAME(896,900)
                                  JSON_TYPE_NAME(896,900)
                                    PsiElement(json)('json')(896,900)
                          PsiElement())(')')(900,901)
                      PsiWhiteSpace(' ')(901,902)
                      PsiElement({)('{')(902,903)
                      PsiWhiteSpace('\n            ')(903,916)
                      PsiComment(LINE_COMMENT)('// Validate the JSON before setting it to the response to prevent security vulnerabilities.')(916,1007)
                      PsiWhiteSpace('\n            ')(1007,1020)
                      BLOCK(1020,1387)
                        STATEMENT(1020,1387)
                          IF_ELSE_STATEMENT(1020,1387)
                            IF_CLAUSE(1020,1264)
                              PsiElement(if)('if')(1020,1022)
                              PsiWhiteSpace(' ')(1022,1023)
                              BRACED_OR_TUPLE_EXPRESSION(1023,1052)
                                TUPLE_LITERAL(1023,1052)
                                  PsiElement(()('(')(1023,1024)
                                  VARIABLE_REFERENCE_EXPRESSION(1024,1051)
                                    FUNCTION_INVOCATION_REFERENCE(1024,1051)
                                      FUNCTION_INVOCATION(1024,1051)
                                        FUNCTION_NAME_REFERENCE(1024,1036)
                                          ANY_IDENTIFIER_NAME(1024,1036)
                                            PsiElement(identifier)('validateJson')(1024,1036)
                                        PsiElement(()('(')(1036,1037)
                                        INVOCATION_ARG_LIST(1037,1050)
                                          INVOCATION_ARG(1037,1050)
                                            VARIABLE_REFERENCE_EXPRESSION(1037,1050)
                                              FIELD_VARIABLE_REFERENCE(1037,1050)
                                                SIMPLE_VARIABLE_REFERENCE(1037,1044)
                                                  NAME_REFERENCE(1037,1044)
                                                    PsiElement(identifier)('payload')(1037,1044)
                                                FIELD(1044,1050)
                                                  PsiElement(.)('.')(1044,1045)
                                                  PsiElement(identifier)('hello')(1045,1050)
                                        PsiElement())(')')(1050,1051)
                                  PsiElement())(')')(1051,1052)
                              PsiWhiteSpace(' ')(1052,1053)
                              PsiElement({)('{')(1053,1054)
                              PsiWhiteSpace('\n                ')(1054,1071)
                              PsiComment(LINE_COMMENT)('// Since the JSON is known to be valid, `untaint` the data denoting that the data is trusted and set the JSON to the response.')(1071,1197)
                              PsiWhiteSpace('\n                ')(1197,1214)
                              BLOCK(1214,1250)
                                STATEMENT(1214,1250)
                                  EXPRESSION_STMT(1214,1250)
                                    VARIABLE_REFERENCE_EXPRESSION(1214,1249)
                                      INVOCATION_REFERENCE(1214,1249)
                                        SIMPLE_VARIABLE_REFERENCE(1214,1217)
                                          NAME_REFERENCE(1214,1217)
                                            PsiElement(identifier)('res')(1214,1217)
                                        INVOCATION(1217,1249)
                                          PsiElement(.)('.')(1217,1218)
                                          ANY_IDENTIFIER_NAME(1218,1232)
                                            PsiElement(identifier)('setJsonPayload')(1218,1232)
                                          PsiElement(()('(')(1232,1233)
                                          INVOCATION_ARG_LIST(1233,1248)
                                            INVOCATION_ARG(1233,1248)
                                              UNARY_EXPRESSION(1233,1248)
                                                PsiElement(untaint)('untaint')(1233,1240)
                                                PsiWhiteSpace(' ')(1240,1241)
                                                VARIABLE_REFERENCE_EXPRESSION(1241,1248)
                                                  SIMPLE_VARIABLE_REFERENCE(1241,1248)
                                                    NAME_REFERENCE(1241,1248)
                                                      PsiElement(identifier)('payload')(1241,1248)
                                          PsiElement())(')')(1248,1249)
                                    PsiElement(;)(';')(1249,1250)
                              PsiWhiteSpace('\n            ')(1250,1263)
                              PsiElement(})('}')(1263,1264)
                            PsiWhiteSpace(' ')(1264,1265)
                            ELSE_CLAUSE(1265,1387)
                              PsiElement(else)('else')(1265,1269)
                              PsiWhiteSpace(' ')(1269,1270)
                              PsiElement({)('{')(1270,1271)
                              PsiWhiteSpace('\n                ')(1271,1288)
                              BLOCK(1288,1373)
                                STATEMENT(1288,1309)
                                  ASSIGNMENT_STATEMENT(1288,1309)
                                    FIELD_VARIABLE_REFERENCE(1288,1302)
                                      SIMPLE_VARIABLE_REFERENCE(1288,1291)
                                        NAME_REFERENCE(1288,1291)
                                          PsiElement(identifier)('res')(1288,1291)
                                      FIELD(1291,1302)
                                        PsiElement(.)('.')(1291,1292)
                                        PsiElement(identifier)('statusCode')(1292,1302)
                                    PsiWhiteSpace(' ')(1302,1303)
                                    PsiElement(=)('=')(1303,1304)
                                    PsiWhiteSpace(' ')(1304,1305)
                                    SIMPLE_LITERAL_EXPRESSION(1305,1308)
                                      SIMPLE_LITERAL(1305,1308)
                                        INTEGER_LITERAL(1305,1308)
                                          PsiElement(DECIMAL_INTEGER_LITERAL)('400')(1305,1308)
                                    PsiElement(;)(';')(1308,1309)
                                PsiWhiteSpace('\n                ')(1309,1326)
                                STATEMENT(1326,1373)
                                  EXPRESSION_STMT(1326,1373)
                                    VARIABLE_REFERENCE_EXPRESSION(1326,1372)
                                      INVOCATION_REFERENCE(1326,1372)
                                        SIMPLE_VARIABLE_REFERENCE(1326,1329)
                                          NAME_REFERENCE(1326,1329)
                                            PsiElement(identifier)('res')(1326,1329)
                                        INVOCATION(1329,1372)
                                          PsiElement(.)('.')(1329,1330)
                                          ANY_IDENTIFIER_NAME(1330,1340)
                                            PsiElement(identifier)('setPayload')(1330,1340)
                                          PsiElement(()('(')(1340,1341)
                                          INVOCATION_ARG_LIST(1341,1371)
                                            INVOCATION_ARG(1341,1371)
                                              SIMPLE_LITERAL_EXPRESSION(1341,1371)
                                                SIMPLE_LITERAL(1341,1371)
                                                  PsiElement(QUOTED_STRING_LITERAL)('"JSON containted invalid data"')(1341,1371)
                                          PsiElement())(')')(1371,1372)
                                    PsiElement(;)(';')(1372,1373)
                              PsiWhiteSpace('\n            ')(1373,1386)
                              PsiElement(})('}')(1386,1387)
                      PsiWhiteSpace('\n        ')(1387,1396)
                      PsiElement(})('}')(1396,1397)
                    PsiWhiteSpace(' ')(1397,1398)
                    ELSE_IF_CLAUSE(1398,1540)
                      PsiElement(else)('else')(1398,1402)
                      PsiWhiteSpace(' ')(1402,1403)
                      PsiElement(if)('if')(1403,1405)
                      PsiWhiteSpace(' ')(1405,1406)
                      BRACED_OR_TUPLE_EXPRESSION(1406,1424)
                        TUPLE_LITERAL(1406,1424)
                          PsiElement(()('(')(1406,1407)
                          TYPE_TEST_EXPRESSION(1407,1423)
                            VARIABLE_REFERENCE_EXPRESSION(1407,1414)
                              SIMPLE_VARIABLE_REFERENCE(1407,1414)
                                NAME_REFERENCE(1407,1414)
                                  PsiElement(identifier)('payload')(1407,1414)
                            PsiWhiteSpace(' ')(1414,1415)
                            PsiElement(is)('is')(1415,1417)
                            PsiWhiteSpace(' ')(1417,1418)
                            SIMPLE_TYPE_NAME(1418,1423)
                              REFERENCE_TYPE_NAME(1418,1423)
                                BUILT_IN_REFERENCE_TYPE_NAME(1418,1423)
                                  ERROR_TYPE_NAME(1418,1423)
                                    PsiElement(error)('error')(1418,1423)
                          PsiElement())(')')(1423,1424)
                      PsiWhiteSpace(' ')(1424,1425)
                      PsiElement({)('{')(1425,1426)
                      PsiWhiteSpace('\n            ')(1426,1439)
                      BLOCK(1439,1530)
                        STATEMENT(1439,1460)
                          ASSIGNMENT_STATEMENT(1439,1460)
                            FIELD_VARIABLE_REFERENCE(1439,1453)
                              SIMPLE_VARIABLE_REFERENCE(1439,1442)
                                NAME_REFERENCE(1439,1442)
                                  PsiElement(identifier)('res')(1439,1442)
                              FIELD(1442,1453)
                                PsiElement(.)('.')(1442,1443)
                                PsiElement(identifier)('statusCode')(1443,1453)
                            PsiWhiteSpace(' ')(1453,1454)
                            PsiElement(=)('=')(1454,1455)
                            PsiWhiteSpace(' ')(1455,1456)
                            SIMPLE_LITERAL_EXPRESSION(1456,1459)
                              SIMPLE_LITERAL(1456,1459)
                                INTEGER_LITERAL(1456,1459)
                                  PsiElement(DECIMAL_INTEGER_LITERAL)('500')(1456,1459)
                            PsiElement(;)(';')(1459,1460)
                        PsiWhiteSpace('\n            ')(1460,1473)
                        STATEMENT(1473,1530)
                          EXPRESSION_STMT(1473,1530)
                            VARIABLE_REFERENCE_EXPRESSION(1473,1529)
                              INVOCATION_REFERENCE(1473,1529)
                                SIMPLE_VARIABLE_REFERENCE(1473,1476)
                                  NAME_REFERENCE(1473,1476)
                                    PsiElement(identifier)('res')(1473,1476)
                                INVOCATION(1476,1529)
                                  PsiElement(.)('.')(1476,1477)
                                  ANY_IDENTIFIER_NAME(1477,1487)
                                    PsiElement(identifier)('setPayload')(1477,1487)
                                  PsiElement(()('(')(1487,1488)
                                  INVOCATION_ARG_LIST(1488,1528)
                                    INVOCATION_ARG(1488,1528)
                                      UNARY_EXPRESSION(1488,1528)
                                        PsiElement(untaint)('untaint')(1488,1495)
                                        PsiWhiteSpace(' ')(1495,1496)
                                        TYPE_CONVERSION_EXPRESSION(1496,1528)
                                          PsiElement(<)('<')(1496,1497)
                                          SIMPLE_TYPE_NAME(1497,1503)
                                            VALUE_TYPE_NAME(1497,1503)
                                              PsiElement(string)('string')(1497,1503)
                                          PsiElement(>)('>')(1503,1504)
                                          VARIABLE_REFERENCE_EXPRESSION(1504,1528)
                                            FIELD_VARIABLE_REFERENCE(1504,1528)
                                              INVOCATION_REFERENCE(1504,1520)
                                                SIMPLE_VARIABLE_REFERENCE(1504,1511)
                                                  NAME_REFERENCE(1504,1511)
                                                    PsiElement(identifier)('payload')(1504,1511)
                                                INVOCATION(1511,1520)
                                                  PsiElement(.)('.')(1511,1512)
                                                  ANY_IDENTIFIER_NAME(1512,1518)
                                                    PsiElement(identifier)('detail')(1512,1518)
                                                  PsiElement(()('(')(1518,1519)
                                                  PsiElement())(')')(1519,1520)
                                              FIELD(1520,1528)
                                                PsiElement(.)('.')(1520,1521)
                                                PsiElement(identifier)('message')(1521,1528)
                                  PsiElement())(')')(1528,1529)
                            PsiElement(;)(';')(1529,1530)
                      PsiWhiteSpace('\n        ')(1530,1539)
                      PsiElement(})('}')(1539,1540)
                PsiWhiteSpace('\n        ')(1540,1549)
                PsiComment(LINE_COMMENT)('// Reply to the client with the response.')(1549,1590)
                PsiWhiteSpace('\n        ')(1590,1599)
                STATEMENT(1599,1633)
                  VARIABLE_DEFINITION_STATEMENT(1599,1633)
                    VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(1599,1633)
                      PsiElement(var)('var')(1599,1602)
                      PsiWhiteSpace(' ')(1602,1603)
                      BINDING_PATTERN(1603,1609)
                        PsiElement(identifier)('result')(1603,1609)
                      PsiWhiteSpace(' ')(1609,1610)
                      PsiElement(=)('=')(1610,1611)
                      PsiWhiteSpace(' ')(1611,1612)
                      ACTION_INVOCATION_EXPRESSION(1612,1632)
                        ACTION_INVOCATION(1612,1632)
                          SIMPLE_VARIABLE_REFERENCE(1612,1618)
                            NAME_REFERENCE(1612,1618)
                              PsiElement(identifier)('caller')(1612,1618)
                          PsiElement(->)('->')(1618,1620)
                          FUNCTION_INVOCATION(1620,1632)
                            FUNCTION_NAME_REFERENCE(1620,1627)
                              ANY_IDENTIFIER_NAME(1620,1627)
                                PsiElement(identifier)('respond')(1620,1627)
                            PsiElement(()('(')(1627,1628)
                            INVOCATION_ARG_LIST(1628,1631)
                              INVOCATION_ARG(1628,1631)
                                VARIABLE_REFERENCE_EXPRESSION(1628,1631)
                                  SIMPLE_VARIABLE_REFERENCE(1628,1631)
                                    NAME_REFERENCE(1628,1631)
                                      PsiElement(identifier)('res')(1628,1631)
                            PsiElement())(')')(1631,1632)
                      PsiElement(;)(';')(1632,1633)
                PsiWhiteSpace('\n\n        ')(1633,1643)
                STATEMENT(1643,1739)
                  IF_ELSE_STATEMENT(1643,1739)
                    IF_CLAUSE(1643,1739)
                      PsiElement(if)('if')(1643,1645)
                      PsiWhiteSpace(' ')(1645,1646)
                      BRACED_OR_TUPLE_EXPRESSION(1646,1663)
                        TUPLE_LITERAL(1646,1663)
                          PsiElement(()('(')(1646,1647)
                          TYPE_TEST_EXPRESSION(1647,1662)
                            VARIABLE_REFERENCE_EXPRESSION(1647,1653)
                              SIMPLE_VARIABLE_REFERENCE(1647,1653)
                                NAME_REFERENCE(1647,1653)
                                  PsiElement(identifier)('result')(1647,1653)
                            PsiWhiteSpace(' ')(1653,1654)
                            PsiElement(is)('is')(1654,1656)
                            PsiWhiteSpace(' ')(1656,1657)
                            SIMPLE_TYPE_NAME(1657,1662)
                              REFERENCE_TYPE_NAME(1657,1662)
                                BUILT_IN_REFERENCE_TYPE_NAME(1657,1662)
                                  ERROR_TYPE_NAME(1657,1662)
                                    PsiElement(error)('error')(1657,1662)
                          PsiElement())(')')(1662,1663)
                      PsiWhiteSpace(' ')(1663,1664)
                      PsiElement({)('{')(1664,1665)
                      PsiWhiteSpace('\n           ')(1665,1677)
                      BLOCK(1677,1729)
                        STATEMENT(1677,1729)
                          EXPRESSION_STMT(1677,1729)
                            VARIABLE_REFERENCE_EXPRESSION(1677,1728)
                              FUNCTION_INVOCATION_REFERENCE(1677,1728)
                                FUNCTION_INVOCATION(1677,1728)
                                  FUNCTION_NAME_REFERENCE(1677,1691)
                                    PACKAGE_REFERENCE(1677,1681)
                                      PsiElement(identifier)('log')(1677,1680)
                                      PsiElement(:)(':')(1680,1681)
                                    ANY_IDENTIFIER_NAME(1681,1691)
                                      PsiElement(identifier)('printError')(1681,1691)
                                  PsiElement(()('(')(1691,1692)
                                  INVOCATION_ARG_LIST(1692,1727)
                                    INVOCATION_ARG(1692,1713)
                                      SIMPLE_LITERAL_EXPRESSION(1692,1713)
                                        SIMPLE_LITERAL(1692,1713)
                                          PsiElement(QUOTED_STRING_LITERAL)('"Error in responding"')(1692,1713)
                                    PsiElement(,)(',')(1713,1714)
                                    PsiWhiteSpace(' ')(1714,1715)
                                    INVOCATION_ARG(1715,1727)
                                      NAMED_ARGS(1715,1727)
                                        PsiElement(identifier)('err')(1715,1718)
                                        PsiWhiteSpace(' ')(1718,1719)
                                        PsiElement(=)('=')(1719,1720)
                                        PsiWhiteSpace(' ')(1720,1721)
                                        VARIABLE_REFERENCE_EXPRESSION(1721,1727)
                                          SIMPLE_VARIABLE_REFERENCE(1721,1727)
                                            NAME_REFERENCE(1721,1727)
                                              PsiElement(identifier)('result')(1721,1727)
                                  PsiElement())(')')(1727,1728)
                            PsiElement(;)(';')(1728,1729)
                      PsiWhiteSpace('\n        ')(1729,1738)
                      PsiElement(})('}')(1738,1739)
                PsiWhiteSpace('\n    ')(1739,1744)
                PsiElement(})('}')(1744,1745)
          PsiWhiteSpace('\n')(1745,1746)
          PsiElement(})('}')(1746,1747)
  PsiWhiteSpace('\n\n')(1747,1749)
  DEFINITION(1749,1953)
    FUNCTION_DEFINITION(1749,1953)
      PsiElement(function)('function')(1749,1757)
      PsiWhiteSpace(' ')(1757,1758)
      CALLABLE_UNIT_SIGNATURE(1758,1800)
        ANY_IDENTIFIER_NAME(1758,1770)
          PsiElement(identifier)('validateJson')(1758,1770)
        PsiElement(()('(')(1770,1771)
        FORMAL_PARAMETER_LIST(1771,1783)
          PARAMETER(1771,1783)
            PARAMETER_WITH_TYPE(1771,1783)
              SIMPLE_TYPE_NAME(1771,1775)
                REFERENCE_TYPE_NAME(1771,1775)
                  BUILT_IN_REFERENCE_TYPE_NAME(1771,1775)
                    JSON_TYPE_NAME(1771,1775)
                      PsiElement(json)('json')(1771,1775)
              PsiWhiteSpace(' ')(1775,1776)
              PsiElement(identifier)('payload')(1776,1783)
        PsiElement())(')')(1783,1784)
        PsiWhiteSpace(' ')(1784,1785)
        RETURN_PARAMETER(1785,1800)
          PsiElement(returns)('returns')(1785,1792)
          PsiWhiteSpace(' ')(1792,1793)
          RETURN_TYPE(1793,1800)
            SIMPLE_TYPE_NAME(1793,1800)
              VALUE_TYPE_NAME(1793,1800)
                PsiElement(boolean)('boolean')(1793,1800)
      PsiWhiteSpace(' ')(1800,1801)
      CALLABLE_UNIT_BODY(1801,1953)
        PsiElement({)('{')(1801,1802)
        PsiWhiteSpace('\n    ')(1802,1807)
        STATEMENT(1807,1860)
          VARIABLE_DEFINITION_STATEMENT(1807,1860)
            VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(1807,1860)
              PsiElement(var)('var')(1807,1810)
              PsiWhiteSpace(' ')(1810,1811)
              BINDING_PATTERN(1811,1817)
                PsiElement(identifier)('result')(1811,1817)
              PsiWhiteSpace(' ')(1817,1818)
              PsiElement(=)('=')(1818,1819)
              PsiWhiteSpace(' ')(1819,1820)
              VARIABLE_REFERENCE_EXPRESSION(1820,1859)
                INVOCATION_REFERENCE(1820,1859)
                  INVOCATION_REFERENCE(1820,1838)
                    SIMPLE_VARIABLE_REFERENCE(1820,1827)
                      NAME_REFERENCE(1820,1827)
                        PsiElement(identifier)('payload')(1820,1827)
                    INVOCATION(1827,1838)
                      PsiElement(.)('.')(1827,1828)
                      ANY_IDENTIFIER_NAME(1828,1836)
                        PsiElement(identifier)('toString')(1828,1836)
                      PsiElement(()('(')(1836,1837)
                      PsiElement())(')')(1837,1838)
                  INVOCATION(1838,1859)
                    PsiElement(.)('.')(1838,1839)
                    ANY_IDENTIFIER_NAME(1839,1846)
                      PsiElement(identifier)('matches')(1839,1846)
                    PsiElement(()('(')(1846,1847)
                    INVOCATION_ARG_LIST(1847,1858)
                      INVOCATION_ARG(1847,1858)
                        SIMPLE_LITERAL_EXPRESSION(1847,1858)
                          SIMPLE_LITERAL(1847,1858)
                            PsiElement(QUOTED_STRING_LITERAL)('"[a-zA-Z]+"')(1847,1858)
                    PsiElement())(')')(1858,1859)
              PsiElement(;)(';')(1859,1860)
        PsiWhiteSpace('\n    ')(1860,1865)
        STATEMENT(1865,1951)
          IF_ELSE_STATEMENT(1865,1951)
            IF_CLAUSE(1865,1915)
              PsiElement(if)('if')(1865,1867)
              PsiWhiteSpace(' ')(1867,1868)
              BRACED_OR_TUPLE_EXPRESSION(1868,1885)
                TUPLE_LITERAL(1868,1885)
                  PsiElement(()('(')(1868,1869)
                  TYPE_TEST_EXPRESSION(1869,1884)
                    VARIABLE_REFERENCE_EXPRESSION(1869,1875)
                      SIMPLE_VARIABLE_REFERENCE(1869,1875)
                        NAME_REFERENCE(1869,1875)
                          PsiElement(identifier)('result')(1869,1875)
                    PsiWhiteSpace(' ')(1875,1876)
                    PsiElement(is)('is')(1876,1878)
                    PsiWhiteSpace(' ')(1878,1879)
                    SIMPLE_TYPE_NAME(1879,1884)
                      REFERENCE_TYPE_NAME(1879,1884)
                        BUILT_IN_REFERENCE_TYPE_NAME(1879,1884)
                          ERROR_TYPE_NAME(1879,1884)
                            PsiElement(error)('error')(1879,1884)
                  PsiElement())(')')(1884,1885)
              PsiWhiteSpace(' ')(1885,1886)
              PsiElement({)('{')(1886,1887)
              PsiWhiteSpace('\n        ')(1887,1896)
              BLOCK(1896,1909)
                STATEMENT(1896,1909)
                  RETURN_STATEMENT(1896,1909)
                    PsiElement(return)('return')(1896,1902)
                    PsiWhiteSpace(' ')(1902,1903)
                    SIMPLE_LITERAL_EXPRESSION(1903,1908)
                      SIMPLE_LITERAL(1903,1908)
                        PsiElement(BOOLEAN_LITERAL)('false')(1903,1908)
                    PsiElement(;)(';')(1908,1909)
              PsiWhiteSpace('\n    ')(1909,1914)
              PsiElement(})('}')(1914,1915)
            PsiWhiteSpace(' ')(1915,1916)
            ELSE_CLAUSE(1916,1951)
              PsiElement(else)('else')(1916,1920)
              PsiWhiteSpace(' ')(1920,1921)
              PsiElement({)('{')(1921,1922)
              PsiWhiteSpace('\n        ')(1922,1931)
              BLOCK(1931,1945)
                STATEMENT(1931,1945)
                  RETURN_STATEMENT(1931,1945)
                    PsiElement(return)('return')(1931,1937)
                    PsiWhiteSpace(' ')(1937,1938)
                    VARIABLE_REFERENCE_EXPRESSION(1938,1944)
                      SIMPLE_VARIABLE_REFERENCE(1938,1944)
                        NAME_REFERENCE(1938,1944)
                          PsiElement(identifier)('result')(1938,1944)
                    PsiElement(;)(';')(1944,1945)
              PsiWhiteSpace('\n    ')(1945,1950)
              PsiElement(})('}')(1950,1951)
        PsiWhiteSpace('\n')(1951,1952)
        PsiElement(})('}')(1952,1953)
