Ballerina File(0,3099)
  IMPORT_DECLARATION(0,22)
    PsiElement(import)('import')(0,6)
    PsiWhiteSpace(' ')(6,7)
    ORG_NAME(7,16)
      PsiElement(identifier)('ballerina')(7,16)
    PsiElement(/)('/')(16,17)
    COMPLETE_PACKAGE_NAME(17,21)
      PACKAGE_NAME(17,21)
        PsiElement(identifier)('http')(17,21)
    PsiElement(;)(';')(21,22)
  PsiWhiteSpace('\n')(22,23)
  IMPORT_DECLARATION(23,44)
    PsiElement(import)('import')(23,29)
    PsiWhiteSpace(' ')(29,30)
    ORG_NAME(30,39)
      PsiElement(identifier)('ballerina')(30,39)
    PsiElement(/)('/')(39,40)
    COMPLETE_PACKAGE_NAME(40,43)
      PACKAGE_NAME(40,43)
        PsiElement(identifier)('log')(40,43)
    PsiElement(;)(';')(43,44)
  PsiWhiteSpace('\n\n')(44,46)
  DEFINITION(46,73)
    GLOBAL_VARIABLE_DEFINITION(46,73)
      PsiElement(final)('final')(46,51)
      PsiWhiteSpace(' ')(51,52)
      SIMPLE_TYPE_NAME(52,58)
        VALUE_TYPE_NAME(52,58)
          PsiElement(string)('string')(52,58)
      PsiWhiteSpace(' ')(58,59)
      PsiElement(identifier)('NAME')(59,63)
      PsiWhiteSpace(' ')(63,64)
      PsiElement(=)('=')(64,65)
      PsiWhiteSpace(' ')(65,66)
      SIMPLE_LITERAL_EXPRESSION(66,72)
        SIMPLE_LITERAL(66,72)
          PsiElement(QUOTED_STRING_LITERAL)('"NAME"')(66,72)
      PsiElement(;)(';')(72,73)
  PsiWhiteSpace('\n')(73,74)
  DEFINITION(74,99)
    GLOBAL_VARIABLE_DEFINITION(74,99)
      PsiElement(final)('final')(74,79)
      PsiWhiteSpace(' ')(79,80)
      SIMPLE_TYPE_NAME(80,86)
        VALUE_TYPE_NAME(80,86)
          PsiElement(string)('string')(80,86)
      PsiWhiteSpace(' ')(86,87)
      PsiElement(identifier)('AGE')(87,90)
      PsiWhiteSpace(' ')(90,91)
      PsiElement(=)('=')(91,92)
      PsiWhiteSpace(' ')(92,93)
      SIMPLE_LITERAL_EXPRESSION(93,98)
        SIMPLE_LITERAL(93,98)
          PsiElement(QUOTED_STRING_LITERAL)('"AGE"')(93,98)
      PsiElement(;)(';')(98,99)
  PsiWhiteSpace('\n\n')(99,101)
  DEFINITION(101,1450)
    ANNOTATION_ATTACHMENT(101,146)
      PsiElement(@)('@')(101,102)
      NAME_REFERENCE(102,120)
        PACKAGE_REFERENCE(102,107)
          PsiElement(identifier)('http')(102,106)
          PsiElement(:)(':')(106,107)
        PsiElement(identifier)('ServiceConfig')(107,120)
      PsiWhiteSpace(' ')(120,121)
      RECORD_LITERAL(121,146)
        PsiElement({)('{')(121,122)
        PsiWhiteSpace('\n    ')(122,127)
        RECORD_LITERAL_BODY(127,144)
          RECORD_KEY_VALUE(127,144)
            RECORD_KEY(127,135)
              VARIABLE_REFERENCE_EXPRESSION(127,135)
                SIMPLE_VARIABLE_REFERENCE(127,135)
                  NAME_REFERENCE(127,135)
                    PsiElement(identifier)('basePath')(127,135)
            PsiElement(:)(':')(135,136)
            PsiWhiteSpace(' ')(136,137)
            SIMPLE_LITERAL_EXPRESSION(137,144)
              SIMPLE_LITERAL(137,144)
                PsiElement(QUOTED_STRING_LITERAL)('"/chat"')(137,144)
        PsiWhiteSpace('\n')(144,145)
        PsiElement(})('}')(145,146)
    PsiWhiteSpace('\n')(146,147)
    DEFINITION(147,1450)
      SERVICE_DEFINITION(147,1450)
        PsiElement(service)('service')(147,154)
        PsiWhiteSpace(' ')(154,155)
        PsiElement(identifier)('chatAppUpgrader')(155,170)
        PsiWhiteSpace(' ')(170,171)
        PsiElement(on)('on')(171,173)
        PsiWhiteSpace(' ')(173,174)
        EXPRESSION_LIST(174,197)
          TYPE_INIT_EXPRESSION(174,197)
            INIT_WITH_TYPE(174,197)
              PsiElement(new)('new')(174,177)
              PsiWhiteSpace(' ')(177,178)
              USER_DEFINE_TYPE_NAME(178,191)
                NAME_REFERENCE(178,191)
                  PACKAGE_REFERENCE(178,183)
                    PsiElement(identifier)('http')(178,182)
                    PsiElement(:)(':')(182,183)
                  PsiElement(identifier)('Listener')(183,191)
              PsiElement(()('(')(191,192)
              INVOCATION_ARG_LIST(192,196)
                INVOCATION_ARG(192,196)
                  SIMPLE_LITERAL_EXPRESSION(192,196)
                    SIMPLE_LITERAL(192,196)
                      INTEGER_LITERAL(192,196)
                        PsiElement(DECIMAL_INTEGER_LITERAL)('9090')(192,196)
              PsiElement())(')')(196,197)
        PsiWhiteSpace(' ')(197,198)
        SERVICE_BODY(198,1450)
          PsiElement({)('{')(198,199)
          PsiWhiteSpace('\n\n    ')(199,205)
          PsiComment(LINE_COMMENT)('// Upgrade from HTTP to WebSocket and define the service the WebSocket client needs to connect to.')(205,303)
          PsiWhiteSpace('\n    ')(303,308)
          SERVICE_BODY_MEMBER(308,1448)
            OBJECT_FUNCTION_DEFINITION(308,1448)
              ANNOTATION_ATTACHMENT(308,446)
                PsiElement(@)('@')(308,309)
                NAME_REFERENCE(309,328)
                  PACKAGE_REFERENCE(309,314)
                    PsiElement(identifier)('http')(309,313)
                    PsiElement(:)(':')(313,314)
                  PsiElement(identifier)('ResourceConfig')(314,328)
                PsiWhiteSpace(' ')(328,329)
                RECORD_LITERAL(329,446)
                  PsiElement({)('{')(329,330)
                  PsiWhiteSpace('\n        ')(330,339)
                  RECORD_LITERAL_BODY(339,440)
                    RECORD_KEY_VALUE(339,440)
                      RECORD_KEY(339,355)
                        VARIABLE_REFERENCE_EXPRESSION(339,355)
                          SIMPLE_VARIABLE_REFERENCE(339,355)
                            NAME_REFERENCE(339,355)
                              PsiElement(identifier)('webSocketUpgrade')(339,355)
                      PsiElement(:)(':')(355,356)
                      PsiWhiteSpace(' ')(356,357)
                      RECORD_LITERAL_EXPRESSION(357,440)
                        RECORD_LITERAL(357,440)
                          PsiElement({)('{')(357,358)
                          PsiWhiteSpace('\n            ')(358,371)
                          RECORD_LITERAL_BODY(371,430)
                            RECORD_KEY_VALUE(371,393)
                              RECORD_KEY(371,382)
                                VARIABLE_REFERENCE_EXPRESSION(371,382)
                                  SIMPLE_VARIABLE_REFERENCE(371,382)
                                    NAME_REFERENCE(371,382)
                                      PsiElement(identifier)('upgradePath')(371,382)
                              PsiElement(:)(':')(382,383)
                              PsiWhiteSpace(' ')(383,384)
                              SIMPLE_LITERAL_EXPRESSION(384,393)
                                SIMPLE_LITERAL(384,393)
                                  PsiElement(QUOTED_STRING_LITERAL)('"/{name}"')(384,393)
                            PsiElement(,)(',')(393,394)
                            PsiWhiteSpace('\n            ')(394,407)
                            RECORD_KEY_VALUE(407,430)
                              RECORD_KEY(407,421)
                                VARIABLE_REFERENCE_EXPRESSION(407,421)
                                  SIMPLE_VARIABLE_REFERENCE(407,421)
                                    NAME_REFERENCE(407,421)
                                      PsiElement(identifier)('upgradeService')(407,421)
                              PsiElement(:)(':')(421,422)
                              PsiWhiteSpace(' ')(422,423)
                              VARIABLE_REFERENCE_EXPRESSION(423,430)
                                SIMPLE_VARIABLE_REFERENCE(423,430)
                                  NAME_REFERENCE(423,430)
                                    PsiElement(identifier)('chatApp')(423,430)
                          PsiWhiteSpace('\n        ')(430,439)
                          PsiElement(})('}')(439,440)
                  PsiWhiteSpace('\n    ')(440,445)
                  PsiElement(})('}')(445,446)
              PsiWhiteSpace('\n    ')(446,451)
              PsiElement(resource)('resource')(451,459)
              PsiWhiteSpace(' ')(459,460)
              PsiElement(function)('function')(460,468)
              PsiWhiteSpace(' ')(468,469)
              CALLABLE_UNIT_SIGNATURE(469,560)
                ANY_IDENTIFIER_NAME(469,477)
                  PsiElement(identifier)('upgrader')(469,477)
                PsiElement(()('(')(477,478)
                FORMAL_PARAMETER_LIST(478,559)
                  PARAMETER(478,496)
                    PARAMETER_WITH_TYPE(478,496)
                      SIMPLE_TYPE_NAME(478,489)
                        REFERENCE_TYPE_NAME(478,489)
                          USER_DEFINE_TYPE_NAME(478,489)
                            NAME_REFERENCE(478,489)
                              PACKAGE_REFERENCE(478,483)
                                PsiElement(identifier)('http')(478,482)
                                PsiElement(:)(':')(482,483)
                              PsiElement(identifier)('Caller')(483,489)
                      PsiWhiteSpace(' ')(489,490)
                      PsiElement(identifier)('caller')(490,496)
                  PsiElement(,)(',')(496,497)
                  PsiWhiteSpace(' ')(497,498)
                  PARAMETER(498,514)
                    PARAMETER_WITH_TYPE(498,514)
                      SIMPLE_TYPE_NAME(498,510)
                        REFERENCE_TYPE_NAME(498,510)
                          USER_DEFINE_TYPE_NAME(498,510)
                            NAME_REFERENCE(498,510)
                              PACKAGE_REFERENCE(498,503)
                                PsiElement(identifier)('http')(498,502)
                                PsiElement(:)(':')(502,503)
                              PsiElement(identifier)('Request')(503,510)
                      PsiWhiteSpace(' ')(510,511)
                      PsiElement(identifier)('req')(511,514)
                  PsiElement(,)(',')(514,515)
                  PsiWhiteSpace('\n                                ')(515,548)
                  PARAMETER(548,559)
                    PARAMETER_WITH_TYPE(548,559)
                      SIMPLE_TYPE_NAME(548,554)
                        VALUE_TYPE_NAME(548,554)
                          PsiElement(string)('string')(548,554)
                      PsiWhiteSpace(' ')(554,555)
                      PsiElement(identifier)('name')(555,559)
                PsiElement())(')')(559,560)
              PsiWhiteSpace(' ')(560,561)
              CALLABLE_UNIT_BODY(561,1448)
                PsiElement({)('{')(561,562)
                PsiWhiteSpace('\n        ')(562,571)
                STATEMENT(571,597)
                  VARIABLE_DEFINITION_STATEMENT(571,597)
                    VARIABLE_DEFINITION_STATEMENT_WITHOUT_ASSIGNMENT(571,597)
                      SIMPLE_TYPE_NAME(571,591)
                        REFERENCE_TYPE_NAME(571,591)
                          USER_DEFINE_TYPE_NAME(571,591)
                            NAME_REFERENCE(571,591)
                              PACKAGE_REFERENCE(571,576)
                                PsiElement(identifier)('http')(571,575)
                                PsiElement(:)(':')(575,576)
                              PsiElement(identifier)('WebSocketCaller')(576,591)
                      PsiWhiteSpace(' ')(591,592)
                      PsiElement(identifier)('wsEp')(592,596)
                      PsiElement(;)(';')(596,597)
                PsiWhiteSpace('\n        ')(597,606)
                STATEMENT(606,653)
                  VARIABLE_DEFINITION_STATEMENT(606,653)
                    VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(606,653)
                      SIMPLE_TYPE_NAME(606,617)
                        REFERENCE_TYPE_NAME(606,617)
                          BUILT_IN_REFERENCE_TYPE_NAME(606,617)
                            MAP_TYPE_NAME(606,617)
                              PsiElement(map)('map')(606,609)
                              PsiElement(<)('<')(609,610)
                              SIMPLE_TYPE_NAME(610,616)
                                VALUE_TYPE_NAME(610,616)
                                  PsiElement(string)('string')(610,616)
                              PsiElement(>)('>')(616,617)
                      PsiWhiteSpace(' ')(617,618)
                      BINDING_PATTERN(618,629)
                        PsiElement(identifier)('queryParams')(618,629)
                      PsiWhiteSpace(' ')(629,630)
                      PsiElement(=)('=')(630,631)
                      PsiWhiteSpace(' ')(631,632)
                      VARIABLE_REFERENCE_EXPRESSION(632,652)
                        INVOCATION_REFERENCE(632,652)
                          SIMPLE_VARIABLE_REFERENCE(632,635)
                            NAME_REFERENCE(632,635)
                              PsiElement(identifier)('req')(632,635)
                          INVOCATION(635,652)
                            PsiElement(.)('.')(635,636)
                            ANY_IDENTIFIER_NAME(636,650)
                              PsiElement(identifier)('getQueryParams')(636,650)
                            PsiElement(()('(')(650,651)
                            PsiElement())(')')(651,652)
                      PsiElement(;)(';')(652,653)
                PsiWhiteSpace('\n        ')(653,662)
                PsiComment(LINE_COMMENT)('// Cancel handshake by sending a 400 status code if the age parameter is missing in the request.')(662,758)
                PsiWhiteSpace('\n        ')(758,767)
                STATEMENT(767,1026)
                  IF_ELSE_STATEMENT(767,1026)
                    IF_CLAUSE(767,1026)
                      PsiElement(if)('if')(767,769)
                      PsiWhiteSpace(' ')(769,770)
                      BRACED_OR_TUPLE_EXPRESSION(770,798)
                        TUPLE_LITERAL(770,798)
                          PsiElement(()('(')(770,771)
                          UNARY_EXPRESSION(771,797)
                            PsiElement(!)('!')(771,772)
                            VARIABLE_REFERENCE_EXPRESSION(772,797)
                              INVOCATION_REFERENCE(772,797)
                                SIMPLE_VARIABLE_REFERENCE(772,783)
                                  NAME_REFERENCE(772,783)
                                    PsiElement(identifier)('queryParams')(772,783)
                                INVOCATION(783,797)
                                  PsiElement(.)('.')(783,784)
                                  ANY_IDENTIFIER_NAME(784,790)
                                    PsiElement(identifier)('hasKey')(784,790)
                                  PsiElement(()('(')(790,791)
                                  INVOCATION_ARG_LIST(791,796)
                                    INVOCATION_ARG(791,796)
                                      SIMPLE_LITERAL_EXPRESSION(791,796)
                                        SIMPLE_LITERAL(791,796)
                                          PsiElement(QUOTED_STRING_LITERAL)('"age"')(791,796)
                                  PsiElement())(')')(796,797)
                          PsiElement())(')')(797,798)
                      PsiElement({)('{')(798,799)
                      PsiWhiteSpace('\n            ')(799,812)
                      BLOCK(812,1016)
                        STATEMENT(812,877)
                          VARIABLE_DEFINITION_STATEMENT(812,877)
                            VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(812,877)
                              PsiElement(var)('var')(812,815)
                              PsiWhiteSpace(' ')(815,816)
                              BINDING_PATTERN(816,819)
                                PsiElement(identifier)('err')(816,819)
                              PsiWhiteSpace(' ')(819,820)
                              PsiElement(=)('=')(820,821)
                              PsiWhiteSpace(' ')(821,822)
                              ACTION_INVOCATION_EXPRESSION(822,876)
                                ACTION_INVOCATION(822,876)
                                  SIMPLE_VARIABLE_REFERENCE(822,828)
                                    NAME_REFERENCE(822,828)
                                      PsiElement(identifier)('caller')(822,828)
                                  PsiElement(->)('->')(828,830)
                                  FUNCTION_INVOCATION(830,876)
                                    FUNCTION_NAME_REFERENCE(830,852)
                                      ANY_IDENTIFIER_NAME(830,852)
                                        PsiElement(identifier)('cancelWebSocketUpgrade')(830,852)
                                    PsiElement(()('(')(852,853)
                                    INVOCATION_ARG_LIST(853,875)
                                      INVOCATION_ARG(853,856)
                                        SIMPLE_LITERAL_EXPRESSION(853,856)
                                          SIMPLE_LITERAL(853,856)
                                            INTEGER_LITERAL(853,856)
                                              PsiElement(DECIMAL_INTEGER_LITERAL)('400')(853,856)
                                      PsiElement(,)(',')(856,857)
                                      PsiWhiteSpace(' ')(857,858)
                                      INVOCATION_ARG(858,875)
                                        SIMPLE_LITERAL_EXPRESSION(858,875)
                                          SIMPLE_LITERAL(858,875)
                                            PsiElement(QUOTED_STRING_LITERAL)('"Age is required"')(858,875)
                                    PsiElement())(')')(875,876)
                              PsiElement(;)(';')(876,877)
                        PsiWhiteSpace('\n            ')(877,890)
                        STATEMENT(890,996)
                          IF_ELSE_STATEMENT(890,996)
                            IF_CLAUSE(890,996)
                              PsiElement(if)('if')(890,892)
                              PsiWhiteSpace(' ')(892,893)
                              BRACED_OR_TUPLE_EXPRESSION(893,907)
                                TUPLE_LITERAL(893,907)
                                  PsiElement(()('(')(893,894)
                                  TYPE_TEST_EXPRESSION(894,906)
                                    VARIABLE_REFERENCE_EXPRESSION(894,897)
                                      SIMPLE_VARIABLE_REFERENCE(894,897)
                                        NAME_REFERENCE(894,897)
                                          PsiElement(identifier)('err')(894,897)
                                    PsiWhiteSpace(' ')(897,898)
                                    PsiElement(is)('is')(898,900)
                                    PsiWhiteSpace(' ')(900,901)
                                    SIMPLE_TYPE_NAME(901,906)
                                      REFERENCE_TYPE_NAME(901,906)
                                        BUILT_IN_REFERENCE_TYPE_NAME(901,906)
                                          ERROR_TYPE_NAME(901,906)
                                            PsiElement(error)('error')(901,906)
                                  PsiElement())(')')(906,907)
                              PsiWhiteSpace(' ')(907,908)
                              PsiElement({)('{')(908,909)
                              PsiWhiteSpace('\n                ')(909,926)
                              BLOCK(926,982)
                                STATEMENT(926,982)
                                  EXPRESSION_STMT(926,982)
                                    VARIABLE_REFERENCE_EXPRESSION(926,981)
                                      FUNCTION_INVOCATION_REFERENCE(926,981)
                                        FUNCTION_INVOCATION(926,981)
                                          FUNCTION_NAME_REFERENCE(926,940)
                                            PACKAGE_REFERENCE(926,930)
                                              PsiElement(identifier)('log')(926,929)
                                              PsiElement(:)(':')(929,930)
                                            ANY_IDENTIFIER_NAME(930,940)
                                              PsiElement(identifier)('printError')(930,940)
                                          PsiElement(()('(')(940,941)
                                          INVOCATION_ARG_LIST(941,980)
                                            INVOCATION_ARG(941,969)
                                              SIMPLE_LITERAL_EXPRESSION(941,969)
                                                SIMPLE_LITERAL(941,969)
                                                  PsiElement(QUOTED_STRING_LITERAL)('"Error cancelling handshake"')(941,969)
                                            PsiElement(,)(',')(969,970)
                                            PsiWhiteSpace(' ')(970,971)
                                            INVOCATION_ARG(971,980)
                                              NAMED_ARGS(971,980)
                                                PsiElement(identifier)('err')(971,974)
                                                PsiWhiteSpace(' ')(974,975)
                                                PsiElement(=)('=')(975,976)
                                                PsiWhiteSpace(' ')(976,977)
                                                VARIABLE_REFERENCE_EXPRESSION(977,980)
                                                  SIMPLE_VARIABLE_REFERENCE(977,980)
                                                    NAME_REFERENCE(977,980)
                                                      PsiElement(identifier)('err')(977,980)
                                          PsiElement())(')')(980,981)
                                    PsiElement(;)(';')(981,982)
                              PsiWhiteSpace('\n            ')(982,995)
                              PsiElement(})('}')(995,996)
                        PsiWhiteSpace('\n            ')(996,1009)
                        STATEMENT(1009,1016)
                          RETURN_STATEMENT(1009,1016)
                            PsiElement(return)('return')(1009,1015)
                            PsiElement(;)(';')(1015,1016)
                      PsiWhiteSpace('\n        ')(1016,1025)
                      PsiElement(})('}')(1025,1026)
                PsiWhiteSpace('\n        ')(1026,1035)
                STATEMENT(1035,1060)
                  VARIABLE_DEFINITION_STATEMENT(1035,1060)
                    VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(1035,1060)
                      SIMPLE_TYPE_NAME(1035,1046)
                        REFERENCE_TYPE_NAME(1035,1046)
                          BUILT_IN_REFERENCE_TYPE_NAME(1035,1046)
                            MAP_TYPE_NAME(1035,1046)
                              PsiElement(map)('map')(1035,1038)
                              PsiElement(<)('<')(1038,1039)
                              SIMPLE_TYPE_NAME(1039,1045)
                                VALUE_TYPE_NAME(1039,1045)
                                  PsiElement(string)('string')(1039,1045)
                              PsiElement(>)('>')(1045,1046)
                      PsiWhiteSpace(' ')(1046,1047)
                      BINDING_PATTERN(1047,1054)
                        PsiElement(identifier)('headers')(1047,1054)
                      PsiWhiteSpace(' ')(1054,1055)
                      PsiElement(=)('=')(1055,1056)
                      PsiWhiteSpace(' ')(1056,1057)
                      RECORD_LITERAL_EXPRESSION(1057,1059)
                        RECORD_LITERAL(1057,1059)
                          PsiElement({)('{')(1057,1058)
                          PsiElement(})('}')(1058,1059)
                      PsiElement(;)(';')(1059,1060)
                PsiWhiteSpace('\n        ')(1060,1069)
                STATEMENT(1069,1116)
                  ASSIGNMENT_STATEMENT(1069,1116)
                    SIMPLE_VARIABLE_REFERENCE(1069,1073)
                      NAME_REFERENCE(1069,1073)
                        PsiElement(identifier)('wsEp')(1069,1073)
                    PsiWhiteSpace(' ')(1073,1074)
                    PsiElement(=)('=')(1074,1075)
                    PsiWhiteSpace(' ')(1075,1076)
                    ACTION_INVOCATION_EXPRESSION(1076,1115)
                      ACTION_INVOCATION(1076,1115)
                        SIMPLE_VARIABLE_REFERENCE(1076,1082)
                          NAME_REFERENCE(1076,1082)
                            PsiElement(identifier)('caller')(1076,1082)
                        PsiElement(->)('->')(1082,1084)
                        FUNCTION_INVOCATION(1084,1115)
                          FUNCTION_NAME_REFERENCE(1084,1106)
                            ANY_IDENTIFIER_NAME(1084,1106)
                              PsiElement(identifier)('acceptWebSocketUpgrade')(1084,1106)
                          PsiElement(()('(')(1106,1107)
                          INVOCATION_ARG_LIST(1107,1114)
                            INVOCATION_ARG(1107,1114)
                              VARIABLE_REFERENCE_EXPRESSION(1107,1114)
                                SIMPLE_VARIABLE_REFERENCE(1107,1114)
                                  NAME_REFERENCE(1107,1114)
                                    PsiElement(identifier)('headers')(1107,1114)
                          PsiElement())(')')(1114,1115)
                    PsiElement(;)(';')(1115,1116)
                PsiWhiteSpace('\n        ')(1116,1125)
                STATEMENT(1125,1154)
                  ASSIGNMENT_STATEMENT(1125,1154)
                    MAP_ARRAY_VARIABLE_REFERENCE(1125,1146)
                      FIELD_VARIABLE_REFERENCE(1125,1140)
                        SIMPLE_VARIABLE_REFERENCE(1125,1129)
                          NAME_REFERENCE(1125,1129)
                            PsiElement(identifier)('wsEp')(1125,1129)
                        FIELD(1129,1140)
                          PsiElement(.)('.')(1129,1130)
                          PsiElement(identifier)('attributes')(1130,1140)
                      INDEX(1140,1146)
                        PsiElement([)('[')(1140,1141)
                        VARIABLE_REFERENCE_EXPRESSION(1141,1145)
                          SIMPLE_VARIABLE_REFERENCE(1141,1145)
                            NAME_REFERENCE(1141,1145)
                              PsiElement(identifier)('NAME')(1141,1145)
                        PsiElement(])(']')(1145,1146)
                    PsiWhiteSpace(' ')(1146,1147)
                    PsiElement(=)('=')(1147,1148)
                    PsiWhiteSpace(' ')(1148,1149)
                    VARIABLE_REFERENCE_EXPRESSION(1149,1153)
                      SIMPLE_VARIABLE_REFERENCE(1149,1153)
                        NAME_REFERENCE(1149,1153)
                          PsiElement(identifier)('name')(1149,1153)
                    PsiElement(;)(';')(1153,1154)
                PsiWhiteSpace('\n        ')(1154,1163)
                STATEMENT(1163,1205)
                  ASSIGNMENT_STATEMENT(1163,1205)
                    MAP_ARRAY_VARIABLE_REFERENCE(1163,1183)
                      FIELD_VARIABLE_REFERENCE(1163,1178)
                        SIMPLE_VARIABLE_REFERENCE(1163,1167)
                          NAME_REFERENCE(1163,1167)
                            PsiElement(identifier)('wsEp')(1163,1167)
                        FIELD(1167,1178)
                          PsiElement(.)('.')(1167,1168)
                          PsiElement(identifier)('attributes')(1168,1178)
                      INDEX(1178,1183)
                        PsiElement([)('[')(1178,1179)
                        VARIABLE_REFERENCE_EXPRESSION(1179,1182)
                          SIMPLE_VARIABLE_REFERENCE(1179,1182)
                            NAME_REFERENCE(1179,1182)
                              PsiElement(identifier)('AGE')(1179,1182)
                        PsiElement(])(']')(1182,1183)
                    PsiWhiteSpace(' ')(1183,1184)
                    PsiElement(=)('=')(1184,1185)
                    PsiWhiteSpace(' ')(1185,1186)
                    VARIABLE_REFERENCE_EXPRESSION(1186,1204)
                      MAP_ARRAY_VARIABLE_REFERENCE(1186,1204)
                        SIMPLE_VARIABLE_REFERENCE(1186,1197)
                          NAME_REFERENCE(1186,1197)
                            PsiElement(identifier)('queryParams')(1186,1197)
                        INDEX(1197,1204)
                          PsiElement([)('[')(1197,1198)
                          SIMPLE_LITERAL_EXPRESSION(1198,1203)
                            SIMPLE_LITERAL(1198,1203)
                              PsiElement(QUOTED_STRING_LITERAL)('"age"')(1198,1203)
                          PsiElement(])(']')(1203,1204)
                    PsiElement(;)(';')(1204,1205)
                PsiWhiteSpace('\n        ')(1205,1214)
                STATEMENT(1214,1301)
                  VARIABLE_DEFINITION_STATEMENT(1214,1301)
                    VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(1214,1301)
                      SIMPLE_TYPE_NAME(1214,1220)
                        VALUE_TYPE_NAME(1214,1220)
                          PsiElement(string)('string')(1214,1220)
                      PsiWhiteSpace(' ')(1220,1221)
                      BINDING_PATTERN(1221,1224)
                        PsiElement(identifier)('msg')(1221,1224)
                      PsiWhiteSpace(' ')(1224,1225)
                      PsiElement(=)('=')(1225,1226)
                      PsiWhiteSpace('\n            ')(1226,1239)
                      BINARY_ADD_SUB_EXPRESSION(1239,1300)
                        BINARY_ADD_SUB_EXPRESSION(1239,1251)
                          SIMPLE_LITERAL_EXPRESSION(1239,1244)
                            SIMPLE_LITERAL(1239,1244)
                              PsiElement(QUOTED_STRING_LITERAL)('"Hi "')(1239,1244)
                          PsiWhiteSpace(' ')(1244,1245)
                          PsiElement(+)('+')(1245,1246)
                          PsiWhiteSpace(' ')(1246,1247)
                          VARIABLE_REFERENCE_EXPRESSION(1247,1251)
                            SIMPLE_VARIABLE_REFERENCE(1247,1251)
                              NAME_REFERENCE(1247,1251)
                                PsiElement(identifier)('name')(1247,1251)
                        PsiWhiteSpace(' ')(1251,1252)
                        PsiElement(+)('+')(1252,1253)
                        PsiWhiteSpace(' ')(1253,1254)
                        SIMPLE_LITERAL_EXPRESSION(1254,1300)
                          SIMPLE_LITERAL(1254,1300)
                            PsiElement(QUOTED_STRING_LITERAL)('"! You have succesfully connected to the chat"')(1254,1300)
                      PsiElement(;)(';')(1300,1301)
                PsiWhiteSpace('\n        ')(1301,1310)
                STATEMENT(1310,1340)
                  VARIABLE_DEFINITION_STATEMENT(1310,1340)
                    VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(1310,1340)
                      PsiElement(var)('var')(1310,1313)
                      PsiWhiteSpace(' ')(1313,1314)
                      BINDING_PATTERN(1314,1317)
                        PsiElement(identifier)('err')(1314,1317)
                      PsiWhiteSpace(' ')(1317,1318)
                      PsiElement(=)('=')(1318,1319)
                      PsiWhiteSpace(' ')(1319,1320)
                      ACTION_INVOCATION_EXPRESSION(1320,1339)
                        ACTION_INVOCATION(1320,1339)
                          SIMPLE_VARIABLE_REFERENCE(1320,1324)
                            NAME_REFERENCE(1320,1324)
                              PsiElement(identifier)('wsEp')(1320,1324)
                          PsiElement(->)('->')(1324,1326)
                          FUNCTION_INVOCATION(1326,1339)
                            FUNCTION_NAME_REFERENCE(1326,1334)
                              ANY_IDENTIFIER_NAME(1326,1334)
                                PsiElement(identifier)('pushText')(1326,1334)
                            PsiElement(()('(')(1334,1335)
                            INVOCATION_ARG_LIST(1335,1338)
                              INVOCATION_ARG(1335,1338)
                                VARIABLE_REFERENCE_EXPRESSION(1335,1338)
                                  SIMPLE_VARIABLE_REFERENCE(1335,1338)
                                    NAME_REFERENCE(1335,1338)
                                      PsiElement(identifier)('msg')(1335,1338)
                            PsiElement())(')')(1338,1339)
                      PsiElement(;)(';')(1339,1340)
                PsiWhiteSpace('\n        ')(1340,1349)
                STATEMENT(1349,1442)
                  IF_ELSE_STATEMENT(1349,1442)
                    IF_CLAUSE(1349,1442)
                      PsiElement(if)('if')(1349,1351)
                      PsiWhiteSpace(' ')(1351,1352)
                      BRACED_OR_TUPLE_EXPRESSION(1352,1366)
                        TUPLE_LITERAL(1352,1366)
                          PsiElement(()('(')(1352,1353)
                          TYPE_TEST_EXPRESSION(1353,1365)
                            VARIABLE_REFERENCE_EXPRESSION(1353,1356)
                              SIMPLE_VARIABLE_REFERENCE(1353,1356)
                                NAME_REFERENCE(1353,1356)
                                  PsiElement(identifier)('err')(1353,1356)
                            PsiWhiteSpace(' ')(1356,1357)
                            PsiElement(is)('is')(1357,1359)
                            PsiWhiteSpace(' ')(1359,1360)
                            SIMPLE_TYPE_NAME(1360,1365)
                              REFERENCE_TYPE_NAME(1360,1365)
                                BUILT_IN_REFERENCE_TYPE_NAME(1360,1365)
                                  ERROR_TYPE_NAME(1360,1365)
                                    PsiElement(error)('error')(1360,1365)
                          PsiElement())(')')(1365,1366)
                      PsiWhiteSpace(' ')(1366,1367)
                      PsiElement({)('{')(1367,1368)
                      PsiWhiteSpace('\n            ')(1368,1381)
                      BLOCK(1381,1432)
                        STATEMENT(1381,1432)
                          EXPRESSION_STMT(1381,1432)
                            VARIABLE_REFERENCE_EXPRESSION(1381,1431)
                              FUNCTION_INVOCATION_REFERENCE(1381,1431)
                                FUNCTION_INVOCATION(1381,1431)
                                  FUNCTION_NAME_REFERENCE(1381,1395)
                                    PACKAGE_REFERENCE(1381,1385)
                                      PsiElement(identifier)('log')(1381,1384)
                                      PsiElement(:)(':')(1384,1385)
                                    ANY_IDENTIFIER_NAME(1385,1395)
                                      PsiElement(identifier)('printError')(1385,1395)
                                  PsiElement(()('(')(1395,1396)
                                  INVOCATION_ARG_LIST(1396,1430)
                                    INVOCATION_ARG(1396,1419)
                                      SIMPLE_LITERAL_EXPRESSION(1396,1419)
                                        SIMPLE_LITERAL(1396,1419)
                                          PsiElement(QUOTED_STRING_LITERAL)('"Error sending message"')(1396,1419)
                                    PsiElement(,)(',')(1419,1420)
                                    PsiWhiteSpace(' ')(1420,1421)
                                    INVOCATION_ARG(1421,1430)
                                      NAMED_ARGS(1421,1430)
                                        PsiElement(identifier)('err')(1421,1424)
                                        PsiWhiteSpace(' ')(1424,1425)
                                        PsiElement(=)('=')(1425,1426)
                                        PsiWhiteSpace(' ')(1426,1427)
                                        VARIABLE_REFERENCE_EXPRESSION(1427,1430)
                                          SIMPLE_VARIABLE_REFERENCE(1427,1430)
                                            NAME_REFERENCE(1427,1430)
                                              PsiElement(identifier)('err')(1427,1430)
                                  PsiElement())(')')(1430,1431)
                            PsiElement(;)(';')(1431,1432)
                      PsiWhiteSpace('\n        ')(1432,1441)
                      PsiElement(})('}')(1441,1442)
                PsiWhiteSpace('\n    ')(1442,1447)
                PsiElement(})('}')(1447,1448)
          PsiWhiteSpace('\n')(1448,1449)
          PsiElement(})('}')(1449,1450)
  PsiWhiteSpace('\n\n')(1450,1452)
  PsiComment(LINE_COMMENT)('// Stores the connection IDs of users who join the chat.')(1452,1508)
  PsiWhiteSpace('\n')(1508,1509)
  DEFINITION(1509,1555)
    GLOBAL_VARIABLE_DEFINITION(1509,1555)
      SIMPLE_TYPE_NAME(1509,1534)
        REFERENCE_TYPE_NAME(1509,1534)
          BUILT_IN_REFERENCE_TYPE_NAME(1509,1534)
            MAP_TYPE_NAME(1509,1534)
              PsiElement(map)('map')(1509,1512)
              PsiElement(<)('<')(1512,1513)
              SIMPLE_TYPE_NAME(1513,1533)
                REFERENCE_TYPE_NAME(1513,1533)
                  USER_DEFINE_TYPE_NAME(1513,1533)
                    NAME_REFERENCE(1513,1533)
                      PACKAGE_REFERENCE(1513,1518)
                        PsiElement(identifier)('http')(1513,1517)
                        PsiElement(:)(':')(1517,1518)
                      PsiElement(identifier)('WebSocketCaller')(1518,1533)
              PsiElement(>)('>')(1533,1534)
      PsiWhiteSpace(' ')(1534,1535)
      PsiElement(identifier)('connectionsMap')(1535,1549)
      PsiWhiteSpace(' ')(1549,1550)
      PsiElement(=)('=')(1550,1551)
      PsiWhiteSpace(' ')(1551,1552)
      RECORD_LITERAL_EXPRESSION(1552,1554)
        RECORD_LITERAL(1552,1554)
          PsiElement({)('{')(1552,1553)
          PsiElement(})('}')(1553,1554)
      PsiElement(;)(';')(1554,1555)
  PsiWhiteSpace('\n\n')(1555,1557)
  DEFINITION(1557,2666)
    GLOBAL_VARIABLE_DEFINITION(1557,2666)
      SIMPLE_TYPE_NAME(1557,1564)
        REFERENCE_TYPE_NAME(1557,1564)
          BUILT_IN_REFERENCE_TYPE_NAME(1557,1564)
            SERVICE_TYPE_NAME(1557,1564)
              PsiElement(service)('service')(1557,1564)
      PsiWhiteSpace(' ')(1564,1565)
      PsiElement(identifier)('chatApp')(1565,1572)
      PsiWhiteSpace(' ')(1572,1573)
      PsiElement(=)('=')(1573,1574)
      PsiWhiteSpace(' ')(1574,1575)
      SERVICE_CONSTRUCTOR_EXPRESSION(1575,2665)
        ANNOTATION_ATTACHMENT(1575,1606)
          PsiElement(@)('@')(1575,1576)
          NAME_REFERENCE(1576,1603)
            PACKAGE_REFERENCE(1576,1581)
              PsiElement(identifier)('http')(1576,1580)
              PsiElement(:)(':')(1580,1581)
            PsiElement(identifier)('WebSocketServiceConfig')(1581,1603)
          PsiWhiteSpace(' ')(1603,1604)
          RECORD_LITERAL(1604,1606)
            PsiElement({)('{')(1604,1605)
            PsiElement(})('}')(1605,1606)
        PsiWhiteSpace(' ')(1606,1607)
        PsiElement(service)('service')(1607,1614)
        PsiWhiteSpace(' ')(1614,1615)
        SERVICE_BODY(1615,2665)
          PsiElement({)('{')(1615,1616)
          PsiWhiteSpace('\n\n    ')(1616,1622)
          PsiComment(LINE_COMMENT)('// Store the attributes of the user, such as username and age, once the user connects to the chat client, and')(1622,1731)
          PsiWhiteSpace('\n    ')(1731,1736)
          PsiComment(LINE_COMMENT)('// broadcast that the user has joined the chat.')(1736,1783)
          PsiWhiteSpace('\n    ')(1783,1788)
          SERVICE_BODY_MEMBER(1788,2071)
            OBJECT_FUNCTION_DEFINITION(1788,2071)
              PsiElement(resource)('resource')(1788,1796)
              PsiWhiteSpace(' ')(1796,1797)
              PsiElement(function)('function')(1797,1805)
              PsiWhiteSpace(' ')(1805,1806)
              CALLABLE_UNIT_SIGNATURE(1806,1841)
                ANY_IDENTIFIER_NAME(1806,1812)
                  PsiElement(identifier)('onOpen')(1806,1812)
                PsiElement(()('(')(1812,1813)
                FORMAL_PARAMETER_LIST(1813,1840)
                  PARAMETER(1813,1840)
                    PARAMETER_WITH_TYPE(1813,1840)
                      SIMPLE_TYPE_NAME(1813,1833)
                        REFERENCE_TYPE_NAME(1813,1833)
                          USER_DEFINE_TYPE_NAME(1813,1833)
                            NAME_REFERENCE(1813,1833)
                              PACKAGE_REFERENCE(1813,1818)
                                PsiElement(identifier)('http')(1813,1817)
                                PsiElement(:)(':')(1817,1818)
                              PsiElement(identifier)('WebSocketCaller')(1818,1833)
                      PsiWhiteSpace(' ')(1833,1834)
                      PsiElement(identifier)('caller')(1834,1840)
                PsiElement())(')')(1840,1841)
              PsiWhiteSpace(' ')(1841,1842)
              CALLABLE_UNIT_BODY(1842,2071)
                PsiElement({)('{')(1842,1843)
                PsiWhiteSpace('\n        ')(1843,1852)
                STATEMENT(1852,1863)
                  VARIABLE_DEFINITION_STATEMENT(1852,1863)
                    VARIABLE_DEFINITION_STATEMENT_WITHOUT_ASSIGNMENT(1852,1863)
                      SIMPLE_TYPE_NAME(1852,1858)
                        VALUE_TYPE_NAME(1852,1858)
                          PsiElement(string)('string')(1852,1858)
                      PsiWhiteSpace(' ')(1858,1859)
                      PsiElement(identifier)('msg')(1859,1862)
                      PsiElement(;)(';')(1862,1863)
                PsiWhiteSpace('\n        ')(1863,1872)
                STATEMENT(1872,1997)
                  ASSIGNMENT_STATEMENT(1872,1997)
                    SIMPLE_VARIABLE_REFERENCE(1872,1875)
                      NAME_REFERENCE(1872,1875)
                        PsiElement(identifier)('msg')(1872,1875)
                    PsiWhiteSpace(' ')(1875,1876)
                    PsiElement(=)('=')(1876,1877)
                    PsiWhiteSpace(' ')(1877,1878)
                    BINARY_ADD_SUB_EXPRESSION(1878,1996)
                      BINARY_ADD_SUB_EXPRESSION(1878,1973)
                        BINARY_ADD_SUB_EXPRESSION(1878,1922)
                          VARIABLE_REFERENCE_EXPRESSION(1878,1907)
                            FUNCTION_INVOCATION_REFERENCE(1878,1907)
                              FUNCTION_INVOCATION(1878,1907)
                                FUNCTION_NAME_REFERENCE(1878,1893)
                                  ANY_IDENTIFIER_NAME(1878,1893)
                                    PsiElement(identifier)('getAttributeStr')(1878,1893)
                                PsiElement(()('(')(1893,1894)
                                INVOCATION_ARG_LIST(1894,1906)
                                  INVOCATION_ARG(1894,1900)
                                    VARIABLE_REFERENCE_EXPRESSION(1894,1900)
                                      SIMPLE_VARIABLE_REFERENCE(1894,1900)
                                        NAME_REFERENCE(1894,1900)
                                          PsiElement(identifier)('caller')(1894,1900)
                                  PsiElement(,)(',')(1900,1901)
                                  PsiWhiteSpace(' ')(1901,1902)
                                  INVOCATION_ARG(1902,1906)
                                    VARIABLE_REFERENCE_EXPRESSION(1902,1906)
                                      SIMPLE_VARIABLE_REFERENCE(1902,1906)
                                        NAME_REFERENCE(1902,1906)
                                          PsiElement(identifier)('NAME')(1902,1906)
                                PsiElement())(')')(1906,1907)
                          PsiWhiteSpace(' ')(1907,1908)
                          PsiElement(+)('+')(1908,1909)
                          PsiWhiteSpace(' ')(1909,1910)
                          SIMPLE_LITERAL_EXPRESSION(1910,1922)
                            SIMPLE_LITERAL(1910,1922)
                              PsiElement(QUOTED_STRING_LITERAL)('" with age "')(1910,1922)
                        PsiWhiteSpace('\n                    ')(1922,1943)
                        PsiElement(+)('+')(1943,1944)
                        PsiWhiteSpace(' ')(1944,1945)
                        VARIABLE_REFERENCE_EXPRESSION(1945,1973)
                          FUNCTION_INVOCATION_REFERENCE(1945,1973)
                            FUNCTION_INVOCATION(1945,1973)
                              FUNCTION_NAME_REFERENCE(1945,1960)
                                ANY_IDENTIFIER_NAME(1945,1960)
                                  PsiElement(identifier)('getAttributeStr')(1945,1960)
                              PsiElement(()('(')(1960,1961)
                              INVOCATION_ARG_LIST(1961,1972)
                                INVOCATION_ARG(1961,1967)
                                  VARIABLE_REFERENCE_EXPRESSION(1961,1967)
                                    SIMPLE_VARIABLE_REFERENCE(1961,1967)
                                      NAME_REFERENCE(1961,1967)
                                        PsiElement(identifier)('caller')(1961,1967)
                                PsiElement(,)(',')(1967,1968)
                                PsiWhiteSpace(' ')(1968,1969)
                                INVOCATION_ARG(1969,1972)
                                  VARIABLE_REFERENCE_EXPRESSION(1969,1972)
                                    SIMPLE_VARIABLE_REFERENCE(1969,1972)
                                      NAME_REFERENCE(1969,1972)
                                        PsiElement(identifier)('AGE')(1969,1972)
                              PsiElement())(')')(1972,1973)
                      PsiWhiteSpace(' ')(1973,1974)
                      PsiElement(+)('+')(1974,1975)
                      PsiWhiteSpace(' ')(1975,1976)
                      SIMPLE_LITERAL_EXPRESSION(1976,1996)
                        SIMPLE_LITERAL(1976,1996)
                          PsiElement(QUOTED_STRING_LITERAL)('" connected to chat"')(1976,1996)
                    PsiElement(;)(';')(1996,1997)
                PsiWhiteSpace('\n        ')(1997,2006)
                STATEMENT(2006,2021)
                  EXPRESSION_STMT(2006,2021)
                    VARIABLE_REFERENCE_EXPRESSION(2006,2020)
                      FUNCTION_INVOCATION_REFERENCE(2006,2020)
                        FUNCTION_INVOCATION(2006,2020)
                          FUNCTION_NAME_REFERENCE(2006,2015)
                            ANY_IDENTIFIER_NAME(2006,2015)
                              PsiElement(identifier)('broadcast')(2006,2015)
                          PsiElement(()('(')(2015,2016)
                          INVOCATION_ARG_LIST(2016,2019)
                            INVOCATION_ARG(2016,2019)
                              VARIABLE_REFERENCE_EXPRESSION(2016,2019)
                                SIMPLE_VARIABLE_REFERENCE(2016,2019)
                                  NAME_REFERENCE(2016,2019)
                                    PsiElement(identifier)('msg')(2016,2019)
                          PsiElement())(')')(2019,2020)
                    PsiElement(;)(';')(2020,2021)
                PsiWhiteSpace('\n        ')(2021,2030)
                STATEMENT(2030,2065)
                  ASSIGNMENT_STATEMENT(2030,2065)
                    MAP_ARRAY_VARIABLE_REFERENCE(2030,2055)
                      SIMPLE_VARIABLE_REFERENCE(2030,2044)
                        NAME_REFERENCE(2030,2044)
                          PsiElement(identifier)('connectionsMap')(2030,2044)
                      INDEX(2044,2055)
                        PsiElement([)('[')(2044,2045)
                        VARIABLE_REFERENCE_EXPRESSION(2045,2054)
                          FIELD_VARIABLE_REFERENCE(2045,2054)
                            SIMPLE_VARIABLE_REFERENCE(2045,2051)
                              NAME_REFERENCE(2045,2051)
                                PsiElement(identifier)('caller')(2045,2051)
                            FIELD(2051,2054)
                              PsiElement(.)('.')(2051,2052)
                              PsiElement(identifier)('id')(2052,2054)
                        PsiElement(])(']')(2054,2055)
                    PsiWhiteSpace(' ')(2055,2056)
                    PsiElement(=)('=')(2056,2057)
                    PsiWhiteSpace(' ')(2057,2058)
                    VARIABLE_REFERENCE_EXPRESSION(2058,2064)
                      SIMPLE_VARIABLE_REFERENCE(2058,2064)
                        NAME_REFERENCE(2058,2064)
                          PsiElement(identifier)('caller')(2058,2064)
                    PsiElement(;)(';')(2064,2065)
                PsiWhiteSpace('\n    ')(2065,2070)
                PsiElement(})('}')(2070,2071)
          PsiWhiteSpace('\n\n    ')(2071,2077)
          PsiComment(LINE_COMMENT)('// Broadcast the messages sent by a user.')(2077,2118)
          PsiWhiteSpace('\n    ')(2118,2123)
          SERVICE_BODY_MEMBER(2123,2315)
            OBJECT_FUNCTION_DEFINITION(2123,2315)
              PsiElement(resource)('resource')(2123,2131)
              PsiWhiteSpace(' ')(2131,2132)
              PsiElement(function)('function')(2132,2140)
              PsiWhiteSpace(' ')(2140,2141)
              CALLABLE_UNIT_SIGNATURE(2141,2189)
                ANY_IDENTIFIER_NAME(2141,2147)
                  PsiElement(identifier)('onText')(2141,2147)
                PsiElement(()('(')(2147,2148)
                FORMAL_PARAMETER_LIST(2148,2188)
                  PARAMETER(2148,2175)
                    PARAMETER_WITH_TYPE(2148,2175)
                      SIMPLE_TYPE_NAME(2148,2168)
                        REFERENCE_TYPE_NAME(2148,2168)
                          USER_DEFINE_TYPE_NAME(2148,2168)
                            NAME_REFERENCE(2148,2168)
                              PACKAGE_REFERENCE(2148,2153)
                                PsiElement(identifier)('http')(2148,2152)
                                PsiElement(:)(':')(2152,2153)
                              PsiElement(identifier)('WebSocketCaller')(2153,2168)
                      PsiWhiteSpace(' ')(2168,2169)
                      PsiElement(identifier)('caller')(2169,2175)
                  PsiElement(,)(',')(2175,2176)
                  PsiWhiteSpace(' ')(2176,2177)
                  PARAMETER(2177,2188)
                    PARAMETER_WITH_TYPE(2177,2188)
                      SIMPLE_TYPE_NAME(2177,2183)
                        VALUE_TYPE_NAME(2177,2183)
                          PsiElement(string)('string')(2177,2183)
                      PsiWhiteSpace(' ')(2183,2184)
                      PsiElement(identifier)('text')(2184,2188)
                PsiElement())(')')(2188,2189)
              PsiWhiteSpace(' ')(2189,2190)
              CALLABLE_UNIT_BODY(2190,2315)
                PsiElement({)('{')(2190,2191)
                PsiWhiteSpace('\n        ')(2191,2200)
                STATEMENT(2200,2257)
                  VARIABLE_DEFINITION_STATEMENT(2200,2257)
                    VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(2200,2257)
                      SIMPLE_TYPE_NAME(2200,2206)
                        VALUE_TYPE_NAME(2200,2206)
                          PsiElement(string)('string')(2200,2206)
                      PsiWhiteSpace(' ')(2206,2207)
                      BINDING_PATTERN(2207,2210)
                        PsiElement(identifier)('msg')(2207,2210)
                      PsiWhiteSpace(' ')(2210,2211)
                      PsiElement(=)('=')(2211,2212)
                      PsiWhiteSpace(' ')(2212,2213)
                      BINARY_ADD_SUB_EXPRESSION(2213,2256)
                        BINARY_ADD_SUB_EXPRESSION(2213,2249)
                          VARIABLE_REFERENCE_EXPRESSION(2213,2242)
                            FUNCTION_INVOCATION_REFERENCE(2213,2242)
                              FUNCTION_INVOCATION(2213,2242)
                                FUNCTION_NAME_REFERENCE(2213,2228)
                                  ANY_IDENTIFIER_NAME(2213,2228)
                                    PsiElement(identifier)('getAttributeStr')(2213,2228)
                                PsiElement(()('(')(2228,2229)
                                INVOCATION_ARG_LIST(2229,2241)
                                  INVOCATION_ARG(2229,2235)
                                    VARIABLE_REFERENCE_EXPRESSION(2229,2235)
                                      SIMPLE_VARIABLE_REFERENCE(2229,2235)
                                        NAME_REFERENCE(2229,2235)
                                          PsiElement(identifier)('caller')(2229,2235)
                                  PsiElement(,)(',')(2235,2236)
                                  PsiWhiteSpace(' ')(2236,2237)
                                  INVOCATION_ARG(2237,2241)
                                    VARIABLE_REFERENCE_EXPRESSION(2237,2241)
                                      SIMPLE_VARIABLE_REFERENCE(2237,2241)
                                        NAME_REFERENCE(2237,2241)
                                          PsiElement(identifier)('NAME')(2237,2241)
                                PsiElement())(')')(2241,2242)
                          PsiWhiteSpace(' ')(2242,2243)
                          PsiElement(+)('+')(2243,2244)
                          PsiWhiteSpace(' ')(2244,2245)
                          SIMPLE_LITERAL_EXPRESSION(2245,2249)
                            SIMPLE_LITERAL(2245,2249)
                              PsiElement(QUOTED_STRING_LITERAL)('": "')(2245,2249)
                        PsiWhiteSpace(' ')(2249,2250)
                        PsiElement(+)('+')(2250,2251)
                        PsiWhiteSpace(' ')(2251,2252)
                        VARIABLE_REFERENCE_EXPRESSION(2252,2256)
                          SIMPLE_VARIABLE_REFERENCE(2252,2256)
                            NAME_REFERENCE(2252,2256)
                              PsiElement(identifier)('text')(2252,2256)
                      PsiElement(;)(';')(2256,2257)
                PsiWhiteSpace('\n        ')(2257,2266)
                STATEMENT(2266,2285)
                  EXPRESSION_STMT(2266,2285)
                    VARIABLE_REFERENCE_EXPRESSION(2266,2284)
                      FUNCTION_INVOCATION_REFERENCE(2266,2284)
                        FUNCTION_INVOCATION(2266,2284)
                          FUNCTION_NAME_REFERENCE(2266,2279)
                            PACKAGE_REFERENCE(2266,2270)
                              PsiElement(identifier)('log')(2266,2269)
                              PsiElement(:)(':')(2269,2270)
                            ANY_IDENTIFIER_NAME(2270,2279)
                              PsiElement(identifier)('printInfo')(2270,2279)
                          PsiElement(()('(')(2279,2280)
                          INVOCATION_ARG_LIST(2280,2283)
                            INVOCATION_ARG(2280,2283)
                              VARIABLE_REFERENCE_EXPRESSION(2280,2283)
                                SIMPLE_VARIABLE_REFERENCE(2280,2283)
                                  NAME_REFERENCE(2280,2283)
                                    PsiElement(identifier)('msg')(2280,2283)
                          PsiElement())(')')(2283,2284)
                    PsiElement(;)(';')(2284,2285)
                PsiWhiteSpace('\n        ')(2285,2294)
                STATEMENT(2294,2309)
                  EXPRESSION_STMT(2294,2309)
                    VARIABLE_REFERENCE_EXPRESSION(2294,2308)
                      FUNCTION_INVOCATION_REFERENCE(2294,2308)
                        FUNCTION_INVOCATION(2294,2308)
                          FUNCTION_NAME_REFERENCE(2294,2303)
                            ANY_IDENTIFIER_NAME(2294,2303)
                              PsiElement(identifier)('broadcast')(2294,2303)
                          PsiElement(()('(')(2303,2304)
                          INVOCATION_ARG_LIST(2304,2307)
                            INVOCATION_ARG(2304,2307)
                              VARIABLE_REFERENCE_EXPRESSION(2304,2307)
                                SIMPLE_VARIABLE_REFERENCE(2304,2307)
                                  NAME_REFERENCE(2304,2307)
                                    PsiElement(identifier)('msg')(2304,2307)
                          PsiElement())(')')(2307,2308)
                    PsiElement(;)(';')(2308,2309)
                PsiWhiteSpace('\n    ')(2309,2314)
                PsiElement(})('}')(2314,2315)
          PsiWhiteSpace('\n\n    ')(2315,2321)
          PsiComment(LINE_COMMENT)('// Broadcast that a user has left the chat once a user leaves the chat.')(2321,2392)
          PsiWhiteSpace('\n    ')(2392,2397)
          SERVICE_BODY_MEMBER(2397,2663)
            OBJECT_FUNCTION_DEFINITION(2397,2663)
              PsiElement(resource)('resource')(2397,2405)
              PsiWhiteSpace(' ')(2405,2406)
              PsiElement(function)('function')(2406,2414)
              PsiWhiteSpace(' ')(2414,2415)
              CALLABLE_UNIT_SIGNATURE(2415,2514)
                ANY_IDENTIFIER_NAME(2415,2422)
                  PsiElement(identifier)('onClose')(2415,2422)
                PsiElement(()('(')(2422,2423)
                FORMAL_PARAMETER_LIST(2423,2513)
                  PARAMETER(2423,2450)
                    PARAMETER_WITH_TYPE(2423,2450)
                      SIMPLE_TYPE_NAME(2423,2443)
                        REFERENCE_TYPE_NAME(2423,2443)
                          USER_DEFINE_TYPE_NAME(2423,2443)
                            NAME_REFERENCE(2423,2443)
                              PACKAGE_REFERENCE(2423,2428)
                                PsiElement(identifier)('http')(2423,2427)
                                PsiElement(:)(':')(2427,2428)
                              PsiElement(identifier)('WebSocketCaller')(2428,2443)
                      PsiWhiteSpace(' ')(2443,2444)
                      PsiElement(identifier)('caller')(2444,2450)
                  PsiElement(,)(',')(2450,2451)
                  PsiWhiteSpace(' ')(2451,2452)
                  PARAMETER(2452,2466)
                    PARAMETER_WITH_TYPE(2452,2466)
                      SIMPLE_TYPE_NAME(2452,2455)
                        VALUE_TYPE_NAME(2452,2455)
                          PsiElement(int)('int')(2452,2455)
                      PsiWhiteSpace(' ')(2455,2456)
                      PsiElement(identifier)('statusCode')(2456,2466)
                  PsiElement(,)(',')(2466,2467)
                  PsiWhiteSpace('\n                                ')(2467,2500)
                  PARAMETER(2500,2513)
                    PARAMETER_WITH_TYPE(2500,2513)
                      SIMPLE_TYPE_NAME(2500,2506)
                        VALUE_TYPE_NAME(2500,2506)
                          PsiElement(string)('string')(2500,2506)
                      PsiWhiteSpace(' ')(2506,2507)
                      PsiElement(identifier)('reason')(2507,2513)
                PsiElement())(')')(2513,2514)
              PsiWhiteSpace(' ')(2514,2515)
              CALLABLE_UNIT_BODY(2515,2663)
                PsiElement({)('{')(2515,2516)
                PsiWhiteSpace('\n        ')(2516,2525)
                STATEMENT(2525,2562)
                  ASSIGNMENT_STATEMENT(2525,2562)
                    SIMPLE_VARIABLE_REFERENCE(2525,2526)
                      NAME_REFERENCE(2525,2526)
                        PsiElement(identifier)('_')(2525,2526)
                    PsiWhiteSpace(' ')(2526,2527)
                    PsiElement(=)('=')(2527,2528)
                    PsiWhiteSpace(' ')(2528,2529)
                    VARIABLE_REFERENCE_EXPRESSION(2529,2561)
                      INVOCATION_REFERENCE(2529,2561)
                        SIMPLE_VARIABLE_REFERENCE(2529,2543)
                          NAME_REFERENCE(2529,2543)
                            PsiElement(identifier)('connectionsMap')(2529,2543)
                        INVOCATION(2543,2561)
                          PsiElement(.)('.')(2543,2544)
                          ANY_IDENTIFIER_NAME(2544,2550)
                            PsiElement(identifier)('remove')(2544,2550)
                          PsiElement(()('(')(2550,2551)
                          INVOCATION_ARG_LIST(2551,2560)
                            INVOCATION_ARG(2551,2560)
                              VARIABLE_REFERENCE_EXPRESSION(2551,2560)
                                FIELD_VARIABLE_REFERENCE(2551,2560)
                                  SIMPLE_VARIABLE_REFERENCE(2551,2557)
                                    NAME_REFERENCE(2551,2557)
                                      PsiElement(identifier)('caller')(2551,2557)
                                  FIELD(2557,2560)
                                    PsiElement(.)('.')(2557,2558)
                                    PsiElement(identifier)('id')(2558,2560)
                          PsiElement())(')')(2560,2561)
                    PsiElement(;)(';')(2561,2562)
                PsiWhiteSpace('\n        ')(2562,2571)
                STATEMENT(2571,2633)
                  VARIABLE_DEFINITION_STATEMENT(2571,2633)
                    VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(2571,2633)
                      SIMPLE_TYPE_NAME(2571,2577)
                        VALUE_TYPE_NAME(2571,2577)
                          PsiElement(string)('string')(2571,2577)
                      PsiWhiteSpace(' ')(2577,2578)
                      BINDING_PATTERN(2578,2581)
                        PsiElement(identifier)('msg')(2578,2581)
                      PsiWhiteSpace(' ')(2581,2582)
                      PsiElement(=)('=')(2582,2583)
                      PsiWhiteSpace(' ')(2583,2584)
                      BINARY_ADD_SUB_EXPRESSION(2584,2632)
                        VARIABLE_REFERENCE_EXPRESSION(2584,2613)
                          FUNCTION_INVOCATION_REFERENCE(2584,2613)
                            FUNCTION_INVOCATION(2584,2613)
                              FUNCTION_NAME_REFERENCE(2584,2599)
                                ANY_IDENTIFIER_NAME(2584,2599)
                                  PsiElement(identifier)('getAttributeStr')(2584,2599)
                              PsiElement(()('(')(2599,2600)
                              INVOCATION_ARG_LIST(2600,2612)
                                INVOCATION_ARG(2600,2606)
                                  VARIABLE_REFERENCE_EXPRESSION(2600,2606)
                                    SIMPLE_VARIABLE_REFERENCE(2600,2606)
                                      NAME_REFERENCE(2600,2606)
                                        PsiElement(identifier)('caller')(2600,2606)
                                PsiElement(,)(',')(2606,2607)
                                PsiWhiteSpace(' ')(2607,2608)
                                INVOCATION_ARG(2608,2612)
                                  VARIABLE_REFERENCE_EXPRESSION(2608,2612)
                                    SIMPLE_VARIABLE_REFERENCE(2608,2612)
                                      NAME_REFERENCE(2608,2612)
                                        PsiElement(identifier)('NAME')(2608,2612)
                              PsiElement())(')')(2612,2613)
                        PsiWhiteSpace(' ')(2613,2614)
                        PsiElement(+)('+')(2614,2615)
                        PsiWhiteSpace(' ')(2615,2616)
                        SIMPLE_LITERAL_EXPRESSION(2616,2632)
                          SIMPLE_LITERAL(2616,2632)
                            PsiElement(QUOTED_STRING_LITERAL)('" left the chat"')(2616,2632)
                      PsiElement(;)(';')(2632,2633)
                PsiWhiteSpace('\n        ')(2633,2642)
                STATEMENT(2642,2657)
                  EXPRESSION_STMT(2642,2657)
                    VARIABLE_REFERENCE_EXPRESSION(2642,2656)
                      FUNCTION_INVOCATION_REFERENCE(2642,2656)
                        FUNCTION_INVOCATION(2642,2656)
                          FUNCTION_NAME_REFERENCE(2642,2651)
                            ANY_IDENTIFIER_NAME(2642,2651)
                              PsiElement(identifier)('broadcast')(2642,2651)
                          PsiElement(()('(')(2651,2652)
                          INVOCATION_ARG_LIST(2652,2655)
                            INVOCATION_ARG(2652,2655)
                              VARIABLE_REFERENCE_EXPRESSION(2652,2655)
                                SIMPLE_VARIABLE_REFERENCE(2652,2655)
                                  NAME_REFERENCE(2652,2655)
                                    PsiElement(identifier)('msg')(2652,2655)
                          PsiElement())(')')(2655,2656)
                    PsiElement(;)(';')(2656,2657)
                PsiWhiteSpace('\n    ')(2657,2662)
                PsiElement(})('}')(2662,2663)
          PsiWhiteSpace('\n')(2663,2664)
          PsiElement(})('}')(2664,2665)
      PsiElement(;)(';')(2665,2666)
  PsiWhiteSpace('\n\n')(2666,2668)
  DEFINITION(2668,2942)
    FUNCTION_DEFINITION(2668,2942)
      PsiElement(function)('function')(2668,2676)
      PsiWhiteSpace(' ')(2676,2677)
      CALLABLE_UNIT_SIGNATURE(2677,2699)
        ANY_IDENTIFIER_NAME(2677,2686)
          PsiElement(identifier)('broadcast')(2677,2686)
        PsiElement(()('(')(2686,2687)
        FORMAL_PARAMETER_LIST(2687,2698)
          PARAMETER(2687,2698)
            PARAMETER_WITH_TYPE(2687,2698)
              SIMPLE_TYPE_NAME(2687,2693)
                VALUE_TYPE_NAME(2687,2693)
                  PsiElement(string)('string')(2687,2693)
              PsiWhiteSpace(' ')(2693,2694)
              PsiElement(identifier)('text')(2694,2698)
        PsiElement())(')')(2698,2699)
      PsiWhiteSpace(' ')(2699,2700)
      CALLABLE_UNIT_BODY(2700,2942)
        PsiElement({)('{')(2700,2701)
        PsiWhiteSpace('\n    ')(2701,2706)
        STATEMENT(2706,2730)
          VARIABLE_DEFINITION_STATEMENT(2706,2730)
            VARIABLE_DEFINITION_STATEMENT_WITHOUT_ASSIGNMENT(2706,2730)
              SIMPLE_TYPE_NAME(2706,2726)
                REFERENCE_TYPE_NAME(2706,2726)
                  USER_DEFINE_TYPE_NAME(2706,2726)
                    NAME_REFERENCE(2706,2726)
                      PACKAGE_REFERENCE(2706,2711)
                        PsiElement(identifier)('http')(2706,2710)
                        PsiElement(:)(':')(2710,2711)
                      PsiElement(identifier)('WebSocketCaller')(2711,2726)
              PsiWhiteSpace(' ')(2726,2727)
              PsiElement(identifier)('ep')(2727,2729)
              PsiElement(;)(';')(2729,2730)
        PsiWhiteSpace('\n    ')(2730,2735)
        STATEMENT(2735,2940)
          FOREACH_STATEMENT(2735,2940)
            PsiElement(foreach)('foreach')(2735,2742)
            PsiWhiteSpace(' ')(2742,2743)
            PsiElement(var)('var')(2743,2746)
            PsiWhiteSpace(' ')(2746,2747)
            BINDING_PATTERN(2747,2756)
              STRUCTURED_BINDING_PATTERN(2747,2756)
                TUPLE_BINDING_PATTERN(2747,2756)
                  PsiElement(()('(')(2747,2748)
                  BINDING_PATTERN(2748,2750)
                    PsiElement(identifier)('id')(2748,2750)
                  PsiElement(,)(',')(2750,2751)
                  PsiWhiteSpace(' ')(2751,2752)
                  BINDING_PATTERN(2752,2755)
                    PsiElement(identifier)('con')(2752,2755)
                  PsiElement())(')')(2755,2756)
            PsiWhiteSpace(' ')(2756,2757)
            PsiElement(in)('in')(2757,2759)
            PsiWhiteSpace(' ')(2759,2760)
            VARIABLE_REFERENCE_EXPRESSION(2760,2774)
              SIMPLE_VARIABLE_REFERENCE(2760,2774)
                NAME_REFERENCE(2760,2774)
                  PsiElement(identifier)('connectionsMap')(2760,2774)
            PsiWhiteSpace(' ')(2774,2775)
            PsiElement({)('{')(2775,2776)
            PsiWhiteSpace('\n        ')(2776,2785)
            BLOCK(2785,2934)
              STATEMENT(2785,2794)
                ASSIGNMENT_STATEMENT(2785,2794)
                  SIMPLE_VARIABLE_REFERENCE(2785,2787)
                    NAME_REFERENCE(2785,2787)
                      PsiElement(identifier)('ep')(2785,2787)
                  PsiWhiteSpace(' ')(2787,2788)
                  PsiElement(=)('=')(2788,2789)
                  PsiWhiteSpace(' ')(2789,2790)
                  VARIABLE_REFERENCE_EXPRESSION(2790,2793)
                    SIMPLE_VARIABLE_REFERENCE(2790,2793)
                      NAME_REFERENCE(2790,2793)
                        PsiElement(identifier)('con')(2790,2793)
                  PsiElement(;)(';')(2793,2794)
              PsiWhiteSpace('\n        ')(2794,2803)
              STATEMENT(2803,2832)
                VARIABLE_DEFINITION_STATEMENT(2803,2832)
                  VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(2803,2832)
                    PsiElement(var)('var')(2803,2806)
                    PsiWhiteSpace(' ')(2806,2807)
                    BINDING_PATTERN(2807,2810)
                      PsiElement(identifier)('err')(2807,2810)
                    PsiWhiteSpace(' ')(2810,2811)
                    PsiElement(=)('=')(2811,2812)
                    PsiWhiteSpace(' ')(2812,2813)
                    ACTION_INVOCATION_EXPRESSION(2813,2831)
                      ACTION_INVOCATION(2813,2831)
                        SIMPLE_VARIABLE_REFERENCE(2813,2815)
                          NAME_REFERENCE(2813,2815)
                            PsiElement(identifier)('ep')(2813,2815)
                        PsiElement(->)('->')(2815,2817)
                        FUNCTION_INVOCATION(2817,2831)
                          FUNCTION_NAME_REFERENCE(2817,2825)
                            ANY_IDENTIFIER_NAME(2817,2825)
                              PsiElement(identifier)('pushText')(2817,2825)
                          PsiElement(()('(')(2825,2826)
                          INVOCATION_ARG_LIST(2826,2830)
                            INVOCATION_ARG(2826,2830)
                              VARIABLE_REFERENCE_EXPRESSION(2826,2830)
                                SIMPLE_VARIABLE_REFERENCE(2826,2830)
                                  NAME_REFERENCE(2826,2830)
                                    PsiElement(identifier)('text')(2826,2830)
                          PsiElement())(')')(2830,2831)
                    PsiElement(;)(';')(2831,2832)
              PsiWhiteSpace('\n        ')(2832,2841)
              STATEMENT(2841,2934)
                IF_ELSE_STATEMENT(2841,2934)
                  IF_CLAUSE(2841,2934)
                    PsiElement(if)('if')(2841,2843)
                    PsiWhiteSpace(' ')(2843,2844)
                    BRACED_OR_TUPLE_EXPRESSION(2844,2858)
                      TUPLE_LITERAL(2844,2858)
                        PsiElement(()('(')(2844,2845)
                        TYPE_TEST_EXPRESSION(2845,2857)
                          VARIABLE_REFERENCE_EXPRESSION(2845,2848)
                            SIMPLE_VARIABLE_REFERENCE(2845,2848)
                              NAME_REFERENCE(2845,2848)
                                PsiElement(identifier)('err')(2845,2848)
                          PsiWhiteSpace(' ')(2848,2849)
                          PsiElement(is)('is')(2849,2851)
                          PsiWhiteSpace(' ')(2851,2852)
                          SIMPLE_TYPE_NAME(2852,2857)
                            REFERENCE_TYPE_NAME(2852,2857)
                              BUILT_IN_REFERENCE_TYPE_NAME(2852,2857)
                                ERROR_TYPE_NAME(2852,2857)
                                  PsiElement(error)('error')(2852,2857)
                        PsiElement())(')')(2857,2858)
                    PsiWhiteSpace(' ')(2858,2859)
                    PsiElement({)('{')(2859,2860)
                    PsiWhiteSpace('\n            ')(2860,2873)
                    BLOCK(2873,2924)
                      STATEMENT(2873,2924)
                        EXPRESSION_STMT(2873,2924)
                          VARIABLE_REFERENCE_EXPRESSION(2873,2923)
                            FUNCTION_INVOCATION_REFERENCE(2873,2923)
                              FUNCTION_INVOCATION(2873,2923)
                                FUNCTION_NAME_REFERENCE(2873,2887)
                                  PACKAGE_REFERENCE(2873,2877)
                                    PsiElement(identifier)('log')(2873,2876)
                                    PsiElement(:)(':')(2876,2877)
                                  ANY_IDENTIFIER_NAME(2877,2887)
                                    PsiElement(identifier)('printError')(2877,2887)
                                PsiElement(()('(')(2887,2888)
                                INVOCATION_ARG_LIST(2888,2922)
                                  INVOCATION_ARG(2888,2911)
                                    SIMPLE_LITERAL_EXPRESSION(2888,2911)
                                      SIMPLE_LITERAL(2888,2911)
                                        PsiElement(QUOTED_STRING_LITERAL)('"Error sending message"')(2888,2911)
                                  PsiElement(,)(',')(2911,2912)
                                  PsiWhiteSpace(' ')(2912,2913)
                                  INVOCATION_ARG(2913,2922)
                                    NAMED_ARGS(2913,2922)
                                      PsiElement(identifier)('err')(2913,2916)
                                      PsiWhiteSpace(' ')(2916,2917)
                                      PsiElement(=)('=')(2917,2918)
                                      PsiWhiteSpace(' ')(2918,2919)
                                      VARIABLE_REFERENCE_EXPRESSION(2919,2922)
                                        SIMPLE_VARIABLE_REFERENCE(2919,2922)
                                          NAME_REFERENCE(2919,2922)
                                            PsiElement(identifier)('err')(2919,2922)
                                PsiElement())(')')(2922,2923)
                          PsiElement(;)(';')(2923,2924)
                    PsiWhiteSpace('\n        ')(2924,2933)
                    PsiElement(})('}')(2933,2934)
            PsiWhiteSpace('\n    ')(2934,2939)
            PsiElement(})('}')(2939,2940)
        PsiWhiteSpace('\n')(2940,2941)
        PsiElement(})('}')(2941,2942)
  PsiWhiteSpace('\n\n')(2942,2944)
  DEFINITION(2944,3099)
    FUNCTION_DEFINITION(2944,3099)
      PsiElement(function)('function')(2944,2952)
      PsiWhiteSpace(' ')(2952,2953)
      CALLABLE_UNIT_SIGNATURE(2953,3035)
        ANY_IDENTIFIER_NAME(2953,2968)
          PsiElement(identifier)('getAttributeStr')(2953,2968)
        PsiElement(()('(')(2968,2969)
        FORMAL_PARAMETER_LIST(2969,3004)
          PARAMETER(2969,2992)
            PARAMETER_WITH_TYPE(2969,2992)
              SIMPLE_TYPE_NAME(2969,2989)
                REFERENCE_TYPE_NAME(2969,2989)
                  USER_DEFINE_TYPE_NAME(2969,2989)
                    NAME_REFERENCE(2969,2989)
                      PACKAGE_REFERENCE(2969,2974)
                        PsiElement(identifier)('http')(2969,2973)
                        PsiElement(:)(':')(2973,2974)
                      PsiElement(identifier)('WebSocketCaller')(2974,2989)
              PsiWhiteSpace(' ')(2989,2990)
              PsiElement(identifier)('ep')(2990,2992)
          PsiElement(,)(',')(2992,2993)
          PsiWhiteSpace(' ')(2993,2994)
          PARAMETER(2994,3004)
            PARAMETER_WITH_TYPE(2994,3004)
              SIMPLE_TYPE_NAME(2994,3000)
                VALUE_TYPE_NAME(2994,3000)
                  PsiElement(string)('string')(2994,3000)
              PsiWhiteSpace(' ')(3000,3001)
              PsiElement(identifier)('key')(3001,3004)
        PsiElement())(')')(3004,3005)
        PsiWhiteSpace('\n             ')(3005,3019)
        RETURN_PARAMETER(3019,3035)
          PsiElement(returns)('returns')(3019,3026)
          PsiWhiteSpace(' ')(3026,3027)
          RETURN_TYPE(3027,3035)
            TUPLE_TYPE_NAME(3027,3035)
              PsiElement(()('(')(3027,3028)
              SIMPLE_TYPE_NAME(3028,3034)
                VALUE_TYPE_NAME(3028,3034)
                  PsiElement(string)('string')(3028,3034)
              PsiElement())(')')(3034,3035)
      PsiWhiteSpace(' ')(3035,3036)
      CALLABLE_UNIT_BODY(3036,3099)
        PsiElement({)('{')(3036,3037)
        PsiWhiteSpace('\n    ')(3037,3042)
        STATEMENT(3042,3080)
          VARIABLE_DEFINITION_STATEMENT(3042,3080)
            VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(3042,3080)
              PsiElement(var)('var')(3042,3045)
              PsiWhiteSpace(' ')(3045,3046)
              BINDING_PATTERN(3046,3050)
                PsiElement(identifier)('name')(3046,3050)
              PsiWhiteSpace(' ')(3050,3051)
              PsiElement(=)('=')(3051,3052)
              PsiWhiteSpace(' ')(3052,3053)
              TYPE_CONVERSION_EXPRESSION(3053,3079)
                PsiElement(<)('<')(3053,3054)
                SIMPLE_TYPE_NAME(3054,3060)
                  VALUE_TYPE_NAME(3054,3060)
                    PsiElement(string)('string')(3054,3060)
                PsiElement(>)('>')(3060,3061)
                VARIABLE_REFERENCE_EXPRESSION(3061,3079)
                  MAP_ARRAY_VARIABLE_REFERENCE(3061,3079)
                    FIELD_VARIABLE_REFERENCE(3061,3074)
                      SIMPLE_VARIABLE_REFERENCE(3061,3063)
                        NAME_REFERENCE(3061,3063)
                          PsiElement(identifier)('ep')(3061,3063)
                      FIELD(3063,3074)
                        PsiElement(.)('.')(3063,3064)
                        PsiElement(identifier)('attributes')(3064,3074)
                    INDEX(3074,3079)
                      PsiElement([)('[')(3074,3075)
                      VARIABLE_REFERENCE_EXPRESSION(3075,3078)
                        SIMPLE_VARIABLE_REFERENCE(3075,3078)
                          NAME_REFERENCE(3075,3078)
                            PsiElement(identifier)('key')(3075,3078)
                      PsiElement(])(']')(3078,3079)
              PsiElement(;)(';')(3079,3080)
        PsiWhiteSpace('\n    ')(3080,3085)
        STATEMENT(3085,3097)
          RETURN_STATEMENT(3085,3097)
            PsiElement(return)('return')(3085,3091)
            PsiWhiteSpace(' ')(3091,3092)
            VARIABLE_REFERENCE_EXPRESSION(3092,3096)
              SIMPLE_VARIABLE_REFERENCE(3092,3096)
                NAME_REFERENCE(3092,3096)
                  PsiElement(identifier)('name')(3092,3096)
            PsiElement(;)(';')(3096,3097)
        PsiWhiteSpace('\n')(3097,3098)
        PsiElement(})('}')(3098,3099)
