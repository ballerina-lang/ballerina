Ballerina File(0,3384)
  BallerinaImportDeclarationImpl(IMPORT_DECLARATION)(0,22)
    PsiElement(import)('import')(0,6)
    PsiWhiteSpace(' ')(6,7)
    BallerinaOrgNameImpl(ORG_NAME)(7,16)
      PsiElement(identifier)('ballerina')(7,16)
    PsiElement(/)('/')(16,17)
    BallerinaCompletePackageNameImpl(COMPLETE_PACKAGE_NAME)(17,21)
      BallerinaPackageNameImpl(PACKAGE_NAME)(17,21)
        PsiElement(identifier)('http')(17,21)
    PsiElement(;)(';')(21,22)
  PsiWhiteSpace('\n')(22,23)
  BallerinaImportDeclarationImpl(IMPORT_DECLARATION)(23,44)
    PsiElement(import)('import')(23,29)
    PsiWhiteSpace(' ')(29,30)
    BallerinaOrgNameImpl(ORG_NAME)(30,39)
      PsiElement(identifier)('ballerina')(30,39)
    PsiElement(/)('/')(39,40)
    BallerinaCompletePackageNameImpl(COMPLETE_PACKAGE_NAME)(40,43)
      BallerinaPackageNameImpl(PACKAGE_NAME)(40,43)
        PsiElement(identifier)('log')(40,43)
    PsiElement(;)(';')(43,44)
  PsiWhiteSpace('\n\n')(44,46)
  BallerinaDefinitionImpl(DEFINITION)(46,73)
    BallerinaGlobalVariableDefinitionImpl(GLOBAL_VARIABLE_DEFINITION)(46,73)
      PsiElement(final)('final')(46,51)
      PsiWhiteSpace(' ')(51,52)
      BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(52,58)
        BallerinaValueTypeNameImpl(VALUE_TYPE_NAME)(52,58)
          PsiElement(string)('string')(52,58)
      PsiWhiteSpace(' ')(58,59)
      PsiElement(identifier)('NAME')(59,63)
      PsiWhiteSpace(' ')(63,64)
      PsiElement(=)('=')(64,65)
      PsiWhiteSpace(' ')(65,66)
      BallerinaSimpleLiteralExpressionImpl(SIMPLE_LITERAL_EXPRESSION)(66,72)
        BallerinaSimpleLiteralImpl(SIMPLE_LITERAL)(66,72)
          PsiElement(QUOTED_STRING_LITERAL)('"NAME"')(66,72)
      PsiElement(;)(';')(72,73)
  PsiWhiteSpace('\n')(73,74)
  BallerinaDefinitionImpl(DEFINITION)(74,99)
    BallerinaGlobalVariableDefinitionImpl(GLOBAL_VARIABLE_DEFINITION)(74,99)
      PsiElement(final)('final')(74,79)
      PsiWhiteSpace(' ')(79,80)
      BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(80,86)
        BallerinaValueTypeNameImpl(VALUE_TYPE_NAME)(80,86)
          PsiElement(string)('string')(80,86)
      PsiWhiteSpace(' ')(86,87)
      PsiElement(identifier)('AGE')(87,90)
      PsiWhiteSpace(' ')(90,91)
      PsiElement(=)('=')(91,92)
      PsiWhiteSpace(' ')(92,93)
      BallerinaSimpleLiteralExpressionImpl(SIMPLE_LITERAL_EXPRESSION)(93,98)
        BallerinaSimpleLiteralImpl(SIMPLE_LITERAL)(93,98)
          PsiElement(QUOTED_STRING_LITERAL)('"AGE"')(93,98)
      PsiElement(;)(';')(98,99)
  PsiWhiteSpace('\n\n')(99,101)
  BallerinaDefinitionImpl(DEFINITION)(101,1686)
    BallerinaAnnotationAttachmentImpl(ANNOTATION_ATTACHMENT)(101,146)
      PsiElement(@)('@')(101,102)
      BallerinaNameReferenceImpl(NAME_REFERENCE)(102,120)
        BallerinaPackageReferenceImpl(PACKAGE_REFERENCE)(102,107)
          PsiElement(identifier)('http')(102,106)
          PsiElement(:)(':')(106,107)
        PsiElement(identifier)('ServiceConfig')(107,120)
      PsiWhiteSpace(' ')(120,121)
      BallerinaRecordLiteralImpl(RECORD_LITERAL)(121,146)
        PsiElement({)('{')(121,122)
        PsiWhiteSpace('\n    ')(122,127)
        BallerinaRecordLiteralBodyImpl(RECORD_LITERAL_BODY)(127,144)
          BallerinaRecordKeyValueImpl(RECORD_KEY_VALUE)(127,144)
            BallerinaRecordKeyImpl(RECORD_KEY)(127,135)
              BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(127,135)
                BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(127,135)
                  BallerinaNameReferenceImpl(NAME_REFERENCE)(127,135)
                    PsiElement(identifier)('basePath')(127,135)
            PsiElement(:)(':')(135,136)
            PsiWhiteSpace(' ')(136,137)
            BallerinaSimpleLiteralExpressionImpl(SIMPLE_LITERAL_EXPRESSION)(137,144)
              BallerinaSimpleLiteralImpl(SIMPLE_LITERAL)(137,144)
                PsiElement(QUOTED_STRING_LITERAL)('"/chat"')(137,144)
        PsiWhiteSpace('\n')(144,145)
        PsiElement(})('}')(145,146)
    PsiWhiteSpace('\n')(146,147)
    BallerinaDefinitionImpl(DEFINITION)(147,1686)
      BallerinaServiceDefinitionImpl(SERVICE_DEFINITION)(147,1686)
        PsiElement(service)('service')(147,154)
        PsiWhiteSpace(' ')(154,155)
        PsiElement(identifier)('chatAppUpgrader')(155,170)
        PsiWhiteSpace(' ')(170,171)
        PsiElement(on)('on')(171,173)
        PsiWhiteSpace(' ')(173,174)
        BallerinaExpressionListImpl(EXPRESSION_LIST)(174,197)
          BallerinaTypeInitExpressionImpl(TYPE_INIT_EXPRESSION)(174,197)
            BallerinaInitWithTypeImpl(INIT_WITH_TYPE)(174,197)
              PsiElement(new)('new')(174,177)
              PsiWhiteSpace(' ')(177,178)
              BallerinaUserDefineTypeNameImpl(USER_DEFINE_TYPE_NAME)(178,191)
                BallerinaNameReferenceImpl(NAME_REFERENCE)(178,191)
                  BallerinaPackageReferenceImpl(PACKAGE_REFERENCE)(178,183)
                    PsiElement(identifier)('http')(178,182)
                    PsiElement(:)(':')(182,183)
                  PsiElement(identifier)('Listener')(183,191)
              PsiElement(()('(')(191,192)
              BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(192,196)
                BallerinaInvocationArgImpl(INVOCATION_ARG)(192,196)
                  BallerinaSimpleLiteralExpressionImpl(SIMPLE_LITERAL_EXPRESSION)(192,196)
                    BallerinaSimpleLiteralImpl(SIMPLE_LITERAL)(192,196)
                      BallerinaIntegerLiteralImpl(INTEGER_LITERAL)(192,196)
                        PsiElement(DECIMAL_INTEGER_LITERAL)('9090')(192,196)
              PsiElement())(')')(196,197)
        PsiWhiteSpace(' ')(197,198)
        BallerinaServiceBodyImpl(SERVICE_BODY)(198,1686)
          PsiElement({)('{')(198,199)
          PsiWhiteSpace('\n\n    ')(199,205)
          PsiComment(LINE_COMMENT)('// Upgrade from HTTP to WebSocket and define the service the WebSocket client needs to connect to.')(205,303)
          PsiWhiteSpace('\n    ')(303,308)
          BallerinaServiceBodyMemberImpl(SERVICE_BODY_MEMBER)(308,1684)
            BallerinaObjectFunctionDefinitionImpl(OBJECT_FUNCTION_DEFINITION)(308,1684)
              BallerinaAnnotationAttachmentImpl(ANNOTATION_ATTACHMENT)(308,454)
                PsiElement(@)('@')(308,309)
                BallerinaNameReferenceImpl(NAME_REFERENCE)(309,328)
                  BallerinaPackageReferenceImpl(PACKAGE_REFERENCE)(309,314)
                    PsiElement(identifier)('http')(309,313)
                    PsiElement(:)(':')(313,314)
                  PsiElement(identifier)('ResourceConfig')(314,328)
                PsiWhiteSpace(' ')(328,329)
                BallerinaRecordLiteralImpl(RECORD_LITERAL)(329,454)
                  PsiElement({)('{')(329,330)
                  PsiWhiteSpace('\n        ')(330,339)
                  BallerinaRecordLiteralBodyImpl(RECORD_LITERAL_BODY)(339,448)
                    BallerinaRecordKeyValueImpl(RECORD_KEY_VALUE)(339,448)
                      BallerinaRecordKeyImpl(RECORD_KEY)(339,355)
                        BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(339,355)
                          BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(339,355)
                            BallerinaNameReferenceImpl(NAME_REFERENCE)(339,355)
                              PsiElement(identifier)('webSocketUpgrade')(339,355)
                      PsiElement(:)(':')(355,356)
                      PsiWhiteSpace(' ')(356,357)
                      BallerinaRecordLiteralExpressionImpl(RECORD_LITERAL_EXPRESSION)(357,448)
                        BallerinaRecordLiteralImpl(RECORD_LITERAL)(357,448)
                          PsiElement({)('{')(357,358)
                          PsiWhiteSpace('\n                ')(358,375)
                          BallerinaRecordLiteralBodyImpl(RECORD_LITERAL_BODY)(375,438)
                            BallerinaRecordKeyValueImpl(RECORD_KEY_VALUE)(375,397)
                              BallerinaRecordKeyImpl(RECORD_KEY)(375,386)
                                BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(375,386)
                                  BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(375,386)
                                    BallerinaNameReferenceImpl(NAME_REFERENCE)(375,386)
                                      PsiElement(identifier)('upgradePath')(375,386)
                              PsiElement(:)(':')(386,387)
                              PsiWhiteSpace(' ')(387,388)
                              BallerinaSimpleLiteralExpressionImpl(SIMPLE_LITERAL_EXPRESSION)(388,397)
                                BallerinaSimpleLiteralImpl(SIMPLE_LITERAL)(388,397)
                                  PsiElement(QUOTED_STRING_LITERAL)('"/{name}"')(388,397)
                            PsiElement(,)(',')(397,398)
                            PsiWhiteSpace('\n                ')(398,415)
                            BallerinaRecordKeyValueImpl(RECORD_KEY_VALUE)(415,438)
                              BallerinaRecordKeyImpl(RECORD_KEY)(415,429)
                                BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(415,429)
                                  BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(415,429)
                                    BallerinaNameReferenceImpl(NAME_REFERENCE)(415,429)
                                      PsiElement(identifier)('upgradeService')(415,429)
                              PsiElement(:)(':')(429,430)
                              PsiWhiteSpace(' ')(430,431)
                              BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(431,438)
                                BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(431,438)
                                  BallerinaNameReferenceImpl(NAME_REFERENCE)(431,438)
                                    PsiElement(identifier)('chatApp')(431,438)
                          PsiWhiteSpace('\n        ')(438,447)
                          PsiElement(})('}')(447,448)
                  PsiWhiteSpace('\n    ')(448,453)
                  PsiElement(})('}')(453,454)
              PsiWhiteSpace('\n    ')(454,459)
              PsiElement(resource)('resource')(459,467)
              PsiWhiteSpace(' ')(467,468)
              PsiElement(function)('function')(468,476)
              PsiWhiteSpace(' ')(476,477)
              BallerinaCallableUnitSignatureImpl(CALLABLE_UNIT_SIGNATURE)(477,568)
                BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(477,485)
                  PsiElement(identifier)('upgrader')(477,485)
                PsiElement(()('(')(485,486)
                BallerinaFormalParameterListImpl(FORMAL_PARAMETER_LIST)(486,567)
                  BallerinaParameterImpl(PARAMETER)(486,504)
                    BallerinaParameterWithTypeImpl(PARAMETER_WITH_TYPE)(486,504)
                      BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(486,497)
                        BallerinaReferenceTypeNameImpl(REFERENCE_TYPE_NAME)(486,497)
                          BallerinaUserDefineTypeNameImpl(USER_DEFINE_TYPE_NAME)(486,497)
                            BallerinaNameReferenceImpl(NAME_REFERENCE)(486,497)
                              BallerinaPackageReferenceImpl(PACKAGE_REFERENCE)(486,491)
                                PsiElement(identifier)('http')(486,490)
                                PsiElement(:)(':')(490,491)
                              PsiElement(identifier)('Caller')(491,497)
                      PsiWhiteSpace(' ')(497,498)
                      PsiElement(identifier)('caller')(498,504)
                  PsiElement(,)(',')(504,505)
                  PsiWhiteSpace(' ')(505,506)
                  BallerinaParameterImpl(PARAMETER)(506,522)
                    BallerinaParameterWithTypeImpl(PARAMETER_WITH_TYPE)(506,522)
                      BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(506,518)
                        BallerinaReferenceTypeNameImpl(REFERENCE_TYPE_NAME)(506,518)
                          BallerinaUserDefineTypeNameImpl(USER_DEFINE_TYPE_NAME)(506,518)
                            BallerinaNameReferenceImpl(NAME_REFERENCE)(506,518)
                              BallerinaPackageReferenceImpl(PACKAGE_REFERENCE)(506,511)
                                PsiElement(identifier)('http')(506,510)
                                PsiElement(:)(':')(510,511)
                              PsiElement(identifier)('Request')(511,518)
                      PsiWhiteSpace(' ')(518,519)
                      PsiElement(identifier)('req')(519,522)
                  PsiElement(,)(',')(522,523)
                  PsiWhiteSpace('\n                                ')(523,556)
                  BallerinaParameterImpl(PARAMETER)(556,567)
                    BallerinaParameterWithTypeImpl(PARAMETER_WITH_TYPE)(556,567)
                      BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(556,562)
                        BallerinaValueTypeNameImpl(VALUE_TYPE_NAME)(556,562)
                          PsiElement(string)('string')(556,562)
                      PsiWhiteSpace(' ')(562,563)
                      PsiElement(identifier)('name')(563,567)
                PsiElement())(')')(567,568)
              PsiWhiteSpace(' ')(568,569)
              BallerinaCallableUnitBodyImpl(CALLABLE_UNIT_BODY)(569,1684)
                PsiElement({)('{')(569,570)
                PsiWhiteSpace('\n        ')(570,579)
                BallerinaStatementImpl(STATEMENT)(579,605)
                  BallerinaVariableDefinitionStatementImpl(VARIABLE_DEFINITION_STATEMENT)(579,605)
                    BallerinaVariableDefinitionStatementWithoutAssignmentImpl(VARIABLE_DEFINITION_STATEMENT_WITHOUT_ASSIGNMENT)(579,605)
                      BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(579,599)
                        BallerinaReferenceTypeNameImpl(REFERENCE_TYPE_NAME)(579,599)
                          BallerinaUserDefineTypeNameImpl(USER_DEFINE_TYPE_NAME)(579,599)
                            BallerinaNameReferenceImpl(NAME_REFERENCE)(579,599)
                              BallerinaPackageReferenceImpl(PACKAGE_REFERENCE)(579,584)
                                PsiElement(identifier)('http')(579,583)
                                PsiElement(:)(':')(583,584)
                              PsiElement(identifier)('WebSocketCaller')(584,599)
                      PsiWhiteSpace(' ')(599,600)
                      PsiElement(identifier)('wsEp')(600,604)
                      PsiElement(;)(';')(604,605)
                PsiWhiteSpace('\n        ')(605,614)
                PsiComment(LINE_COMMENT)('// Retrieves query parameters from the `http:Request`.')(614,668)
                PsiWhiteSpace('\n        ')(668,677)
                BallerinaStatementImpl(STATEMENT)(677,724)
                  BallerinaVariableDefinitionStatementImpl(VARIABLE_DEFINITION_STATEMENT)(677,724)
                    BallerinaVariableDefinitionStatementWithAssignmentImpl(VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT)(677,724)
                      BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(677,688)
                        BallerinaReferenceTypeNameImpl(REFERENCE_TYPE_NAME)(677,688)
                          BallerinaBuiltInReferenceTypeNameImpl(BUILT_IN_REFERENCE_TYPE_NAME)(677,688)
                            BallerinaMapTypeNameImpl(MAP_TYPE_NAME)(677,688)
                              PsiElement(map)('map')(677,680)
                              PsiElement(<)('<')(680,681)
                              BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(681,687)
                                BallerinaValueTypeNameImpl(VALUE_TYPE_NAME)(681,687)
                                  PsiElement(string)('string')(681,687)
                              PsiElement(>)('>')(687,688)
                      PsiWhiteSpace(' ')(688,689)
                      BallerinaBindingPatternImpl(BINDING_PATTERN)(689,700)
                        PsiElement(identifier)('queryParams')(689,700)
                      PsiWhiteSpace(' ')(700,701)
                      PsiElement(=)('=')(701,702)
                      PsiWhiteSpace(' ')(702,703)
                      BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(703,723)
                        BallerinaInvocationReferenceImpl(INVOCATION_REFERENCE)(703,723)
                          BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(703,706)
                            BallerinaNameReferenceImpl(NAME_REFERENCE)(703,706)
                              PsiElement(identifier)('req')(703,706)
                          BallerinaInvocationImpl(INVOCATION)(706,723)
                            PsiElement(.)('.')(706,707)
                            BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(707,721)
                              PsiElement(identifier)('getQueryParams')(707,721)
                            PsiElement(()('(')(721,722)
                            PsiElement())(')')(722,723)
                      PsiElement(;)(';')(723,724)
                PsiWhiteSpace('\n        ')(724,733)
                PsiComment(LINE_COMMENT)('// Cancel handshake by sending a 400 status code if the age parameter is missing in the request.')(733,829)
                PsiWhiteSpace('\n        ')(829,838)
                BallerinaStatementImpl(STATEMENT)(838,1098)
                  BallerinaIfElseStatementImpl(IF_ELSE_STATEMENT)(838,1098)
                    BallerinaIfClauseImpl(IF_CLAUSE)(838,1098)
                      PsiElement(if)('if')(838,840)
                      PsiWhiteSpace(' ')(840,841)
                      BallerinaBracedOrTupleExpressionImpl(BRACED_OR_TUPLE_EXPRESSION)(841,869)
                        BallerinaTupleLiteralImpl(TUPLE_LITERAL)(841,869)
                          PsiElement(()('(')(841,842)
                          BallerinaUnaryExpressionImpl(UNARY_EXPRESSION)(842,868)
                            PsiElement(!)('!')(842,843)
                            BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(843,868)
                              BallerinaInvocationReferenceImpl(INVOCATION_REFERENCE)(843,868)
                                BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(843,854)
                                  BallerinaNameReferenceImpl(NAME_REFERENCE)(843,854)
                                    PsiElement(identifier)('queryParams')(843,854)
                                BallerinaInvocationImpl(INVOCATION)(854,868)
                                  PsiElement(.)('.')(854,855)
                                  BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(855,861)
                                    PsiElement(identifier)('hasKey')(855,861)
                                  PsiElement(()('(')(861,862)
                                  BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(862,867)
                                    BallerinaInvocationArgImpl(INVOCATION_ARG)(862,867)
                                      BallerinaSimpleLiteralExpressionImpl(SIMPLE_LITERAL_EXPRESSION)(862,867)
                                        BallerinaSimpleLiteralImpl(SIMPLE_LITERAL)(862,867)
                                          PsiElement(QUOTED_STRING_LITERAL)('"age"')(862,867)
                                  PsiElement())(')')(867,868)
                          PsiElement())(')')(868,869)
                      PsiWhiteSpace(' ')(869,870)
                      PsiElement({)('{')(870,871)
                      PsiWhiteSpace('\n            ')(871,884)
                      BallerinaBlockImpl(BLOCK)(884,1088)
                        BallerinaStatementImpl(STATEMENT)(884,949)
                          BallerinaVariableDefinitionStatementImpl(VARIABLE_DEFINITION_STATEMENT)(884,949)
                            BallerinaVariableDefinitionStatementWithAssignmentImpl(VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT)(884,949)
                              PsiElement(var)('var')(884,887)
                              PsiWhiteSpace(' ')(887,888)
                              BallerinaBindingPatternImpl(BINDING_PATTERN)(888,891)
                                PsiElement(identifier)('err')(888,891)
                              PsiWhiteSpace(' ')(891,892)
                              PsiElement(=)('=')(892,893)
                              PsiWhiteSpace(' ')(893,894)
                              BallerinaActionInvocationExpressionImpl(ACTION_INVOCATION_EXPRESSION)(894,948)
                                BallerinaActionInvocationImpl(ACTION_INVOCATION)(894,948)
                                  BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(894,900)
                                    BallerinaNameReferenceImpl(NAME_REFERENCE)(894,900)
                                      PsiElement(identifier)('caller')(894,900)
                                  PsiElement(->)('->')(900,902)
                                  BallerinaFunctionInvocationImpl(FUNCTION_INVOCATION)(902,948)
                                    BallerinaFunctionNameReferenceImpl(FUNCTION_NAME_REFERENCE)(902,924)
                                      BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(902,924)
                                        PsiElement(identifier)('cancelWebSocketUpgrade')(902,924)
                                    PsiElement(()('(')(924,925)
                                    BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(925,947)
                                      BallerinaInvocationArgImpl(INVOCATION_ARG)(925,928)
                                        BallerinaSimpleLiteralExpressionImpl(SIMPLE_LITERAL_EXPRESSION)(925,928)
                                          BallerinaSimpleLiteralImpl(SIMPLE_LITERAL)(925,928)
                                            BallerinaIntegerLiteralImpl(INTEGER_LITERAL)(925,928)
                                              PsiElement(DECIMAL_INTEGER_LITERAL)('400')(925,928)
                                      PsiElement(,)(',')(928,929)
                                      PsiWhiteSpace(' ')(929,930)
                                      BallerinaInvocationArgImpl(INVOCATION_ARG)(930,947)
                                        BallerinaSimpleLiteralExpressionImpl(SIMPLE_LITERAL_EXPRESSION)(930,947)
                                          BallerinaSimpleLiteralImpl(SIMPLE_LITERAL)(930,947)
                                            PsiElement(QUOTED_STRING_LITERAL)('"Age is required"')(930,947)
                                    PsiElement())(')')(947,948)
                              PsiElement(;)(';')(948,949)
                        PsiWhiteSpace('\n            ')(949,962)
                        BallerinaStatementImpl(STATEMENT)(962,1068)
                          BallerinaIfElseStatementImpl(IF_ELSE_STATEMENT)(962,1068)
                            BallerinaIfClauseImpl(IF_CLAUSE)(962,1068)
                              PsiElement(if)('if')(962,964)
                              PsiWhiteSpace(' ')(964,965)
                              BallerinaBracedOrTupleExpressionImpl(BRACED_OR_TUPLE_EXPRESSION)(965,979)
                                BallerinaTupleLiteralImpl(TUPLE_LITERAL)(965,979)
                                  PsiElement(()('(')(965,966)
                                  BallerinaTypeTestExpressionImpl(TYPE_TEST_EXPRESSION)(966,978)
                                    BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(966,969)
                                      BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(966,969)
                                        BallerinaNameReferenceImpl(NAME_REFERENCE)(966,969)
                                          PsiElement(identifier)('err')(966,969)
                                    PsiWhiteSpace(' ')(969,970)
                                    PsiElement(is)('is')(970,972)
                                    PsiWhiteSpace(' ')(972,973)
                                    BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(973,978)
                                      BallerinaReferenceTypeNameImpl(REFERENCE_TYPE_NAME)(973,978)
                                        BallerinaBuiltInReferenceTypeNameImpl(BUILT_IN_REFERENCE_TYPE_NAME)(973,978)
                                          BallerinaErrorTypeNameImpl(ERROR_TYPE_NAME)(973,978)
                                            PsiElement(error)('error')(973,978)
                                  PsiElement())(')')(978,979)
                              PsiWhiteSpace(' ')(979,980)
                              PsiElement({)('{')(980,981)
                              PsiWhiteSpace('\n                ')(981,998)
                              BallerinaBlockImpl(BLOCK)(998,1054)
                                BallerinaStatementImpl(STATEMENT)(998,1054)
                                  BallerinaExpressionStmtImpl(EXPRESSION_STMT)(998,1054)
                                    BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(998,1053)
                                      BallerinaFunctionInvocationReferenceImpl(FUNCTION_INVOCATION_REFERENCE)(998,1053)
                                        BallerinaFunctionInvocationImpl(FUNCTION_INVOCATION)(998,1053)
                                          BallerinaFunctionNameReferenceImpl(FUNCTION_NAME_REFERENCE)(998,1012)
                                            BallerinaPackageReferenceImpl(PACKAGE_REFERENCE)(998,1002)
                                              PsiElement(identifier)('log')(998,1001)
                                              PsiElement(:)(':')(1001,1002)
                                            BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(1002,1012)
                                              PsiElement(identifier)('printError')(1002,1012)
                                          PsiElement(()('(')(1012,1013)
                                          BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(1013,1052)
                                            BallerinaInvocationArgImpl(INVOCATION_ARG)(1013,1041)
                                              BallerinaSimpleLiteralExpressionImpl(SIMPLE_LITERAL_EXPRESSION)(1013,1041)
                                                BallerinaSimpleLiteralImpl(SIMPLE_LITERAL)(1013,1041)
                                                  PsiElement(QUOTED_STRING_LITERAL)('"Error cancelling handshake"')(1013,1041)
                                            PsiElement(,)(',')(1041,1042)
                                            PsiWhiteSpace(' ')(1042,1043)
                                            BallerinaInvocationArgImpl(INVOCATION_ARG)(1043,1052)
                                              BallerinaNamedArgsImpl(NAMED_ARGS)(1043,1052)
                                                PsiElement(identifier)('err')(1043,1046)
                                                PsiWhiteSpace(' ')(1046,1047)
                                                PsiElement(=)('=')(1047,1048)
                                                PsiWhiteSpace(' ')(1048,1049)
                                                BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(1049,1052)
                                                  BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(1049,1052)
                                                    BallerinaNameReferenceImpl(NAME_REFERENCE)(1049,1052)
                                                      PsiElement(identifier)('err')(1049,1052)
                                          PsiElement())(')')(1052,1053)
                                    PsiElement(;)(';')(1053,1054)
                              PsiWhiteSpace('\n            ')(1054,1067)
                              PsiElement(})('}')(1067,1068)
                        PsiWhiteSpace('\n            ')(1068,1081)
                        BallerinaStatementImpl(STATEMENT)(1081,1088)
                          BallerinaReturnStatementImpl(RETURN_STATEMENT)(1081,1088)
                            PsiElement(return)('return')(1081,1087)
                            PsiElement(;)(';')(1087,1088)
                      PsiWhiteSpace('\n        ')(1088,1097)
                      PsiElement(})('}')(1097,1098)
                PsiWhiteSpace('\n        ')(1098,1107)
                BallerinaStatementImpl(STATEMENT)(1107,1132)
                  BallerinaVariableDefinitionStatementImpl(VARIABLE_DEFINITION_STATEMENT)(1107,1132)
                    BallerinaVariableDefinitionStatementWithAssignmentImpl(VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT)(1107,1132)
                      BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(1107,1118)
                        BallerinaReferenceTypeNameImpl(REFERENCE_TYPE_NAME)(1107,1118)
                          BallerinaBuiltInReferenceTypeNameImpl(BUILT_IN_REFERENCE_TYPE_NAME)(1107,1118)
                            BallerinaMapTypeNameImpl(MAP_TYPE_NAME)(1107,1118)
                              PsiElement(map)('map')(1107,1110)
                              PsiElement(<)('<')(1110,1111)
                              BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(1111,1117)
                                BallerinaValueTypeNameImpl(VALUE_TYPE_NAME)(1111,1117)
                                  PsiElement(string)('string')(1111,1117)
                              PsiElement(>)('>')(1117,1118)
                      PsiWhiteSpace(' ')(1118,1119)
                      BallerinaBindingPatternImpl(BINDING_PATTERN)(1119,1126)
                        PsiElement(identifier)('headers')(1119,1126)
                      PsiWhiteSpace(' ')(1126,1127)
                      PsiElement(=)('=')(1127,1128)
                      PsiWhiteSpace(' ')(1128,1129)
                      BallerinaRecordLiteralExpressionImpl(RECORD_LITERAL_EXPRESSION)(1129,1131)
                        BallerinaRecordLiteralImpl(RECORD_LITERAL)(1129,1131)
                          PsiElement({)('{')(1129,1130)
                          PsiElement(})('}')(1130,1131)
                      PsiElement(;)(';')(1131,1132)
                PsiWhiteSpace('\n        ')(1132,1141)
                BallerinaStatementImpl(STATEMENT)(1141,1188)
                  BallerinaAssignmentStatementImpl(ASSIGNMENT_STATEMENT)(1141,1188)
                    BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(1141,1145)
                      BallerinaNameReferenceImpl(NAME_REFERENCE)(1141,1145)
                        PsiElement(identifier)('wsEp')(1141,1145)
                    PsiWhiteSpace(' ')(1145,1146)
                    PsiElement(=)('=')(1146,1147)
                    PsiWhiteSpace(' ')(1147,1148)
                    BallerinaActionInvocationExpressionImpl(ACTION_INVOCATION_EXPRESSION)(1148,1187)
                      BallerinaActionInvocationImpl(ACTION_INVOCATION)(1148,1187)
                        BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(1148,1154)
                          BallerinaNameReferenceImpl(NAME_REFERENCE)(1148,1154)
                            PsiElement(identifier)('caller')(1148,1154)
                        PsiElement(->)('->')(1154,1156)
                        BallerinaFunctionInvocationImpl(FUNCTION_INVOCATION)(1156,1187)
                          BallerinaFunctionNameReferenceImpl(FUNCTION_NAME_REFERENCE)(1156,1178)
                            BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(1156,1178)
                              PsiElement(identifier)('acceptWebSocketUpgrade')(1156,1178)
                          PsiElement(()('(')(1178,1179)
                          BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(1179,1186)
                            BallerinaInvocationArgImpl(INVOCATION_ARG)(1179,1186)
                              BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(1179,1186)
                                BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(1179,1186)
                                  BallerinaNameReferenceImpl(NAME_REFERENCE)(1179,1186)
                                    PsiElement(identifier)('headers')(1179,1186)
                          PsiElement())(')')(1186,1187)
                    PsiElement(;)(';')(1187,1188)
                PsiWhiteSpace('\n        ')(1188,1197)
                PsiComment(LINE_COMMENT)('// The attributes map of the caller is useful for storing connection specific data.')(1197,1280)
                PsiWhiteSpace('\n        ')(1280,1289)
                PsiComment(LINE_COMMENT)('// In this case `NAME`and `AGE` are unique to each connection.')(1289,1351)
                PsiWhiteSpace('\n        ')(1351,1360)
                BallerinaStatementImpl(STATEMENT)(1360,1389)
                  BallerinaAssignmentStatementImpl(ASSIGNMENT_STATEMENT)(1360,1389)
                    BallerinaMapArrayVariableReferenceImpl(MAP_ARRAY_VARIABLE_REFERENCE)(1360,1381)
                      BallerinaFieldVariableReferenceImpl(FIELD_VARIABLE_REFERENCE)(1360,1375)
                        BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(1360,1364)
                          BallerinaNameReferenceImpl(NAME_REFERENCE)(1360,1364)
                            PsiElement(identifier)('wsEp')(1360,1364)
                        BallerinaFieldImpl(FIELD)(1364,1375)
                          PsiElement(.)('.')(1364,1365)
                          PsiElement(identifier)('attributes')(1365,1375)
                      BallerinaIndexImpl(INDEX)(1375,1381)
                        PsiElement([)('[')(1375,1376)
                        BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(1376,1380)
                          BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(1376,1380)
                            BallerinaNameReferenceImpl(NAME_REFERENCE)(1376,1380)
                              PsiElement(identifier)('NAME')(1376,1380)
                        PsiElement(])(']')(1380,1381)
                    PsiWhiteSpace(' ')(1381,1382)
                    PsiElement(=)('=')(1382,1383)
                    PsiWhiteSpace(' ')(1383,1384)
                    BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(1384,1388)
                      BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(1384,1388)
                        BallerinaNameReferenceImpl(NAME_REFERENCE)(1384,1388)
                          PsiElement(identifier)('name')(1384,1388)
                    PsiElement(;)(';')(1388,1389)
                PsiWhiteSpace('\n        ')(1389,1398)
                BallerinaStatementImpl(STATEMENT)(1398,1440)
                  BallerinaAssignmentStatementImpl(ASSIGNMENT_STATEMENT)(1398,1440)
                    BallerinaMapArrayVariableReferenceImpl(MAP_ARRAY_VARIABLE_REFERENCE)(1398,1418)
                      BallerinaFieldVariableReferenceImpl(FIELD_VARIABLE_REFERENCE)(1398,1413)
                        BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(1398,1402)
                          BallerinaNameReferenceImpl(NAME_REFERENCE)(1398,1402)
                            PsiElement(identifier)('wsEp')(1398,1402)
                        BallerinaFieldImpl(FIELD)(1402,1413)
                          PsiElement(.)('.')(1402,1403)
                          PsiElement(identifier)('attributes')(1403,1413)
                      BallerinaIndexImpl(INDEX)(1413,1418)
                        PsiElement([)('[')(1413,1414)
                        BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(1414,1417)
                          BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(1414,1417)
                            BallerinaNameReferenceImpl(NAME_REFERENCE)(1414,1417)
                              PsiElement(identifier)('AGE')(1414,1417)
                        PsiElement(])(']')(1417,1418)
                    PsiWhiteSpace(' ')(1418,1419)
                    PsiElement(=)('=')(1419,1420)
                    PsiWhiteSpace(' ')(1420,1421)
                    BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(1421,1439)
                      BallerinaMapArrayVariableReferenceImpl(MAP_ARRAY_VARIABLE_REFERENCE)(1421,1439)
                        BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(1421,1432)
                          BallerinaNameReferenceImpl(NAME_REFERENCE)(1421,1432)
                            PsiElement(identifier)('queryParams')(1421,1432)
                        BallerinaIndexImpl(INDEX)(1432,1439)
                          PsiElement([)('[')(1432,1433)
                          BallerinaSimpleLiteralExpressionImpl(SIMPLE_LITERAL_EXPRESSION)(1433,1438)
                            BallerinaSimpleLiteralImpl(SIMPLE_LITERAL)(1433,1438)
                              PsiElement(QUOTED_STRING_LITERAL)('"age"')(1433,1438)
                          PsiElement(])(']')(1438,1439)
                    PsiElement(;)(';')(1439,1440)
                PsiWhiteSpace('\n        ')(1440,1449)
                BallerinaStatementImpl(STATEMENT)(1449,1537)
                  BallerinaVariableDefinitionStatementImpl(VARIABLE_DEFINITION_STATEMENT)(1449,1537)
                    BallerinaVariableDefinitionStatementWithAssignmentImpl(VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT)(1449,1537)
                      BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(1449,1455)
                        BallerinaValueTypeNameImpl(VALUE_TYPE_NAME)(1449,1455)
                          PsiElement(string)('string')(1449,1455)
                      PsiWhiteSpace(' ')(1455,1456)
                      BallerinaBindingPatternImpl(BINDING_PATTERN)(1456,1459)
                        PsiElement(identifier)('msg')(1456,1459)
                      PsiWhiteSpace(' ')(1459,1460)
                      PsiElement(=)('=')(1460,1461)
                      PsiWhiteSpace('\n            ')(1461,1474)
                      BallerinaBinaryAddSubExpressionImpl(BINARY_ADD_SUB_EXPRESSION)(1474,1536)
                        BallerinaBinaryAddSubExpressionImpl(BINARY_ADD_SUB_EXPRESSION)(1474,1486)
                          BallerinaSimpleLiteralExpressionImpl(SIMPLE_LITERAL_EXPRESSION)(1474,1479)
                            BallerinaSimpleLiteralImpl(SIMPLE_LITERAL)(1474,1479)
                              PsiElement(QUOTED_STRING_LITERAL)('"Hi "')(1474,1479)
                          PsiWhiteSpace(' ')(1479,1480)
                          PsiElement(+)('+')(1480,1481)
                          PsiWhiteSpace(' ')(1481,1482)
                          BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(1482,1486)
                            BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(1482,1486)
                              BallerinaNameReferenceImpl(NAME_REFERENCE)(1482,1486)
                                PsiElement(identifier)('name')(1482,1486)
                        PsiWhiteSpace(' ')(1486,1487)
                        PsiElement(+)('+')(1487,1488)
                        PsiWhiteSpace(' ')(1488,1489)
                        BallerinaSimpleLiteralExpressionImpl(SIMPLE_LITERAL_EXPRESSION)(1489,1536)
                          BallerinaSimpleLiteralImpl(SIMPLE_LITERAL)(1489,1536)
                            PsiElement(QUOTED_STRING_LITERAL)('"! You have successfully connected to the chat"')(1489,1536)
                      PsiElement(;)(';')(1536,1537)
                PsiWhiteSpace('\n        ')(1537,1546)
                BallerinaStatementImpl(STATEMENT)(1546,1576)
                  BallerinaVariableDefinitionStatementImpl(VARIABLE_DEFINITION_STATEMENT)(1546,1576)
                    BallerinaVariableDefinitionStatementWithAssignmentImpl(VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT)(1546,1576)
                      PsiElement(var)('var')(1546,1549)
                      PsiWhiteSpace(' ')(1549,1550)
                      BallerinaBindingPatternImpl(BINDING_PATTERN)(1550,1553)
                        PsiElement(identifier)('err')(1550,1553)
                      PsiWhiteSpace(' ')(1553,1554)
                      PsiElement(=)('=')(1554,1555)
                      PsiWhiteSpace(' ')(1555,1556)
                      BallerinaActionInvocationExpressionImpl(ACTION_INVOCATION_EXPRESSION)(1556,1575)
                        BallerinaActionInvocationImpl(ACTION_INVOCATION)(1556,1575)
                          BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(1556,1560)
                            BallerinaNameReferenceImpl(NAME_REFERENCE)(1556,1560)
                              PsiElement(identifier)('wsEp')(1556,1560)
                          PsiElement(->)('->')(1560,1562)
                          BallerinaFunctionInvocationImpl(FUNCTION_INVOCATION)(1562,1575)
                            BallerinaFunctionNameReferenceImpl(FUNCTION_NAME_REFERENCE)(1562,1570)
                              BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(1562,1570)
                                PsiElement(identifier)('pushText')(1562,1570)
                            PsiElement(()('(')(1570,1571)
                            BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(1571,1574)
                              BallerinaInvocationArgImpl(INVOCATION_ARG)(1571,1574)
                                BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(1571,1574)
                                  BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(1571,1574)
                                    BallerinaNameReferenceImpl(NAME_REFERENCE)(1571,1574)
                                      PsiElement(identifier)('msg')(1571,1574)
                            PsiElement())(')')(1574,1575)
                      PsiElement(;)(';')(1575,1576)
                PsiWhiteSpace('\n        ')(1576,1585)
                BallerinaStatementImpl(STATEMENT)(1585,1678)
                  BallerinaIfElseStatementImpl(IF_ELSE_STATEMENT)(1585,1678)
                    BallerinaIfClauseImpl(IF_CLAUSE)(1585,1678)
                      PsiElement(if)('if')(1585,1587)
                      PsiWhiteSpace(' ')(1587,1588)
                      BallerinaBracedOrTupleExpressionImpl(BRACED_OR_TUPLE_EXPRESSION)(1588,1602)
                        BallerinaTupleLiteralImpl(TUPLE_LITERAL)(1588,1602)
                          PsiElement(()('(')(1588,1589)
                          BallerinaTypeTestExpressionImpl(TYPE_TEST_EXPRESSION)(1589,1601)
                            BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(1589,1592)
                              BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(1589,1592)
                                BallerinaNameReferenceImpl(NAME_REFERENCE)(1589,1592)
                                  PsiElement(identifier)('err')(1589,1592)
                            PsiWhiteSpace(' ')(1592,1593)
                            PsiElement(is)('is')(1593,1595)
                            PsiWhiteSpace(' ')(1595,1596)
                            BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(1596,1601)
                              BallerinaReferenceTypeNameImpl(REFERENCE_TYPE_NAME)(1596,1601)
                                BallerinaBuiltInReferenceTypeNameImpl(BUILT_IN_REFERENCE_TYPE_NAME)(1596,1601)
                                  BallerinaErrorTypeNameImpl(ERROR_TYPE_NAME)(1596,1601)
                                    PsiElement(error)('error')(1596,1601)
                          PsiElement())(')')(1601,1602)
                      PsiWhiteSpace(' ')(1602,1603)
                      PsiElement({)('{')(1603,1604)
                      PsiWhiteSpace('\n            ')(1604,1617)
                      BallerinaBlockImpl(BLOCK)(1617,1668)
                        BallerinaStatementImpl(STATEMENT)(1617,1668)
                          BallerinaExpressionStmtImpl(EXPRESSION_STMT)(1617,1668)
                            BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(1617,1667)
                              BallerinaFunctionInvocationReferenceImpl(FUNCTION_INVOCATION_REFERENCE)(1617,1667)
                                BallerinaFunctionInvocationImpl(FUNCTION_INVOCATION)(1617,1667)
                                  BallerinaFunctionNameReferenceImpl(FUNCTION_NAME_REFERENCE)(1617,1631)
                                    BallerinaPackageReferenceImpl(PACKAGE_REFERENCE)(1617,1621)
                                      PsiElement(identifier)('log')(1617,1620)
                                      PsiElement(:)(':')(1620,1621)
                                    BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(1621,1631)
                                      PsiElement(identifier)('printError')(1621,1631)
                                  PsiElement(()('(')(1631,1632)
                                  BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(1632,1666)
                                    BallerinaInvocationArgImpl(INVOCATION_ARG)(1632,1655)
                                      BallerinaSimpleLiteralExpressionImpl(SIMPLE_LITERAL_EXPRESSION)(1632,1655)
                                        BallerinaSimpleLiteralImpl(SIMPLE_LITERAL)(1632,1655)
                                          PsiElement(QUOTED_STRING_LITERAL)('"Error sending message"')(1632,1655)
                                    PsiElement(,)(',')(1655,1656)
                                    PsiWhiteSpace(' ')(1656,1657)
                                    BallerinaInvocationArgImpl(INVOCATION_ARG)(1657,1666)
                                      BallerinaNamedArgsImpl(NAMED_ARGS)(1657,1666)
                                        PsiElement(identifier)('err')(1657,1660)
                                        PsiWhiteSpace(' ')(1660,1661)
                                        PsiElement(=)('=')(1661,1662)
                                        PsiWhiteSpace(' ')(1662,1663)
                                        BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(1663,1666)
                                          BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(1663,1666)
                                            BallerinaNameReferenceImpl(NAME_REFERENCE)(1663,1666)
                                              PsiElement(identifier)('err')(1663,1666)
                                  PsiElement())(')')(1666,1667)
                            PsiElement(;)(';')(1667,1668)
                      PsiWhiteSpace('\n        ')(1668,1677)
                      PsiElement(})('}')(1677,1678)
                PsiWhiteSpace('\n    ')(1678,1683)
                PsiElement(})('}')(1683,1684)
          PsiWhiteSpace('\n')(1684,1685)
          PsiElement(})('}')(1685,1686)
  PsiWhiteSpace('\n\n')(1686,1688)
  PsiComment(LINE_COMMENT)('// Stores the connection IDs of users who join the chat.')(1688,1744)
  PsiWhiteSpace('\n')(1744,1745)
  BallerinaDefinitionImpl(DEFINITION)(1745,1791)
    BallerinaGlobalVariableDefinitionImpl(GLOBAL_VARIABLE_DEFINITION)(1745,1791)
      BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(1745,1770)
        BallerinaReferenceTypeNameImpl(REFERENCE_TYPE_NAME)(1745,1770)
          BallerinaBuiltInReferenceTypeNameImpl(BUILT_IN_REFERENCE_TYPE_NAME)(1745,1770)
            BallerinaMapTypeNameImpl(MAP_TYPE_NAME)(1745,1770)
              PsiElement(map)('map')(1745,1748)
              PsiElement(<)('<')(1748,1749)
              BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(1749,1769)
                BallerinaReferenceTypeNameImpl(REFERENCE_TYPE_NAME)(1749,1769)
                  BallerinaUserDefineTypeNameImpl(USER_DEFINE_TYPE_NAME)(1749,1769)
                    BallerinaNameReferenceImpl(NAME_REFERENCE)(1749,1769)
                      BallerinaPackageReferenceImpl(PACKAGE_REFERENCE)(1749,1754)
                        PsiElement(identifier)('http')(1749,1753)
                        PsiElement(:)(':')(1753,1754)
                      PsiElement(identifier)('WebSocketCaller')(1754,1769)
              PsiElement(>)('>')(1769,1770)
      PsiWhiteSpace(' ')(1770,1771)
      PsiElement(identifier)('connectionsMap')(1771,1785)
      PsiWhiteSpace(' ')(1785,1786)
      PsiElement(=)('=')(1786,1787)
      PsiWhiteSpace(' ')(1787,1788)
      BallerinaRecordLiteralExpressionImpl(RECORD_LITERAL_EXPRESSION)(1788,1790)
        BallerinaRecordLiteralImpl(RECORD_LITERAL)(1788,1790)
          PsiElement({)('{')(1788,1789)
          PsiElement(})('}')(1789,1790)
      PsiElement(;)(';')(1790,1791)
  PsiWhiteSpace('\n\n')(1791,1793)
  BallerinaDefinitionImpl(DEFINITION)(1793,2893)
    BallerinaGlobalVariableDefinitionImpl(GLOBAL_VARIABLE_DEFINITION)(1793,2893)
      BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(1793,1800)
        BallerinaReferenceTypeNameImpl(REFERENCE_TYPE_NAME)(1793,1800)
          BallerinaBuiltInReferenceTypeNameImpl(BUILT_IN_REFERENCE_TYPE_NAME)(1793,1800)
            BallerinaServiceTypeNameImpl(SERVICE_TYPE_NAME)(1793,1800)
              PsiElement(service)('service')(1793,1800)
      PsiWhiteSpace(' ')(1800,1801)
      PsiElement(identifier)('chatApp')(1801,1808)
      PsiWhiteSpace(' ')(1808,1809)
      PsiElement(=)('=')(1809,1810)
      PsiWhiteSpace(' ')(1810,1811)
      BallerinaServiceConstructorExpressionImpl(SERVICE_CONSTRUCTOR_EXPRESSION)(1811,2892)
        BallerinaAnnotationAttachmentImpl(ANNOTATION_ATTACHMENT)(1811,1842)
          PsiElement(@)('@')(1811,1812)
          BallerinaNameReferenceImpl(NAME_REFERENCE)(1812,1839)
            BallerinaPackageReferenceImpl(PACKAGE_REFERENCE)(1812,1817)
              PsiElement(identifier)('http')(1812,1816)
              PsiElement(:)(':')(1816,1817)
            PsiElement(identifier)('WebSocketServiceConfig')(1817,1839)
          PsiWhiteSpace(' ')(1839,1840)
          BallerinaRecordLiteralImpl(RECORD_LITERAL)(1840,1842)
            PsiElement({)('{')(1840,1841)
            PsiElement(})('}')(1841,1842)
        PsiWhiteSpace(' ')(1842,1843)
        PsiElement(service)('service')(1843,1850)
        PsiWhiteSpace(' ')(1850,1851)
        BallerinaServiceBodyImpl(SERVICE_BODY)(1851,2892)
          PsiElement({)('{')(1851,1852)
          PsiWhiteSpace('\n\n    ')(1852,1858)
          PsiComment(LINE_COMMENT)('// Once a user connects to the chat, store the attributes of the user, such as username and age, and')(1858,1958)
          PsiWhiteSpace('\n    ')(1958,1963)
          PsiComment(LINE_COMMENT)('// broadcast that the user has joined the chat.')(1963,2010)
          PsiWhiteSpace('\n    ')(2010,2015)
          BallerinaServiceBodyMemberImpl(SERVICE_BODY_MEMBER)(2015,2298)
            BallerinaObjectFunctionDefinitionImpl(OBJECT_FUNCTION_DEFINITION)(2015,2298)
              PsiElement(resource)('resource')(2015,2023)
              PsiWhiteSpace(' ')(2023,2024)
              PsiElement(function)('function')(2024,2032)
              PsiWhiteSpace(' ')(2032,2033)
              BallerinaCallableUnitSignatureImpl(CALLABLE_UNIT_SIGNATURE)(2033,2068)
                BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(2033,2039)
                  PsiElement(identifier)('onOpen')(2033,2039)
                PsiElement(()('(')(2039,2040)
                BallerinaFormalParameterListImpl(FORMAL_PARAMETER_LIST)(2040,2067)
                  BallerinaParameterImpl(PARAMETER)(2040,2067)
                    BallerinaParameterWithTypeImpl(PARAMETER_WITH_TYPE)(2040,2067)
                      BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(2040,2060)
                        BallerinaReferenceTypeNameImpl(REFERENCE_TYPE_NAME)(2040,2060)
                          BallerinaUserDefineTypeNameImpl(USER_DEFINE_TYPE_NAME)(2040,2060)
                            BallerinaNameReferenceImpl(NAME_REFERENCE)(2040,2060)
                              BallerinaPackageReferenceImpl(PACKAGE_REFERENCE)(2040,2045)
                                PsiElement(identifier)('http')(2040,2044)
                                PsiElement(:)(':')(2044,2045)
                              PsiElement(identifier)('WebSocketCaller')(2045,2060)
                      PsiWhiteSpace(' ')(2060,2061)
                      PsiElement(identifier)('caller')(2061,2067)
                PsiElement())(')')(2067,2068)
              PsiWhiteSpace(' ')(2068,2069)
              BallerinaCallableUnitBodyImpl(CALLABLE_UNIT_BODY)(2069,2298)
                PsiElement({)('{')(2069,2070)
                PsiWhiteSpace('\n        ')(2070,2079)
                BallerinaStatementImpl(STATEMENT)(2079,2090)
                  BallerinaVariableDefinitionStatementImpl(VARIABLE_DEFINITION_STATEMENT)(2079,2090)
                    BallerinaVariableDefinitionStatementWithoutAssignmentImpl(VARIABLE_DEFINITION_STATEMENT_WITHOUT_ASSIGNMENT)(2079,2090)
                      BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(2079,2085)
                        BallerinaValueTypeNameImpl(VALUE_TYPE_NAME)(2079,2085)
                          PsiElement(string)('string')(2079,2085)
                      PsiWhiteSpace(' ')(2085,2086)
                      PsiElement(identifier)('msg')(2086,2089)
                      PsiElement(;)(';')(2089,2090)
                PsiWhiteSpace('\n        ')(2090,2099)
                BallerinaStatementImpl(STATEMENT)(2099,2224)
                  BallerinaAssignmentStatementImpl(ASSIGNMENT_STATEMENT)(2099,2224)
                    BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(2099,2102)
                      BallerinaNameReferenceImpl(NAME_REFERENCE)(2099,2102)
                        PsiElement(identifier)('msg')(2099,2102)
                    PsiWhiteSpace(' ')(2102,2103)
                    PsiElement(=)('=')(2103,2104)
                    PsiWhiteSpace(' ')(2104,2105)
                    BallerinaBinaryAddSubExpressionImpl(BINARY_ADD_SUB_EXPRESSION)(2105,2223)
                      BallerinaBinaryAddSubExpressionImpl(BINARY_ADD_SUB_EXPRESSION)(2105,2200)
                        BallerinaBinaryAddSubExpressionImpl(BINARY_ADD_SUB_EXPRESSION)(2105,2149)
                          BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2105,2134)
                            BallerinaFunctionInvocationReferenceImpl(FUNCTION_INVOCATION_REFERENCE)(2105,2134)
                              BallerinaFunctionInvocationImpl(FUNCTION_INVOCATION)(2105,2134)
                                BallerinaFunctionNameReferenceImpl(FUNCTION_NAME_REFERENCE)(2105,2120)
                                  BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(2105,2120)
                                    PsiElement(identifier)('getAttributeStr')(2105,2120)
                                PsiElement(()('(')(2120,2121)
                                BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(2121,2133)
                                  BallerinaInvocationArgImpl(INVOCATION_ARG)(2121,2127)
                                    BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2121,2127)
                                      BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(2121,2127)
                                        BallerinaNameReferenceImpl(NAME_REFERENCE)(2121,2127)
                                          PsiElement(identifier)('caller')(2121,2127)
                                  PsiElement(,)(',')(2127,2128)
                                  PsiWhiteSpace(' ')(2128,2129)
                                  BallerinaInvocationArgImpl(INVOCATION_ARG)(2129,2133)
                                    BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2129,2133)
                                      BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(2129,2133)
                                        BallerinaNameReferenceImpl(NAME_REFERENCE)(2129,2133)
                                          PsiElement(identifier)('NAME')(2129,2133)
                                PsiElement())(')')(2133,2134)
                          PsiWhiteSpace(' ')(2134,2135)
                          PsiElement(+)('+')(2135,2136)
                          PsiWhiteSpace(' ')(2136,2137)
                          BallerinaSimpleLiteralExpressionImpl(SIMPLE_LITERAL_EXPRESSION)(2137,2149)
                            BallerinaSimpleLiteralImpl(SIMPLE_LITERAL)(2137,2149)
                              PsiElement(QUOTED_STRING_LITERAL)('" with age "')(2137,2149)
                        PsiWhiteSpace('\n                    ')(2149,2170)
                        PsiElement(+)('+')(2170,2171)
                        PsiWhiteSpace(' ')(2171,2172)
                        BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2172,2200)
                          BallerinaFunctionInvocationReferenceImpl(FUNCTION_INVOCATION_REFERENCE)(2172,2200)
                            BallerinaFunctionInvocationImpl(FUNCTION_INVOCATION)(2172,2200)
                              BallerinaFunctionNameReferenceImpl(FUNCTION_NAME_REFERENCE)(2172,2187)
                                BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(2172,2187)
                                  PsiElement(identifier)('getAttributeStr')(2172,2187)
                              PsiElement(()('(')(2187,2188)
                              BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(2188,2199)
                                BallerinaInvocationArgImpl(INVOCATION_ARG)(2188,2194)
                                  BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2188,2194)
                                    BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(2188,2194)
                                      BallerinaNameReferenceImpl(NAME_REFERENCE)(2188,2194)
                                        PsiElement(identifier)('caller')(2188,2194)
                                PsiElement(,)(',')(2194,2195)
                                PsiWhiteSpace(' ')(2195,2196)
                                BallerinaInvocationArgImpl(INVOCATION_ARG)(2196,2199)
                                  BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2196,2199)
                                    BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(2196,2199)
                                      BallerinaNameReferenceImpl(NAME_REFERENCE)(2196,2199)
                                        PsiElement(identifier)('AGE')(2196,2199)
                              PsiElement())(')')(2199,2200)
                      PsiWhiteSpace(' ')(2200,2201)
                      PsiElement(+)('+')(2201,2202)
                      PsiWhiteSpace(' ')(2202,2203)
                      BallerinaSimpleLiteralExpressionImpl(SIMPLE_LITERAL_EXPRESSION)(2203,2223)
                        BallerinaSimpleLiteralImpl(SIMPLE_LITERAL)(2203,2223)
                          PsiElement(QUOTED_STRING_LITERAL)('" connected to chat"')(2203,2223)
                    PsiElement(;)(';')(2223,2224)
                PsiWhiteSpace('\n        ')(2224,2233)
                BallerinaStatementImpl(STATEMENT)(2233,2248)
                  BallerinaExpressionStmtImpl(EXPRESSION_STMT)(2233,2248)
                    BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2233,2247)
                      BallerinaFunctionInvocationReferenceImpl(FUNCTION_INVOCATION_REFERENCE)(2233,2247)
                        BallerinaFunctionInvocationImpl(FUNCTION_INVOCATION)(2233,2247)
                          BallerinaFunctionNameReferenceImpl(FUNCTION_NAME_REFERENCE)(2233,2242)
                            BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(2233,2242)
                              PsiElement(identifier)('broadcast')(2233,2242)
                          PsiElement(()('(')(2242,2243)
                          BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(2243,2246)
                            BallerinaInvocationArgImpl(INVOCATION_ARG)(2243,2246)
                              BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2243,2246)
                                BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(2243,2246)
                                  BallerinaNameReferenceImpl(NAME_REFERENCE)(2243,2246)
                                    PsiElement(identifier)('msg')(2243,2246)
                          PsiElement())(')')(2246,2247)
                    PsiElement(;)(';')(2247,2248)
                PsiWhiteSpace('\n        ')(2248,2257)
                BallerinaStatementImpl(STATEMENT)(2257,2292)
                  BallerinaAssignmentStatementImpl(ASSIGNMENT_STATEMENT)(2257,2292)
                    BallerinaMapArrayVariableReferenceImpl(MAP_ARRAY_VARIABLE_REFERENCE)(2257,2282)
                      BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(2257,2271)
                        BallerinaNameReferenceImpl(NAME_REFERENCE)(2257,2271)
                          PsiElement(identifier)('connectionsMap')(2257,2271)
                      BallerinaIndexImpl(INDEX)(2271,2282)
                        PsiElement([)('[')(2271,2272)
                        BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2272,2281)
                          BallerinaFieldVariableReferenceImpl(FIELD_VARIABLE_REFERENCE)(2272,2281)
                            BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(2272,2278)
                              BallerinaNameReferenceImpl(NAME_REFERENCE)(2272,2278)
                                PsiElement(identifier)('caller')(2272,2278)
                            BallerinaFieldImpl(FIELD)(2278,2281)
                              PsiElement(.)('.')(2278,2279)
                              PsiElement(identifier)('id')(2279,2281)
                        PsiElement(])(']')(2281,2282)
                    PsiWhiteSpace(' ')(2282,2283)
                    PsiElement(=)('=')(2283,2284)
                    PsiWhiteSpace(' ')(2284,2285)
                    BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2285,2291)
                      BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(2285,2291)
                        BallerinaNameReferenceImpl(NAME_REFERENCE)(2285,2291)
                          PsiElement(identifier)('caller')(2285,2291)
                    PsiElement(;)(';')(2291,2292)
                PsiWhiteSpace('\n    ')(2292,2297)
                PsiElement(})('}')(2297,2298)
          PsiWhiteSpace('\n\n    ')(2298,2304)
          PsiComment(LINE_COMMENT)('// Broadcast the messages sent by a user.')(2304,2345)
          PsiWhiteSpace('\n    ')(2345,2350)
          BallerinaServiceBodyMemberImpl(SERVICE_BODY_MEMBER)(2350,2542)
            BallerinaObjectFunctionDefinitionImpl(OBJECT_FUNCTION_DEFINITION)(2350,2542)
              PsiElement(resource)('resource')(2350,2358)
              PsiWhiteSpace(' ')(2358,2359)
              PsiElement(function)('function')(2359,2367)
              PsiWhiteSpace(' ')(2367,2368)
              BallerinaCallableUnitSignatureImpl(CALLABLE_UNIT_SIGNATURE)(2368,2416)
                BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(2368,2374)
                  PsiElement(identifier)('onText')(2368,2374)
                PsiElement(()('(')(2374,2375)
                BallerinaFormalParameterListImpl(FORMAL_PARAMETER_LIST)(2375,2415)
                  BallerinaParameterImpl(PARAMETER)(2375,2402)
                    BallerinaParameterWithTypeImpl(PARAMETER_WITH_TYPE)(2375,2402)
                      BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(2375,2395)
                        BallerinaReferenceTypeNameImpl(REFERENCE_TYPE_NAME)(2375,2395)
                          BallerinaUserDefineTypeNameImpl(USER_DEFINE_TYPE_NAME)(2375,2395)
                            BallerinaNameReferenceImpl(NAME_REFERENCE)(2375,2395)
                              BallerinaPackageReferenceImpl(PACKAGE_REFERENCE)(2375,2380)
                                PsiElement(identifier)('http')(2375,2379)
                                PsiElement(:)(':')(2379,2380)
                              PsiElement(identifier)('WebSocketCaller')(2380,2395)
                      PsiWhiteSpace(' ')(2395,2396)
                      PsiElement(identifier)('caller')(2396,2402)
                  PsiElement(,)(',')(2402,2403)
                  PsiWhiteSpace(' ')(2403,2404)
                  BallerinaParameterImpl(PARAMETER)(2404,2415)
                    BallerinaParameterWithTypeImpl(PARAMETER_WITH_TYPE)(2404,2415)
                      BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(2404,2410)
                        BallerinaValueTypeNameImpl(VALUE_TYPE_NAME)(2404,2410)
                          PsiElement(string)('string')(2404,2410)
                      PsiWhiteSpace(' ')(2410,2411)
                      PsiElement(identifier)('text')(2411,2415)
                PsiElement())(')')(2415,2416)
              PsiWhiteSpace(' ')(2416,2417)
              BallerinaCallableUnitBodyImpl(CALLABLE_UNIT_BODY)(2417,2542)
                PsiElement({)('{')(2417,2418)
                PsiWhiteSpace('\n        ')(2418,2427)
                BallerinaStatementImpl(STATEMENT)(2427,2484)
                  BallerinaVariableDefinitionStatementImpl(VARIABLE_DEFINITION_STATEMENT)(2427,2484)
                    BallerinaVariableDefinitionStatementWithAssignmentImpl(VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT)(2427,2484)
                      BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(2427,2433)
                        BallerinaValueTypeNameImpl(VALUE_TYPE_NAME)(2427,2433)
                          PsiElement(string)('string')(2427,2433)
                      PsiWhiteSpace(' ')(2433,2434)
                      BallerinaBindingPatternImpl(BINDING_PATTERN)(2434,2437)
                        PsiElement(identifier)('msg')(2434,2437)
                      PsiWhiteSpace(' ')(2437,2438)
                      PsiElement(=)('=')(2438,2439)
                      PsiWhiteSpace(' ')(2439,2440)
                      BallerinaBinaryAddSubExpressionImpl(BINARY_ADD_SUB_EXPRESSION)(2440,2483)
                        BallerinaBinaryAddSubExpressionImpl(BINARY_ADD_SUB_EXPRESSION)(2440,2476)
                          BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2440,2469)
                            BallerinaFunctionInvocationReferenceImpl(FUNCTION_INVOCATION_REFERENCE)(2440,2469)
                              BallerinaFunctionInvocationImpl(FUNCTION_INVOCATION)(2440,2469)
                                BallerinaFunctionNameReferenceImpl(FUNCTION_NAME_REFERENCE)(2440,2455)
                                  BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(2440,2455)
                                    PsiElement(identifier)('getAttributeStr')(2440,2455)
                                PsiElement(()('(')(2455,2456)
                                BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(2456,2468)
                                  BallerinaInvocationArgImpl(INVOCATION_ARG)(2456,2462)
                                    BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2456,2462)
                                      BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(2456,2462)
                                        BallerinaNameReferenceImpl(NAME_REFERENCE)(2456,2462)
                                          PsiElement(identifier)('caller')(2456,2462)
                                  PsiElement(,)(',')(2462,2463)
                                  PsiWhiteSpace(' ')(2463,2464)
                                  BallerinaInvocationArgImpl(INVOCATION_ARG)(2464,2468)
                                    BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2464,2468)
                                      BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(2464,2468)
                                        BallerinaNameReferenceImpl(NAME_REFERENCE)(2464,2468)
                                          PsiElement(identifier)('NAME')(2464,2468)
                                PsiElement())(')')(2468,2469)
                          PsiWhiteSpace(' ')(2469,2470)
                          PsiElement(+)('+')(2470,2471)
                          PsiWhiteSpace(' ')(2471,2472)
                          BallerinaSimpleLiteralExpressionImpl(SIMPLE_LITERAL_EXPRESSION)(2472,2476)
                            BallerinaSimpleLiteralImpl(SIMPLE_LITERAL)(2472,2476)
                              PsiElement(QUOTED_STRING_LITERAL)('": "')(2472,2476)
                        PsiWhiteSpace(' ')(2476,2477)
                        PsiElement(+)('+')(2477,2478)
                        PsiWhiteSpace(' ')(2478,2479)
                        BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2479,2483)
                          BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(2479,2483)
                            BallerinaNameReferenceImpl(NAME_REFERENCE)(2479,2483)
                              PsiElement(identifier)('text')(2479,2483)
                      PsiElement(;)(';')(2483,2484)
                PsiWhiteSpace('\n        ')(2484,2493)
                BallerinaStatementImpl(STATEMENT)(2493,2512)
                  BallerinaExpressionStmtImpl(EXPRESSION_STMT)(2493,2512)
                    BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2493,2511)
                      BallerinaFunctionInvocationReferenceImpl(FUNCTION_INVOCATION_REFERENCE)(2493,2511)
                        BallerinaFunctionInvocationImpl(FUNCTION_INVOCATION)(2493,2511)
                          BallerinaFunctionNameReferenceImpl(FUNCTION_NAME_REFERENCE)(2493,2506)
                            BallerinaPackageReferenceImpl(PACKAGE_REFERENCE)(2493,2497)
                              PsiElement(identifier)('log')(2493,2496)
                              PsiElement(:)(':')(2496,2497)
                            BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(2497,2506)
                              PsiElement(identifier)('printInfo')(2497,2506)
                          PsiElement(()('(')(2506,2507)
                          BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(2507,2510)
                            BallerinaInvocationArgImpl(INVOCATION_ARG)(2507,2510)
                              BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2507,2510)
                                BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(2507,2510)
                                  BallerinaNameReferenceImpl(NAME_REFERENCE)(2507,2510)
                                    PsiElement(identifier)('msg')(2507,2510)
                          PsiElement())(')')(2510,2511)
                    PsiElement(;)(';')(2511,2512)
                PsiWhiteSpace('\n        ')(2512,2521)
                BallerinaStatementImpl(STATEMENT)(2521,2536)
                  BallerinaExpressionStmtImpl(EXPRESSION_STMT)(2521,2536)
                    BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2521,2535)
                      BallerinaFunctionInvocationReferenceImpl(FUNCTION_INVOCATION_REFERENCE)(2521,2535)
                        BallerinaFunctionInvocationImpl(FUNCTION_INVOCATION)(2521,2535)
                          BallerinaFunctionNameReferenceImpl(FUNCTION_NAME_REFERENCE)(2521,2530)
                            BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(2521,2530)
                              PsiElement(identifier)('broadcast')(2521,2530)
                          PsiElement(()('(')(2530,2531)
                          BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(2531,2534)
                            BallerinaInvocationArgImpl(INVOCATION_ARG)(2531,2534)
                              BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2531,2534)
                                BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(2531,2534)
                                  BallerinaNameReferenceImpl(NAME_REFERENCE)(2531,2534)
                                    PsiElement(identifier)('msg')(2531,2534)
                          PsiElement())(')')(2534,2535)
                    PsiElement(;)(';')(2535,2536)
                PsiWhiteSpace('\n    ')(2536,2541)
                PsiElement(})('}')(2541,2542)
          PsiWhiteSpace('\n\n    ')(2542,2548)
          PsiComment(LINE_COMMENT)('// Broadcast that a user has left the chat once a user leaves the chat.')(2548,2619)
          PsiWhiteSpace('\n    ')(2619,2624)
          BallerinaServiceBodyMemberImpl(SERVICE_BODY_MEMBER)(2624,2890)
            BallerinaObjectFunctionDefinitionImpl(OBJECT_FUNCTION_DEFINITION)(2624,2890)
              PsiElement(resource)('resource')(2624,2632)
              PsiWhiteSpace(' ')(2632,2633)
              PsiElement(function)('function')(2633,2641)
              PsiWhiteSpace(' ')(2641,2642)
              BallerinaCallableUnitSignatureImpl(CALLABLE_UNIT_SIGNATURE)(2642,2741)
                BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(2642,2649)
                  PsiElement(identifier)('onClose')(2642,2649)
                PsiElement(()('(')(2649,2650)
                BallerinaFormalParameterListImpl(FORMAL_PARAMETER_LIST)(2650,2740)
                  BallerinaParameterImpl(PARAMETER)(2650,2677)
                    BallerinaParameterWithTypeImpl(PARAMETER_WITH_TYPE)(2650,2677)
                      BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(2650,2670)
                        BallerinaReferenceTypeNameImpl(REFERENCE_TYPE_NAME)(2650,2670)
                          BallerinaUserDefineTypeNameImpl(USER_DEFINE_TYPE_NAME)(2650,2670)
                            BallerinaNameReferenceImpl(NAME_REFERENCE)(2650,2670)
                              BallerinaPackageReferenceImpl(PACKAGE_REFERENCE)(2650,2655)
                                PsiElement(identifier)('http')(2650,2654)
                                PsiElement(:)(':')(2654,2655)
                              PsiElement(identifier)('WebSocketCaller')(2655,2670)
                      PsiWhiteSpace(' ')(2670,2671)
                      PsiElement(identifier)('caller')(2671,2677)
                  PsiElement(,)(',')(2677,2678)
                  PsiWhiteSpace(' ')(2678,2679)
                  BallerinaParameterImpl(PARAMETER)(2679,2693)
                    BallerinaParameterWithTypeImpl(PARAMETER_WITH_TYPE)(2679,2693)
                      BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(2679,2682)
                        BallerinaValueTypeNameImpl(VALUE_TYPE_NAME)(2679,2682)
                          PsiElement(int)('int')(2679,2682)
                      PsiWhiteSpace(' ')(2682,2683)
                      PsiElement(identifier)('statusCode')(2683,2693)
                  PsiElement(,)(',')(2693,2694)
                  PsiWhiteSpace('\n                                ')(2694,2727)
                  BallerinaParameterImpl(PARAMETER)(2727,2740)
                    BallerinaParameterWithTypeImpl(PARAMETER_WITH_TYPE)(2727,2740)
                      BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(2727,2733)
                        BallerinaValueTypeNameImpl(VALUE_TYPE_NAME)(2727,2733)
                          PsiElement(string)('string')(2727,2733)
                      PsiWhiteSpace(' ')(2733,2734)
                      PsiElement(identifier)('reason')(2734,2740)
                PsiElement())(')')(2740,2741)
              PsiWhiteSpace(' ')(2741,2742)
              BallerinaCallableUnitBodyImpl(CALLABLE_UNIT_BODY)(2742,2890)
                PsiElement({)('{')(2742,2743)
                PsiWhiteSpace('\n        ')(2743,2752)
                BallerinaStatementImpl(STATEMENT)(2752,2789)
                  BallerinaAssignmentStatementImpl(ASSIGNMENT_STATEMENT)(2752,2789)
                    BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(2752,2753)
                      BallerinaNameReferenceImpl(NAME_REFERENCE)(2752,2753)
                        PsiElement(identifier)('_')(2752,2753)
                    PsiWhiteSpace(' ')(2753,2754)
                    PsiElement(=)('=')(2754,2755)
                    PsiWhiteSpace(' ')(2755,2756)
                    BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2756,2788)
                      BallerinaInvocationReferenceImpl(INVOCATION_REFERENCE)(2756,2788)
                        BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(2756,2770)
                          BallerinaNameReferenceImpl(NAME_REFERENCE)(2756,2770)
                            PsiElement(identifier)('connectionsMap')(2756,2770)
                        BallerinaInvocationImpl(INVOCATION)(2770,2788)
                          PsiElement(.)('.')(2770,2771)
                          BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(2771,2777)
                            PsiElement(identifier)('remove')(2771,2777)
                          PsiElement(()('(')(2777,2778)
                          BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(2778,2787)
                            BallerinaInvocationArgImpl(INVOCATION_ARG)(2778,2787)
                              BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2778,2787)
                                BallerinaFieldVariableReferenceImpl(FIELD_VARIABLE_REFERENCE)(2778,2787)
                                  BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(2778,2784)
                                    BallerinaNameReferenceImpl(NAME_REFERENCE)(2778,2784)
                                      PsiElement(identifier)('caller')(2778,2784)
                                  BallerinaFieldImpl(FIELD)(2784,2787)
                                    PsiElement(.)('.')(2784,2785)
                                    PsiElement(identifier)('id')(2785,2787)
                          PsiElement())(')')(2787,2788)
                    PsiElement(;)(';')(2788,2789)
                PsiWhiteSpace('\n        ')(2789,2798)
                BallerinaStatementImpl(STATEMENT)(2798,2860)
                  BallerinaVariableDefinitionStatementImpl(VARIABLE_DEFINITION_STATEMENT)(2798,2860)
                    BallerinaVariableDefinitionStatementWithAssignmentImpl(VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT)(2798,2860)
                      BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(2798,2804)
                        BallerinaValueTypeNameImpl(VALUE_TYPE_NAME)(2798,2804)
                          PsiElement(string)('string')(2798,2804)
                      PsiWhiteSpace(' ')(2804,2805)
                      BallerinaBindingPatternImpl(BINDING_PATTERN)(2805,2808)
                        PsiElement(identifier)('msg')(2805,2808)
                      PsiWhiteSpace(' ')(2808,2809)
                      PsiElement(=)('=')(2809,2810)
                      PsiWhiteSpace(' ')(2810,2811)
                      BallerinaBinaryAddSubExpressionImpl(BINARY_ADD_SUB_EXPRESSION)(2811,2859)
                        BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2811,2840)
                          BallerinaFunctionInvocationReferenceImpl(FUNCTION_INVOCATION_REFERENCE)(2811,2840)
                            BallerinaFunctionInvocationImpl(FUNCTION_INVOCATION)(2811,2840)
                              BallerinaFunctionNameReferenceImpl(FUNCTION_NAME_REFERENCE)(2811,2826)
                                BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(2811,2826)
                                  PsiElement(identifier)('getAttributeStr')(2811,2826)
                              PsiElement(()('(')(2826,2827)
                              BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(2827,2839)
                                BallerinaInvocationArgImpl(INVOCATION_ARG)(2827,2833)
                                  BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2827,2833)
                                    BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(2827,2833)
                                      BallerinaNameReferenceImpl(NAME_REFERENCE)(2827,2833)
                                        PsiElement(identifier)('caller')(2827,2833)
                                PsiElement(,)(',')(2833,2834)
                                PsiWhiteSpace(' ')(2834,2835)
                                BallerinaInvocationArgImpl(INVOCATION_ARG)(2835,2839)
                                  BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2835,2839)
                                    BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(2835,2839)
                                      BallerinaNameReferenceImpl(NAME_REFERENCE)(2835,2839)
                                        PsiElement(identifier)('NAME')(2835,2839)
                              PsiElement())(')')(2839,2840)
                        PsiWhiteSpace(' ')(2840,2841)
                        PsiElement(+)('+')(2841,2842)
                        PsiWhiteSpace(' ')(2842,2843)
                        BallerinaSimpleLiteralExpressionImpl(SIMPLE_LITERAL_EXPRESSION)(2843,2859)
                          BallerinaSimpleLiteralImpl(SIMPLE_LITERAL)(2843,2859)
                            PsiElement(QUOTED_STRING_LITERAL)('" left the chat"')(2843,2859)
                      PsiElement(;)(';')(2859,2860)
                PsiWhiteSpace('\n        ')(2860,2869)
                BallerinaStatementImpl(STATEMENT)(2869,2884)
                  BallerinaExpressionStmtImpl(EXPRESSION_STMT)(2869,2884)
                    BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2869,2883)
                      BallerinaFunctionInvocationReferenceImpl(FUNCTION_INVOCATION_REFERENCE)(2869,2883)
                        BallerinaFunctionInvocationImpl(FUNCTION_INVOCATION)(2869,2883)
                          BallerinaFunctionNameReferenceImpl(FUNCTION_NAME_REFERENCE)(2869,2878)
                            BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(2869,2878)
                              PsiElement(identifier)('broadcast')(2869,2878)
                          PsiElement(()('(')(2878,2879)
                          BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(2879,2882)
                            BallerinaInvocationArgImpl(INVOCATION_ARG)(2879,2882)
                              BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(2879,2882)
                                BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(2879,2882)
                                  BallerinaNameReferenceImpl(NAME_REFERENCE)(2879,2882)
                                    PsiElement(identifier)('msg')(2879,2882)
                          PsiElement())(')')(2882,2883)
                    PsiElement(;)(';')(2883,2884)
                PsiWhiteSpace('\n    ')(2884,2889)
                PsiElement(})('}')(2889,2890)
          PsiWhiteSpace('\n')(2890,2891)
          PsiElement(})('}')(2891,2892)
      PsiElement(;)(';')(2892,2893)
  PsiWhiteSpace('\n\n')(2893,2895)
  PsiComment(LINE_COMMENT)('// Function to perform the broadcasting of text messages.')(2895,2952)
  PsiWhiteSpace('\n')(2952,2953)
  BallerinaDefinitionImpl(DEFINITION)(2953,3227)
    BallerinaFunctionDefinitionImpl(FUNCTION_DEFINITION)(2953,3227)
      PsiElement(function)('function')(2953,2961)
      PsiWhiteSpace(' ')(2961,2962)
      BallerinaCallableUnitSignatureImpl(CALLABLE_UNIT_SIGNATURE)(2962,2984)
        BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(2962,2971)
          PsiElement(identifier)('broadcast')(2962,2971)
        PsiElement(()('(')(2971,2972)
        BallerinaFormalParameterListImpl(FORMAL_PARAMETER_LIST)(2972,2983)
          BallerinaParameterImpl(PARAMETER)(2972,2983)
            BallerinaParameterWithTypeImpl(PARAMETER_WITH_TYPE)(2972,2983)
              BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(2972,2978)
                BallerinaValueTypeNameImpl(VALUE_TYPE_NAME)(2972,2978)
                  PsiElement(string)('string')(2972,2978)
              PsiWhiteSpace(' ')(2978,2979)
              PsiElement(identifier)('text')(2979,2983)
        PsiElement())(')')(2983,2984)
      PsiWhiteSpace(' ')(2984,2985)
      BallerinaCallableUnitBodyImpl(CALLABLE_UNIT_BODY)(2985,3227)
        PsiElement({)('{')(2985,2986)
        PsiWhiteSpace('\n    ')(2986,2991)
        BallerinaStatementImpl(STATEMENT)(2991,3015)
          BallerinaVariableDefinitionStatementImpl(VARIABLE_DEFINITION_STATEMENT)(2991,3015)
            BallerinaVariableDefinitionStatementWithoutAssignmentImpl(VARIABLE_DEFINITION_STATEMENT_WITHOUT_ASSIGNMENT)(2991,3015)
              BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(2991,3011)
                BallerinaReferenceTypeNameImpl(REFERENCE_TYPE_NAME)(2991,3011)
                  BallerinaUserDefineTypeNameImpl(USER_DEFINE_TYPE_NAME)(2991,3011)
                    BallerinaNameReferenceImpl(NAME_REFERENCE)(2991,3011)
                      BallerinaPackageReferenceImpl(PACKAGE_REFERENCE)(2991,2996)
                        PsiElement(identifier)('http')(2991,2995)
                        PsiElement(:)(':')(2995,2996)
                      PsiElement(identifier)('WebSocketCaller')(2996,3011)
              PsiWhiteSpace(' ')(3011,3012)
              PsiElement(identifier)('ep')(3012,3014)
              PsiElement(;)(';')(3014,3015)
        PsiWhiteSpace('\n    ')(3015,3020)
        BallerinaStatementImpl(STATEMENT)(3020,3225)
          BallerinaForeachStatementImpl(FOREACH_STATEMENT)(3020,3225)
            PsiElement(foreach)('foreach')(3020,3027)
            PsiWhiteSpace(' ')(3027,3028)
            PsiElement(var)('var')(3028,3031)
            PsiWhiteSpace(' ')(3031,3032)
            BallerinaBindingPatternImpl(BINDING_PATTERN)(3032,3041)
              BallerinaStructuredBindingPatternImpl(STRUCTURED_BINDING_PATTERN)(3032,3041)
                BallerinaTupleBindingPatternImpl(TUPLE_BINDING_PATTERN)(3032,3041)
                  PsiElement(()('(')(3032,3033)
                  BallerinaBindingPatternImpl(BINDING_PATTERN)(3033,3035)
                    PsiElement(identifier)('id')(3033,3035)
                  PsiElement(,)(',')(3035,3036)
                  PsiWhiteSpace(' ')(3036,3037)
                  BallerinaBindingPatternImpl(BINDING_PATTERN)(3037,3040)
                    PsiElement(identifier)('con')(3037,3040)
                  PsiElement())(')')(3040,3041)
            PsiWhiteSpace(' ')(3041,3042)
            PsiElement(in)('in')(3042,3044)
            PsiWhiteSpace(' ')(3044,3045)
            BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(3045,3059)
              BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(3045,3059)
                BallerinaNameReferenceImpl(NAME_REFERENCE)(3045,3059)
                  PsiElement(identifier)('connectionsMap')(3045,3059)
            PsiWhiteSpace(' ')(3059,3060)
            PsiElement({)('{')(3060,3061)
            PsiWhiteSpace('\n        ')(3061,3070)
            BallerinaBlockImpl(BLOCK)(3070,3219)
              BallerinaStatementImpl(STATEMENT)(3070,3079)
                BallerinaAssignmentStatementImpl(ASSIGNMENT_STATEMENT)(3070,3079)
                  BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(3070,3072)
                    BallerinaNameReferenceImpl(NAME_REFERENCE)(3070,3072)
                      PsiElement(identifier)('ep')(3070,3072)
                  PsiWhiteSpace(' ')(3072,3073)
                  PsiElement(=)('=')(3073,3074)
                  PsiWhiteSpace(' ')(3074,3075)
                  BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(3075,3078)
                    BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(3075,3078)
                      BallerinaNameReferenceImpl(NAME_REFERENCE)(3075,3078)
                        PsiElement(identifier)('con')(3075,3078)
                  PsiElement(;)(';')(3078,3079)
              PsiWhiteSpace('\n        ')(3079,3088)
              BallerinaStatementImpl(STATEMENT)(3088,3117)
                BallerinaVariableDefinitionStatementImpl(VARIABLE_DEFINITION_STATEMENT)(3088,3117)
                  BallerinaVariableDefinitionStatementWithAssignmentImpl(VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT)(3088,3117)
                    PsiElement(var)('var')(3088,3091)
                    PsiWhiteSpace(' ')(3091,3092)
                    BallerinaBindingPatternImpl(BINDING_PATTERN)(3092,3095)
                      PsiElement(identifier)('err')(3092,3095)
                    PsiWhiteSpace(' ')(3095,3096)
                    PsiElement(=)('=')(3096,3097)
                    PsiWhiteSpace(' ')(3097,3098)
                    BallerinaActionInvocationExpressionImpl(ACTION_INVOCATION_EXPRESSION)(3098,3116)
                      BallerinaActionInvocationImpl(ACTION_INVOCATION)(3098,3116)
                        BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(3098,3100)
                          BallerinaNameReferenceImpl(NAME_REFERENCE)(3098,3100)
                            PsiElement(identifier)('ep')(3098,3100)
                        PsiElement(->)('->')(3100,3102)
                        BallerinaFunctionInvocationImpl(FUNCTION_INVOCATION)(3102,3116)
                          BallerinaFunctionNameReferenceImpl(FUNCTION_NAME_REFERENCE)(3102,3110)
                            BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(3102,3110)
                              PsiElement(identifier)('pushText')(3102,3110)
                          PsiElement(()('(')(3110,3111)
                          BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(3111,3115)
                            BallerinaInvocationArgImpl(INVOCATION_ARG)(3111,3115)
                              BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(3111,3115)
                                BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(3111,3115)
                                  BallerinaNameReferenceImpl(NAME_REFERENCE)(3111,3115)
                                    PsiElement(identifier)('text')(3111,3115)
                          PsiElement())(')')(3115,3116)
                    PsiElement(;)(';')(3116,3117)
              PsiWhiteSpace('\n        ')(3117,3126)
              BallerinaStatementImpl(STATEMENT)(3126,3219)
                BallerinaIfElseStatementImpl(IF_ELSE_STATEMENT)(3126,3219)
                  BallerinaIfClauseImpl(IF_CLAUSE)(3126,3219)
                    PsiElement(if)('if')(3126,3128)
                    PsiWhiteSpace(' ')(3128,3129)
                    BallerinaBracedOrTupleExpressionImpl(BRACED_OR_TUPLE_EXPRESSION)(3129,3143)
                      BallerinaTupleLiteralImpl(TUPLE_LITERAL)(3129,3143)
                        PsiElement(()('(')(3129,3130)
                        BallerinaTypeTestExpressionImpl(TYPE_TEST_EXPRESSION)(3130,3142)
                          BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(3130,3133)
                            BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(3130,3133)
                              BallerinaNameReferenceImpl(NAME_REFERENCE)(3130,3133)
                                PsiElement(identifier)('err')(3130,3133)
                          PsiWhiteSpace(' ')(3133,3134)
                          PsiElement(is)('is')(3134,3136)
                          PsiWhiteSpace(' ')(3136,3137)
                          BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(3137,3142)
                            BallerinaReferenceTypeNameImpl(REFERENCE_TYPE_NAME)(3137,3142)
                              BallerinaBuiltInReferenceTypeNameImpl(BUILT_IN_REFERENCE_TYPE_NAME)(3137,3142)
                                BallerinaErrorTypeNameImpl(ERROR_TYPE_NAME)(3137,3142)
                                  PsiElement(error)('error')(3137,3142)
                        PsiElement())(')')(3142,3143)
                    PsiWhiteSpace(' ')(3143,3144)
                    PsiElement({)('{')(3144,3145)
                    PsiWhiteSpace('\n            ')(3145,3158)
                    BallerinaBlockImpl(BLOCK)(3158,3209)
                      BallerinaStatementImpl(STATEMENT)(3158,3209)
                        BallerinaExpressionStmtImpl(EXPRESSION_STMT)(3158,3209)
                          BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(3158,3208)
                            BallerinaFunctionInvocationReferenceImpl(FUNCTION_INVOCATION_REFERENCE)(3158,3208)
                              BallerinaFunctionInvocationImpl(FUNCTION_INVOCATION)(3158,3208)
                                BallerinaFunctionNameReferenceImpl(FUNCTION_NAME_REFERENCE)(3158,3172)
                                  BallerinaPackageReferenceImpl(PACKAGE_REFERENCE)(3158,3162)
                                    PsiElement(identifier)('log')(3158,3161)
                                    PsiElement(:)(':')(3161,3162)
                                  BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(3162,3172)
                                    PsiElement(identifier)('printError')(3162,3172)
                                PsiElement(()('(')(3172,3173)
                                BallerinaInvocationArgListImpl(INVOCATION_ARG_LIST)(3173,3207)
                                  BallerinaInvocationArgImpl(INVOCATION_ARG)(3173,3196)
                                    BallerinaSimpleLiteralExpressionImpl(SIMPLE_LITERAL_EXPRESSION)(3173,3196)
                                      BallerinaSimpleLiteralImpl(SIMPLE_LITERAL)(3173,3196)
                                        PsiElement(QUOTED_STRING_LITERAL)('"Error sending message"')(3173,3196)
                                  PsiElement(,)(',')(3196,3197)
                                  PsiWhiteSpace(' ')(3197,3198)
                                  BallerinaInvocationArgImpl(INVOCATION_ARG)(3198,3207)
                                    BallerinaNamedArgsImpl(NAMED_ARGS)(3198,3207)
                                      PsiElement(identifier)('err')(3198,3201)
                                      PsiWhiteSpace(' ')(3201,3202)
                                      PsiElement(=)('=')(3202,3203)
                                      PsiWhiteSpace(' ')(3203,3204)
                                      BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(3204,3207)
                                        BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(3204,3207)
                                          BallerinaNameReferenceImpl(NAME_REFERENCE)(3204,3207)
                                            PsiElement(identifier)('err')(3204,3207)
                                PsiElement())(')')(3207,3208)
                          PsiElement(;)(';')(3208,3209)
                    PsiWhiteSpace('\n        ')(3209,3218)
                    PsiElement(})('}')(3218,3219)
            PsiWhiteSpace('\n    ')(3219,3224)
            PsiElement(})('}')(3224,3225)
        PsiWhiteSpace('\n')(3225,3226)
        PsiElement(})('}')(3226,3227)
  PsiWhiteSpace('\n\n')(3227,3229)
  BallerinaDefinitionImpl(DEFINITION)(3229,3384)
    BallerinaFunctionDefinitionImpl(FUNCTION_DEFINITION)(3229,3384)
      PsiElement(function)('function')(3229,3237)
      PsiWhiteSpace(' ')(3237,3238)
      BallerinaCallableUnitSignatureImpl(CALLABLE_UNIT_SIGNATURE)(3238,3320)
        BallerinaAnyIdentifierNameImpl(ANY_IDENTIFIER_NAME)(3238,3253)
          PsiElement(identifier)('getAttributeStr')(3238,3253)
        PsiElement(()('(')(3253,3254)
        BallerinaFormalParameterListImpl(FORMAL_PARAMETER_LIST)(3254,3289)
          BallerinaParameterImpl(PARAMETER)(3254,3277)
            BallerinaParameterWithTypeImpl(PARAMETER_WITH_TYPE)(3254,3277)
              BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(3254,3274)
                BallerinaReferenceTypeNameImpl(REFERENCE_TYPE_NAME)(3254,3274)
                  BallerinaUserDefineTypeNameImpl(USER_DEFINE_TYPE_NAME)(3254,3274)
                    BallerinaNameReferenceImpl(NAME_REFERENCE)(3254,3274)
                      BallerinaPackageReferenceImpl(PACKAGE_REFERENCE)(3254,3259)
                        PsiElement(identifier)('http')(3254,3258)
                        PsiElement(:)(':')(3258,3259)
                      PsiElement(identifier)('WebSocketCaller')(3259,3274)
              PsiWhiteSpace(' ')(3274,3275)
              PsiElement(identifier)('ep')(3275,3277)
          PsiElement(,)(',')(3277,3278)
          PsiWhiteSpace(' ')(3278,3279)
          BallerinaParameterImpl(PARAMETER)(3279,3289)
            BallerinaParameterWithTypeImpl(PARAMETER_WITH_TYPE)(3279,3289)
              BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(3279,3285)
                BallerinaValueTypeNameImpl(VALUE_TYPE_NAME)(3279,3285)
                  PsiElement(string)('string')(3279,3285)
              PsiWhiteSpace(' ')(3285,3286)
              PsiElement(identifier)('key')(3286,3289)
        PsiElement())(')')(3289,3290)
        PsiWhiteSpace('\n             ')(3290,3304)
        BallerinaReturnParameterImpl(RETURN_PARAMETER)(3304,3320)
          PsiElement(returns)('returns')(3304,3311)
          PsiWhiteSpace(' ')(3311,3312)
          BallerinaReturnTypeImpl(RETURN_TYPE)(3312,3320)
            BallerinaTupleTypeNameImpl(TUPLE_TYPE_NAME)(3312,3320)
              PsiElement(()('(')(3312,3313)
              BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(3313,3319)
                BallerinaValueTypeNameImpl(VALUE_TYPE_NAME)(3313,3319)
                  PsiElement(string)('string')(3313,3319)
              PsiElement())(')')(3319,3320)
      PsiWhiteSpace(' ')(3320,3321)
      BallerinaCallableUnitBodyImpl(CALLABLE_UNIT_BODY)(3321,3384)
        PsiElement({)('{')(3321,3322)
        PsiWhiteSpace('\n    ')(3322,3327)
        BallerinaStatementImpl(STATEMENT)(3327,3365)
          BallerinaVariableDefinitionStatementImpl(VARIABLE_DEFINITION_STATEMENT)(3327,3365)
            BallerinaVariableDefinitionStatementWithAssignmentImpl(VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT)(3327,3365)
              PsiElement(var)('var')(3327,3330)
              PsiWhiteSpace(' ')(3330,3331)
              BallerinaBindingPatternImpl(BINDING_PATTERN)(3331,3335)
                PsiElement(identifier)('name')(3331,3335)
              PsiWhiteSpace(' ')(3335,3336)
              PsiElement(=)('=')(3336,3337)
              PsiWhiteSpace(' ')(3337,3338)
              BallerinaTypeConversionExpressionImpl(TYPE_CONVERSION_EXPRESSION)(3338,3364)
                PsiElement(<)('<')(3338,3339)
                BallerinaSimpleTypeNameImpl(SIMPLE_TYPE_NAME)(3339,3345)
                  BallerinaValueTypeNameImpl(VALUE_TYPE_NAME)(3339,3345)
                    PsiElement(string)('string')(3339,3345)
                PsiElement(>)('>')(3345,3346)
                BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(3346,3364)
                  BallerinaMapArrayVariableReferenceImpl(MAP_ARRAY_VARIABLE_REFERENCE)(3346,3364)
                    BallerinaFieldVariableReferenceImpl(FIELD_VARIABLE_REFERENCE)(3346,3359)
                      BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(3346,3348)
                        BallerinaNameReferenceImpl(NAME_REFERENCE)(3346,3348)
                          PsiElement(identifier)('ep')(3346,3348)
                      BallerinaFieldImpl(FIELD)(3348,3359)
                        PsiElement(.)('.')(3348,3349)
                        PsiElement(identifier)('attributes')(3349,3359)
                    BallerinaIndexImpl(INDEX)(3359,3364)
                      PsiElement([)('[')(3359,3360)
                      BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(3360,3363)
                        BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(3360,3363)
                          BallerinaNameReferenceImpl(NAME_REFERENCE)(3360,3363)
                            PsiElement(identifier)('key')(3360,3363)
                      PsiElement(])(']')(3363,3364)
              PsiElement(;)(';')(3364,3365)
        PsiWhiteSpace('\n    ')(3365,3370)
        BallerinaStatementImpl(STATEMENT)(3370,3382)
          BallerinaReturnStatementImpl(RETURN_STATEMENT)(3370,3382)
            PsiElement(return)('return')(3370,3376)
            PsiWhiteSpace(' ')(3376,3377)
            BallerinaVariableReferenceExpressionImpl(VARIABLE_REFERENCE_EXPRESSION)(3377,3381)
              BallerinaSimpleVariableReferenceImpl(SIMPLE_VARIABLE_REFERENCE)(3377,3381)
                BallerinaNameReferenceImpl(NAME_REFERENCE)(3377,3381)
                  PsiElement(identifier)('name')(3377,3381)
            PsiElement(;)(';')(3381,3382)
        PsiWhiteSpace('\n')(3382,3383)
        PsiElement(})('}')(3383,3384)
