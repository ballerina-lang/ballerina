Ballerina File(0,1434)
  IMPORT_DECLARATION(0,22)
    PsiElement(import)('import')(0,6)
    PsiWhiteSpace(' ')(6,7)
    ORG_NAME(7,16)
      PsiElement(identifier)('ballerina')(7,16)
    PsiElement(/)('/')(16,17)
    COMPLETE_PACKAGE_NAME(17,21)
      PACKAGE_NAME(17,21)
        PsiElement(identifier)('http')(17,21)
    PsiElement(;)(';')(21,22)
  PsiWhiteSpace('\n')(22,23)
  IMPORT_DECLARATION(23,44)
    PsiElement(import)('import')(23,29)
    PsiWhiteSpace(' ')(29,30)
    ORG_NAME(30,39)
      PsiElement(identifier)('ballerina')(30,39)
    PsiElement(/)('/')(39,40)
    COMPLETE_PACKAGE_NAME(40,43)
      PACKAGE_NAME(40,43)
        PsiElement(identifier)('log')(40,43)
    PsiElement(;)(';')(43,44)
  PsiWhiteSpace('\n\n')(44,46)
  PsiComment(LINE_COMMENT)('// Defines a channel with json constrained type.')(46,94)
  PsiWhiteSpace('\n')(94,95)
  DEFINITION(95,121)
    GLOBAL_VARIABLE(95,121)
      CHANNEL_DEFINITION(95,121)
        CHANNEL_TYPE(95,108)
          PsiElement(channel)('channel')(95,102)
          PsiElement(<)('<')(102,103)
          SIMPLE_TYPE_NAME(103,107)
            REFERENCE_TYPE_NAME(103,107)
              BUILT_IN_REFERENCE_TYPE_NAME(103,107)
                JSON_TYPE_NAME(103,107)
                  PsiElement(json)('json')(103,107)
          PsiElement(>)('>')(107,108)
        PsiWhiteSpace(' ')(108,109)
        PsiElement(identifier)('jsonChannel')(109,120)
        PsiElement(;)(';')(120,121)
  PsiWhiteSpace('\n\n')(121,123)
  DEFINITION(123,1434)
    SERVICE_DEFINITION(123,1434)
      PsiElement(service)('service')(123,130)
      PsiElement(<)('<')(130,131)
      NAME_REFERENCE(131,143)
        PACKAGE_REFERENCE(131,136)
          PsiElement(identifier)('http')(131,135)
          PsiElement(:)(':')(135,136)
        PsiElement(identifier)('Service')(136,143)
      PsiElement(>)('>')(143,144)
      PsiWhiteSpace(' ')(144,145)
      PsiElement(identifier)('channelService')(145,159)
      PsiWhiteSpace(' ')(159,160)
      SERVICE_ENDPOINT_ATTACHMENTS(160,179)
        PsiElement(bind)('bind')(160,164)
        PsiWhiteSpace(' ')(164,165)
        RECORD_LITERAL(165,179)
          PsiElement({)('{')(165,166)
          PsiWhiteSpace(' ')(166,167)
          RECORD_LITERAL_BODY(167,177)
            RECORD_KEY_VALUE(167,177)
              RECORD_KEY(167,171)
                VARIABLE_REFERENCE_EXPRESSION(167,171)
                  SIMPLE_VARIABLE_REFERENCE(167,171)
                    NAME_REFERENCE(167,171)
                      PsiElement(identifier)('port')(167,171)
              PsiElement(:)(':')(171,172)
              PsiWhiteSpace(' ')(172,173)
              SIMPLE_LITERAL_EXPRESSION(173,177)
                SIMPLE_LITERAL(173,177)
                  INTEGER_LITERAL(173,177)
                    PsiElement(DECIMAL_INTEGER_LITERAL)('9090')(173,177)
          PsiWhiteSpace(' ')(177,178)
          PsiElement(})('}')(178,179)
      PsiWhiteSpace(' ')(179,180)
      SERVICE_BODY(180,1434)
        PsiElement({)('{')(180,181)
        PsiWhiteSpace('\n\n    ')(181,187)
        RESOURCE_DEFINITION(187,758)
          PsiElement(identifier)('receive')(187,194)
          PsiElement(()('(')(194,195)
          RESOURCE_PARAMETER_LIST(195,232)
            ENDPOINT_PARAMETER(195,232)
              PsiElement(endpoint)('endpoint')(195,203)
              PsiWhiteSpace(' ')(203,204)
              PsiElement(identifier)('caller')(204,210)
              PsiElement(,)(',')(210,211)
              PsiWhiteSpace(' ')(211,212)
              PARAMETER_LIST(212,232)
                PARAMETER(212,232)
                  PARAMETER_WITH_TYPE(212,232)
                    SIMPLE_TYPE_NAME(212,224)
                      REFERENCE_TYPE_NAME(212,224)
                        USER_DEFINE_TYPE_NAME(212,224)
                          NAME_REFERENCE(212,224)
                            PACKAGE_REFERENCE(212,217)
                              PsiElement(identifier)('http')(212,216)
                              PsiElement(:)(':')(216,217)
                            PsiElement(identifier)('Request')(217,224)
                    PsiWhiteSpace(' ')(224,225)
                    PsiElement(identifier)('request')(225,232)
          PsiElement())(')')(232,233)
          PsiWhiteSpace(' ')(233,234)
          CALLABLE_UNIT_BODY(234,758)
            PsiElement({)('{')(234,235)
            PsiWhiteSpace('\n\n        ')(235,245)
            PsiComment(LINE_COMMENT)('// A key can be associated with a channel action.')(245,294)
            PsiWhiteSpace('\n        ')(294,303)
            PsiComment(LINE_COMMENT)('// You can use a key to correlate receivers and senders.')(303,359)
            PsiWhiteSpace('\n        ')(359,368)
            BLOCK(368,752)
              STATEMENT(368,387)
                VARIABLE_DEFINITION_STATEMENT(368,387)
                  SIMPLE_TYPE_NAME(368,374)
                    VALUE_TYPE_NAME(368,374)
                      PsiElement(string)('string')(368,374)
                  PsiWhiteSpace(' ')(374,375)
                  PsiElement(identifier)('key')(375,378)
                  PsiWhiteSpace(' ')(378,379)
                  PsiElement(=)('=')(379,380)
                  PsiWhiteSpace(' ')(380,381)
                  SIMPLE_LITERAL_EXPRESSION(381,386)
                    SIMPLE_LITERAL(381,386)
                      PsiElement(QUOTED_STRING_LITERAL)('"123"')(381,386)
                  PsiElement(;)(';')(386,387)
              PsiWhiteSpace('\n\n        ')(387,397)
              STATEMENT(397,409)
                VARIABLE_DEFINITION_STATEMENT(397,409)
                  SIMPLE_TYPE_NAME(397,401)
                    REFERENCE_TYPE_NAME(397,401)
                      BUILT_IN_REFERENCE_TYPE_NAME(397,401)
                        JSON_TYPE_NAME(397,401)
                          PsiElement(json)('json')(397,401)
                  PsiWhiteSpace(' ')(401,402)
                  PsiElement(identifier)('result')(402,408)
                  PsiElement(;)(';')(408,409)
              PsiWhiteSpace('\n        ')(409,418)
              PsiComment(LINE_COMMENT)('// Receive a message from the channel with given key.')(418,471)
              PsiWhiteSpace('\n        ')(471,480)
              PsiComment(LINE_COMMENT)('// Execution waits here if the message is not available.')(480,536)
              PsiWhiteSpace('\n        ')(536,545)
              STATEMENT(545,572)
                WORKER_INTERACTION_STATEMENT(545,572)
                  WORKER_REPLY(545,572)
                    VARIABLE_REFERENCE_EXPRESSION(545,551)
                      SIMPLE_VARIABLE_REFERENCE(545,551)
                        NAME_REFERENCE(545,551)
                          PsiElement(identifier)('result')(545,551)
                    PsiWhiteSpace(' ')(551,552)
                    PsiElement(<-)('<-')(552,554)
                    PsiWhiteSpace(' ')(554,555)
                    PsiElement(identifier)('jsonChannel')(555,566)
                    PsiElement(,)(',')(566,567)
                    PsiWhiteSpace(' ')(567,568)
                    VARIABLE_REFERENCE_EXPRESSION(568,571)
                      SIMPLE_VARIABLE_REFERENCE(568,571)
                        NAME_REFERENCE(568,571)
                          PsiElement(identifier)('key')(568,571)
                    PsiElement(;)(';')(571,572)
              PsiWhiteSpace('\n        ')(572,581)
              PsiComment(LINE_COMMENT)('// Send the received message as the response.')(581,626)
              PsiWhiteSpace('\n        ')(626,635)
              STATEMENT(635,752)
                ASSIGNMENT_STATEMENT(635,752)
                  SIMPLE_VARIABLE_REFERENCE(635,636)
                    NAME_REFERENCE(635,636)
                      PsiElement(identifier)('_')(635,636)
                  PsiWhiteSpace(' ')(636,637)
                  PsiElement(=)('=')(637,638)
                  PsiWhiteSpace(' ')(638,639)
                  MATCH_EXPR_EXPRESSION(639,751)
                    ACTION_INVOCATION_EXPRESSION(639,662)
                      ACTION_INVOCATION(639,662)
                        NAME_REFERENCE(639,645)
                          PsiElement(identifier)('caller')(639,645)
                        PsiElement(->)('->')(645,647)
                        FUNCTION_INVOCATION(647,662)
                          FUNCTION_NAME_REFERENCE(647,654)
                            ANY_IDENTIFIER_NAME(647,654)
                              PsiElement(identifier)('respond')(647,654)
                          PsiElement(()('(')(654,655)
                          INVOCATION_ARG_LIST(655,661)
                            INVOCATION_ARG(655,661)
                              VARIABLE_REFERENCE_EXPRESSION(655,661)
                                SIMPLE_VARIABLE_REFERENCE(655,661)
                                  NAME_REFERENCE(655,661)
                                    PsiElement(identifier)('result')(655,661)
                          PsiElement())(')')(661,662)
                    PsiWhiteSpace(' ')(662,663)
                    MATCH_EXPRESSION(663,751)
                      PsiElement(but)('but')(663,666)
                      PsiWhiteSpace(' ')(666,667)
                      PsiElement({)('{')(667,668)
                      PsiWhiteSpace('\n            ')(668,681)
                      MATCH_EXPRESSION_PATTERN_CLAUSE(681,741)
                        SIMPLE_TYPE_NAME(681,686)
                          REFERENCE_TYPE_NAME(681,686)
                            USER_DEFINE_TYPE_NAME(681,686)
                              NAME_REFERENCE(681,686)
                                PsiElement(identifier)('error')(681,686)
                        PsiWhiteSpace(' ')(686,687)
                        PsiElement(identifier)('e')(687,688)
                        PsiWhiteSpace(' ')(688,689)
                        PsiElement(=>)('=>')(689,691)
                        PsiWhiteSpace(' ')(691,692)
                        VARIABLE_REFERENCE_EXPRESSION(692,741)
                          FUNCTION_INVOCATION_REFERENCE(692,741)
                            FUNCTION_INVOCATION(692,741)
                              FUNCTION_NAME_REFERENCE(692,706)
                                PACKAGE_REFERENCE(692,696)
                                  PsiElement(identifier)('log')(692,695)
                                  PsiElement(:)(':')(695,696)
                                ANY_IDENTIFIER_NAME(696,706)
                                  PsiElement(identifier)('printError')(696,706)
                              PsiElement(()('(')(706,707)
                              INVOCATION_ARG_LIST(707,740)
                                INVOCATION_ARG(707,731)
                                  SIMPLE_LITERAL_EXPRESSION(707,731)
                                    SIMPLE_LITERAL(707,731)
                                      PsiElement(QUOTED_STRING_LITERAL)('"Error sending response"')(707,731)
                                PsiElement(,)(',')(731,732)
                                PsiWhiteSpace(' ')(732,733)
                                INVOCATION_ARG(733,740)
                                  NAMED_ARGS(733,740)
                                    PsiElement(identifier)('err')(733,736)
                                    PsiWhiteSpace(' ')(736,737)
                                    PsiElement(=)('=')(737,738)
                                    PsiWhiteSpace(' ')(738,739)
                                    VARIABLE_REFERENCE_EXPRESSION(739,740)
                                      SIMPLE_VARIABLE_REFERENCE(739,740)
                                        NAME_REFERENCE(739,740)
                                          PsiElement(identifier)('e')(739,740)
                              PsiElement())(')')(740,741)
                      PsiWhiteSpace('\n        ')(741,750)
                      PsiElement(})('}')(750,751)
                  PsiElement(;)(';')(751,752)
            PsiWhiteSpace('\n    ')(752,757)
            PsiElement(})('}')(757,758)
        PsiWhiteSpace('\n\n    ')(758,764)
        RESOURCE_DEFINITION(764,1432)
          PsiElement(identifier)('send')(764,768)
          PsiElement(()('(')(768,769)
          RESOURCE_PARAMETER_LIST(769,806)
            ENDPOINT_PARAMETER(769,806)
              PsiElement(endpoint)('endpoint')(769,777)
              PsiWhiteSpace(' ')(777,778)
              PsiElement(identifier)('caller')(778,784)
              PsiElement(,)(',')(784,785)
              PsiWhiteSpace(' ')(785,786)
              PARAMETER_LIST(786,806)
                PARAMETER(786,806)
                  PARAMETER_WITH_TYPE(786,806)
                    SIMPLE_TYPE_NAME(786,798)
                      REFERENCE_TYPE_NAME(786,798)
                        USER_DEFINE_TYPE_NAME(786,798)
                          NAME_REFERENCE(786,798)
                            PACKAGE_REFERENCE(786,791)
                              PsiElement(identifier)('http')(786,790)
                              PsiElement(:)(':')(790,791)
                            PsiElement(identifier)('Request')(791,798)
                    PsiWhiteSpace(' ')(798,799)
                    PsiElement(identifier)('request')(799,806)
          PsiElement())(')')(806,807)
          PsiWhiteSpace(' ')(807,808)
          CALLABLE_UNIT_BODY(808,1432)
            PsiElement({)('{')(808,809)
            PsiWhiteSpace('\n\n        ')(809,819)
            PsiComment(LINE_COMMENT)('// Extract message from the request.')(819,855)
            PsiWhiteSpace('\n        ')(855,864)
            BLOCK(864,1426)
              STATEMENT(864,910)
                VARIABLE_DEFINITION_STATEMENT(864,910)
                  SIMPLE_TYPE_NAME(864,868)
                    REFERENCE_TYPE_NAME(864,868)
                      BUILT_IN_REFERENCE_TYPE_NAME(864,868)
                        JSON_TYPE_NAME(864,868)
                          PsiElement(json)('json')(864,868)
                  PsiWhiteSpace(' ')(868,869)
                  PsiElement(identifier)('message')(869,876)
                  PsiWhiteSpace(' ')(876,877)
                  PsiElement(=)('=')(877,878)
                  PsiWhiteSpace(' ')(878,879)
                  CHECKED_EXPRESSION(879,909)
                    PsiElement(check)('check')(879,884)
                    PsiWhiteSpace(' ')(884,885)
                    VARIABLE_REFERENCE_EXPRESSION(885,909)
                      INVOCATION_REFERENCE(885,909)
                        SIMPLE_VARIABLE_REFERENCE(885,892)
                          NAME_REFERENCE(885,892)
                            PsiElement(identifier)('request')(885,892)
                        INVOCATION(892,909)
                          PsiElement(.)('.')(892,893)
                          ANY_IDENTIFIER_NAME(893,907)
                            PsiElement(identifier)('getJsonPayload')(893,907)
                          PsiElement(()('(')(907,908)
                          PsiElement())(')')(908,909)
                  PsiElement(;)(';')(909,910)
              PsiWhiteSpace('\n        ')(910,919)
              PsiComment(LINE_COMMENT)('// Define the same key as the receiver's key.')(919,964)
              PsiWhiteSpace('\n        ')(964,973)
              STATEMENT(973,992)
                VARIABLE_DEFINITION_STATEMENT(973,992)
                  SIMPLE_TYPE_NAME(973,979)
                    VALUE_TYPE_NAME(973,979)
                      PsiElement(string)('string')(973,979)
                  PsiWhiteSpace(' ')(979,980)
                  PsiElement(identifier)('key')(980,983)
                  PsiWhiteSpace(' ')(983,984)
                  PsiElement(=)('=')(984,985)
                  PsiWhiteSpace(' ')(985,986)
                  SIMPLE_LITERAL_EXPRESSION(986,991)
                    SIMPLE_LITERAL(986,991)
                      PsiElement(QUOTED_STRING_LITERAL)('"123"')(986,991)
                  PsiElement(;)(';')(991,992)
              PsiWhiteSpace('\n\n        ')(992,1002)
              PsiComment(LINE_COMMENT)('// Send a message to the channel.')(1002,1035)
              PsiWhiteSpace('\n        ')(1035,1044)
              PsiComment(LINE_COMMENT)('// One of the receivers waiting on this key receives it.')(1044,1100)
              PsiWhiteSpace('\n        ')(1100,1109)
              PsiComment(LINE_COMMENT)('// If there is no receiver, the message is stored and execution continues.')(1109,1183)
              PsiWhiteSpace('\n        ')(1183,1192)
              PsiComment(LINE_COMMENT)('// A receiver can arrive later and fetch the message.')(1192,1245)
              PsiWhiteSpace('\n        ')(1245,1254)
              STATEMENT(1254,1282)
                WORKER_INTERACTION_STATEMENT(1254,1282)
                  TRIGGER_WORKER(1254,1282)
                    VARIABLE_REFERENCE_EXPRESSION(1254,1261)
                      SIMPLE_VARIABLE_REFERENCE(1254,1261)
                        NAME_REFERENCE(1254,1261)
                          PsiElement(identifier)('message')(1254,1261)
                    PsiWhiteSpace(' ')(1261,1262)
                    PsiElement(->)('->')(1262,1264)
                    PsiWhiteSpace(' ')(1264,1265)
                    PsiElement(identifier)('jsonChannel')(1265,1276)
                    PsiElement(,)(',')(1276,1277)
                    PsiWhiteSpace(' ')(1277,1278)
                    VARIABLE_REFERENCE_EXPRESSION(1278,1281)
                      SIMPLE_VARIABLE_REFERENCE(1278,1281)
                        NAME_REFERENCE(1278,1281)
                          PsiElement(identifier)('key')(1278,1281)
                    PsiElement(;)(';')(1281,1282)
              PsiWhiteSpace('\n\n        ')(1282,1292)
              STATEMENT(1292,1426)
                ASSIGNMENT_STATEMENT(1292,1426)
                  SIMPLE_VARIABLE_REFERENCE(1292,1293)
                    NAME_REFERENCE(1292,1293)
                      PsiElement(identifier)('_')(1292,1293)
                  PsiWhiteSpace(' ')(1293,1294)
                  PsiElement(=)('=')(1294,1295)
                  PsiWhiteSpace(' ')(1295,1296)
                  MATCH_EXPR_EXPRESSION(1296,1425)
                    ACTION_INVOCATION_EXPRESSION(1296,1336)
                      ACTION_INVOCATION(1296,1336)
                        NAME_REFERENCE(1296,1302)
                          PsiElement(identifier)('caller')(1296,1302)
                        PsiElement(->)('->')(1302,1304)
                        FUNCTION_INVOCATION(1304,1336)
                          FUNCTION_NAME_REFERENCE(1304,1311)
                            ANY_IDENTIFIER_NAME(1304,1311)
                              PsiElement(identifier)('respond')(1304,1311)
                          PsiElement(()('(')(1311,1312)
                          INVOCATION_ARG_LIST(1312,1335)
                            INVOCATION_ARG(1312,1335)
                              RECORD_LITERAL_EXPRESSION(1312,1335)
                                RECORD_LITERAL(1312,1335)
                                  PsiElement({)('{')(1312,1313)
                                  PsiWhiteSpace(' ')(1313,1314)
                                  RECORD_LITERAL_BODY(1314,1333)
                                    RECORD_KEY_VALUE(1314,1333)
                                      RECORD_KEY(1314,1320)
                                        SIMPLE_LITERAL_EXPRESSION(1314,1320)
                                          SIMPLE_LITERAL(1314,1320)
                                            PsiElement(QUOTED_STRING_LITERAL)('"send"')(1314,1320)
                                      PsiElement(:)(':')(1320,1321)
                                      PsiWhiteSpace(' ')(1321,1322)
                                      SIMPLE_LITERAL_EXPRESSION(1322,1333)
                                        SIMPLE_LITERAL(1322,1333)
                                          PsiElement(QUOTED_STRING_LITERAL)('"Success!!"')(1322,1333)
                                  PsiWhiteSpace(' ')(1333,1334)
                                  PsiElement(})('}')(1334,1335)
                          PsiElement())(')')(1335,1336)
                    PsiWhiteSpace(' ')(1336,1337)
                    MATCH_EXPRESSION(1337,1425)
                      PsiElement(but)('but')(1337,1340)
                      PsiWhiteSpace(' ')(1340,1341)
                      PsiElement({)('{')(1341,1342)
                      PsiWhiteSpace('\n            ')(1342,1355)
                      MATCH_EXPRESSION_PATTERN_CLAUSE(1355,1415)
                        SIMPLE_TYPE_NAME(1355,1360)
                          REFERENCE_TYPE_NAME(1355,1360)
                            USER_DEFINE_TYPE_NAME(1355,1360)
                              NAME_REFERENCE(1355,1360)
                                PsiElement(identifier)('error')(1355,1360)
                        PsiWhiteSpace(' ')(1360,1361)
                        PsiElement(identifier)('e')(1361,1362)
                        PsiWhiteSpace(' ')(1362,1363)
                        PsiElement(=>)('=>')(1363,1365)
                        PsiWhiteSpace(' ')(1365,1366)
                        VARIABLE_REFERENCE_EXPRESSION(1366,1415)
                          FUNCTION_INVOCATION_REFERENCE(1366,1415)
                            FUNCTION_INVOCATION(1366,1415)
                              FUNCTION_NAME_REFERENCE(1366,1380)
                                PACKAGE_REFERENCE(1366,1370)
                                  PsiElement(identifier)('log')(1366,1369)
                                  PsiElement(:)(':')(1369,1370)
                                ANY_IDENTIFIER_NAME(1370,1380)
                                  PsiElement(identifier)('printError')(1370,1380)
                              PsiElement(()('(')(1380,1381)
                              INVOCATION_ARG_LIST(1381,1414)
                                INVOCATION_ARG(1381,1405)
                                  SIMPLE_LITERAL_EXPRESSION(1381,1405)
                                    SIMPLE_LITERAL(1381,1405)
                                      PsiElement(QUOTED_STRING_LITERAL)('"Error sending response"')(1381,1405)
                                PsiElement(,)(',')(1405,1406)
                                PsiWhiteSpace(' ')(1406,1407)
                                INVOCATION_ARG(1407,1414)
                                  NAMED_ARGS(1407,1414)
                                    PsiElement(identifier)('err')(1407,1410)
                                    PsiWhiteSpace(' ')(1410,1411)
                                    PsiElement(=)('=')(1411,1412)
                                    PsiWhiteSpace(' ')(1412,1413)
                                    VARIABLE_REFERENCE_EXPRESSION(1413,1414)
                                      SIMPLE_VARIABLE_REFERENCE(1413,1414)
                                        NAME_REFERENCE(1413,1414)
                                          PsiElement(identifier)('e')(1413,1414)
                              PsiElement())(')')(1414,1415)
                      PsiWhiteSpace('\n        ')(1415,1424)
                      PsiElement(})('}')(1424,1425)
                  PsiElement(;)(';')(1425,1426)
            PsiWhiteSpace('\n    ')(1426,1431)
            PsiElement(})('}')(1431,1432)
        PsiWhiteSpace('\n')(1432,1433)
        PsiElement(})('}')(1433,1434)