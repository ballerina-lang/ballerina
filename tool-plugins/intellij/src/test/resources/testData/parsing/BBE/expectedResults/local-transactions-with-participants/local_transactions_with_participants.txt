Ballerina File(0,1145)
  IMPORT_DECLARATION(0,20)
    PsiElement(import)('import')(0,6)
    PsiWhiteSpace(' ')(6,7)
    ORG_NAME(7,16)
      PsiElement(identifier)('ballerina')(7,16)
    PsiElement(/)('/')(16,17)
    COMPLETE_PACKAGE_NAME(17,19)
      PACKAGE_NAME(17,19)
        PsiElement(identifier)('io')(17,19)
    PsiElement(;)(';')(19,20)
  PsiWhiteSpace('\n')(20,21)
  PsiComment(LINE_COMMENT)('// Import `ballerina/transactions` module in order to use participant annotation.')(21,102)
  PsiWhiteSpace('\n')(102,103)
  IMPORT_DECLARATION(103,133)
    PsiElement(import)('import')(103,109)
    PsiWhiteSpace(' ')(109,110)
    ORG_NAME(110,119)
      PsiElement(identifier)('ballerina')(110,119)
    PsiElement(/)('/')(119,120)
    COMPLETE_PACKAGE_NAME(120,132)
      PACKAGE_NAME(120,132)
        PsiElement(identifier)('transactions')(120,132)
    PsiElement(;)(';')(132,133)
  PsiWhiteSpace('\n\n\n')(133,136)
  DEFINITION(136,677)
    FUNCTION_DEFINITION(136,677)
      PsiElement(PUBLIC)('public')(136,142)
      PsiWhiteSpace(' ')(142,143)
      PsiElement(function)('function')(143,151)
      PsiWhiteSpace(' ')(151,152)
      CALLABLE_UNIT_SIGNATURE(152,158)
        ANY_IDENTIFIER_NAME(152,156)
          PsiElement(identifier)('main')(152,156)
        PsiElement(()('(')(156,157)
        PsiElement())(')')(157,158)
      PsiWhiteSpace(' ')(158,159)
      CALLABLE_UNIT_BODY(159,677)
        PsiElement({)('{')(159,160)
        PsiWhiteSpace('\n    ')(160,165)
        PsiComment(LINE_COMMENT)('// `transaction` blocks initiates the transaction, it's called the initiator.')(165,242)
        PsiWhiteSpace('\n    ')(242,247)
        STATEMENT(247,675)
          TRANSACTION_STATEMENT(247,675)
            TRANSACTION_CLAUSE(247,493)
              PsiElement(transaction)('transaction')(247,258)
              PsiWhiteSpace(' ')(258,259)
              PsiElement({)('{')(259,260)
              PsiWhiteSpace('\n        ')(260,269)
              PsiComment(LINE_COMMENT)('// Invoke local participant.')(269,297)
              PsiWhiteSpace('\n        ')(297,306)
              BLOCK(306,487)
                STATEMENT(306,351)
                  VARIABLE_DEFINITION_STATEMENT(306,351)
                    VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(306,351)
                      PsiElement(var)('var')(306,309)
                      PsiWhiteSpace(' ')(309,310)
                      BINDING_PATTERN(310,313)
                        PsiElement(identifier)('res')(310,313)
                      PsiWhiteSpace(' ')(313,314)
                      PsiElement(=)('=')(314,315)
                      PsiWhiteSpace(' ')(315,316)
                      TRAP_EXPRESSION(316,350)
                        PsiElement(trap)('trap')(316,320)
                        PsiWhiteSpace(' ')(320,321)
                        VARIABLE_REFERENCE_EXPRESSION(321,350)
                          FUNCTION_INVOCATION_REFERENCE(321,350)
                            FUNCTION_INVOCATION(321,350)
                              FUNCTION_NAME_REFERENCE(321,348)
                                ANY_IDENTIFIER_NAME(321,348)
                                  PsiElement(identifier)('localTransactionParticipant')(321,348)
                              PsiElement(()('(')(348,349)
                              PsiElement())(')')(349,350)
                      PsiElement(;)(';')(350,351)
                PsiWhiteSpace('\n        ')(351,360)
                STATEMENT(360,487)
                  IF_ELSE_STATEMENT(360,487)
                    IF_CLAUSE(360,487)
                      PsiElement(if)('if')(360,362)
                      PsiWhiteSpace(' ')(362,363)
                      BRACED_OR_TUPLE_EXPRESSION(363,377)
                        TUPLE_LITERAL(363,377)
                          PsiElement(()('(')(363,364)
                          TYPE_TEST_EXPRESSION(364,376)
                            VARIABLE_REFERENCE_EXPRESSION(364,367)
                              SIMPLE_VARIABLE_REFERENCE(364,367)
                                NAME_REFERENCE(364,367)
                                  PsiElement(identifier)('res')(364,367)
                            PsiWhiteSpace(' ')(367,368)
                            PsiElement(is)('is')(368,370)
                            PsiWhiteSpace(' ')(370,371)
                            SIMPLE_TYPE_NAME(371,376)
                              REFERENCE_TYPE_NAME(371,376)
                                BUILT_IN_REFERENCE_TYPE_NAME(371,376)
                                  ERROR_TYPE_NAME(371,376)
                                    PsiElement(error)('error')(371,376)
                          PsiElement())(')')(376,377)
                      PsiWhiteSpace(' ')(377,378)
                      PsiElement({)('{')(378,379)
                      PsiWhiteSpace('\n            ')(379,392)
                      PsiComment(LINE_COMMENT)('// local participant panicked.')(392,422)
                      PsiWhiteSpace('\n            ')(422,435)
                      BLOCK(435,477)
                        STATEMENT(435,477)
                          EXPRESSION_STMT(435,477)
                            VARIABLE_REFERENCE_EXPRESSION(435,476)
                              FUNCTION_INVOCATION_REFERENCE(435,476)
                                FUNCTION_INVOCATION(435,476)
                                  FUNCTION_NAME_REFERENCE(435,445)
                                    PACKAGE_REFERENCE(435,438)
                                      PsiElement(identifier)('io')(435,437)
                                      PsiElement(:)(':')(437,438)
                                    ANY_IDENTIFIER_NAME(438,445)
                                      PsiElement(identifier)('println')(438,445)
                                  PsiElement(()('(')(445,446)
                                  INVOCATION_ARG_LIST(446,475)
                                    INVOCATION_ARG(446,475)
                                      SIMPLE_LITERAL_EXPRESSION(446,475)
                                        SIMPLE_LITERAL(446,475)
                                          PsiElement(QUOTED_STRING_LITERAL)('"Local participant panicked."')(446,475)
                                  PsiElement())(')')(475,476)
                            PsiElement(;)(';')(476,477)
                      PsiWhiteSpace('\n        ')(477,486)
                      PsiElement(})('}')(486,487)
              PsiWhiteSpace('\n    ')(487,492)
              PsiElement(})('}')(492,493)
            PsiWhiteSpace(' ')(493,494)
            ON_RETRY_CLAUSE(494,553)
              PsiElement(onretry)('onretry')(494,501)
              PsiWhiteSpace(' ')(501,502)
              PsiElement({)('{')(502,503)
              PsiWhiteSpace('\n        ')(503,512)
              BLOCK(512,547)
                STATEMENT(512,547)
                  EXPRESSION_STMT(512,547)
                    VARIABLE_REFERENCE_EXPRESSION(512,546)
                      FUNCTION_INVOCATION_REFERENCE(512,546)
                        FUNCTION_INVOCATION(512,546)
                          FUNCTION_NAME_REFERENCE(512,522)
                            PACKAGE_REFERENCE(512,515)
                              PsiElement(identifier)('io')(512,514)
                              PsiElement(:)(':')(514,515)
                            ANY_IDENTIFIER_NAME(515,522)
                              PsiElement(identifier)('println')(515,522)
                          PsiElement(()('(')(522,523)
                          INVOCATION_ARG_LIST(523,545)
                            INVOCATION_ARG(523,545)
                              SIMPLE_LITERAL_EXPRESSION(523,545)
                                SIMPLE_LITERAL(523,545)
                                  PsiElement(QUOTED_STRING_LITERAL)('"Retrying transaction"')(523,545)
                          PsiElement())(')')(545,546)
                    PsiElement(;)(';')(546,547)
              PsiWhiteSpace('\n    ')(547,552)
              PsiElement(})('}')(552,553)
            PsiWhiteSpace(' ')(553,554)
            COMMITTED_ABORTED_CLAUSES(554,675)
              COMMITTED_CLAUSE(554,616)
                PsiElement(committed)('committed')(554,563)
                PsiWhiteSpace(' ')(563,564)
                PsiElement({)('{')(564,565)
                PsiWhiteSpace('\n        ')(565,574)
                BLOCK(574,610)
                  STATEMENT(574,610)
                    EXPRESSION_STMT(574,610)
                      VARIABLE_REFERENCE_EXPRESSION(574,609)
                        FUNCTION_INVOCATION_REFERENCE(574,609)
                          FUNCTION_INVOCATION(574,609)
                            FUNCTION_NAME_REFERENCE(574,584)
                              PACKAGE_REFERENCE(574,577)
                                PsiElement(identifier)('io')(574,576)
                                PsiElement(:)(':')(576,577)
                              ANY_IDENTIFIER_NAME(577,584)
                                PsiElement(identifier)('println')(577,584)
                            PsiElement(()('(')(584,585)
                            INVOCATION_ARG_LIST(585,608)
                              INVOCATION_ARG(585,608)
                                SIMPLE_LITERAL_EXPRESSION(585,608)
                                  SIMPLE_LITERAL(585,608)
                                    PsiElement(QUOTED_STRING_LITERAL)('"Transaction committed"')(585,608)
                            PsiElement())(')')(608,609)
                      PsiElement(;)(';')(609,610)
                PsiWhiteSpace('\n    ')(610,615)
                PsiElement(})('}')(615,616)
              PsiWhiteSpace(' ')(616,617)
              ABORTED_CLAUSE(617,675)
                PsiElement(aborted)('aborted')(617,624)
                PsiWhiteSpace(' ')(624,625)
                PsiElement({)('{')(625,626)
                PsiWhiteSpace('\n        ')(626,635)
                BLOCK(635,669)
                  STATEMENT(635,669)
                    EXPRESSION_STMT(635,669)
                      VARIABLE_REFERENCE_EXPRESSION(635,668)
                        FUNCTION_INVOCATION_REFERENCE(635,668)
                          FUNCTION_INVOCATION(635,668)
                            FUNCTION_NAME_REFERENCE(635,645)
                              PACKAGE_REFERENCE(635,638)
                                PsiElement(identifier)('io')(635,637)
                                PsiElement(:)(':')(637,638)
                              ANY_IDENTIFIER_NAME(638,645)
                                PsiElement(identifier)('println')(638,645)
                            PsiElement(()('(')(645,646)
                            INVOCATION_ARG_LIST(646,667)
                              INVOCATION_ARG(646,667)
                                SIMPLE_LITERAL_EXPRESSION(646,667)
                                  SIMPLE_LITERAL(646,667)
                                    PsiElement(QUOTED_STRING_LITERAL)('"Transaction aborted"')(646,667)
                            PsiElement())(')')(667,668)
                      PsiElement(;)(';')(668,669)
                PsiWhiteSpace('\n    ')(669,674)
                PsiElement(})('}')(674,675)
        PsiWhiteSpace('\n')(675,676)
        PsiElement(})('}')(676,677)
  PsiWhiteSpace('\n\n')(677,679)
  PsiComment(LINE_COMMENT)('// `@transactions:Participant` annotation from `transactions` package is used to indicate')(679,768)
  PsiWhiteSpace('\n')(768,769)
  PsiComment(LINE_COMMENT)('// function as a local participant.')(769,804)
  PsiWhiteSpace('\n')(804,805)
  DEFINITION(805,1022)
    ANNOTATION_ATTACHMENT(805,868)
      PsiElement(@)('@')(805,806)
      NAME_REFERENCE(806,830)
        PACKAGE_REFERENCE(806,819)
          PsiElement(identifier)('transactions')(806,818)
          PsiElement(:)(':')(818,819)
        PsiElement(identifier)('Participant')(819,830)
      PsiWhiteSpace(' ')(830,831)
      RECORD_LITERAL(831,868)
        PsiElement({)('{')(831,832)
        PsiWhiteSpace('\n    ')(832,837)
        RECORD_LITERAL_BODY(837,866)
          RECORD_KEY_VALUE(837,866)
            RECORD_KEY(837,845)
              VARIABLE_REFERENCE_EXPRESSION(837,845)
                SIMPLE_VARIABLE_REFERENCE(837,845)
                  NAME_REFERENCE(837,845)
                    PsiElement(identifier)('oncommit')(837,845)
            PsiElement(:)(':')(845,846)
            PsiWhiteSpace(' ')(846,847)
            VARIABLE_REFERENCE_EXPRESSION(847,866)
              SIMPLE_VARIABLE_REFERENCE(847,866)
                NAME_REFERENCE(847,866)
                  PsiElement(identifier)('participantOnCommit')(847,866)
        PsiWhiteSpace('\n')(866,867)
        PsiElement(})('}')(867,868)
    PsiWhiteSpace('\n')(868,869)
    DEFINITION(869,1022)
      FUNCTION_DEFINITION(869,1022)
        PsiElement(function)('function')(869,877)
        PsiWhiteSpace(' ')(877,878)
        CALLABLE_UNIT_SIGNATURE(878,907)
          ANY_IDENTIFIER_NAME(878,905)
            PsiElement(identifier)('localTransactionParticipant')(878,905)
          PsiElement(()('(')(905,906)
          PsiElement())(')')(906,907)
        PsiWhiteSpace(' ')(907,908)
        CALLABLE_UNIT_BODY(908,1022)
          PsiElement({)('{')(908,909)
          PsiWhiteSpace('\n    ')(909,914)
          STATEMENT(914,963)
            EXPRESSION_STMT(914,963)
              VARIABLE_REFERENCE_EXPRESSION(914,962)
                FUNCTION_INVOCATION_REFERENCE(914,962)
                  FUNCTION_INVOCATION(914,962)
                    FUNCTION_NAME_REFERENCE(914,924)
                      PACKAGE_REFERENCE(914,917)
                        PsiElement(identifier)('io')(914,916)
                        PsiElement(:)(':')(916,917)
                      ANY_IDENTIFIER_NAME(917,924)
                        PsiElement(identifier)('println')(917,924)
                    PsiElement(()('(')(924,925)
                    INVOCATION_ARG_LIST(925,961)
                      INVOCATION_ARG(925,961)
                        SIMPLE_LITERAL_EXPRESSION(925,961)
                          SIMPLE_LITERAL(925,961)
                            PsiElement(QUOTED_STRING_LITERAL)('"Invoke local participant function."')(925,961)
                    PsiElement())(')')(961,962)
              PsiElement(;)(';')(962,963)
          PsiWhiteSpace('\n    ')(963,968)
          STATEMENT(968,1006)
            VARIABLE_DEFINITION_STATEMENT(968,1006)
              VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(968,1006)
                SIMPLE_TYPE_NAME(968,973)
                  REFERENCE_TYPE_NAME(968,973)
                    BUILT_IN_REFERENCE_TYPE_NAME(968,973)
                      ERROR_TYPE_NAME(968,973)
                        PsiElement(error)('error')(968,973)
                PsiWhiteSpace(' ')(973,974)
                BINDING_PATTERN(974,976)
                  PsiElement(identifier)('er')(974,976)
                PsiWhiteSpace(' ')(976,977)
                PsiElement(=)('=')(977,978)
                PsiWhiteSpace(' ')(978,979)
                ERROR_CONSTRUCTOR_EXPRESSION(979,1005)
                  PsiElement(error)('error')(979,984)
                  PsiElement(()('(')(984,985)
                  SIMPLE_LITERAL_EXPRESSION(985,1004)
                    SIMPLE_LITERAL(985,1004)
                      PsiElement(QUOTED_STRING_LITERAL)('"Simulated Failure"')(985,1004)
                  PsiElement())(')')(1004,1005)
                PsiElement(;)(';')(1005,1006)
          PsiWhiteSpace('\n    ')(1006,1011)
          STATEMENT(1011,1020)
            PANIC_STATEMENT(1011,1020)
              PsiElement(panic)('panic')(1011,1016)
              PsiWhiteSpace(' ')(1016,1017)
              VARIABLE_REFERENCE_EXPRESSION(1017,1019)
                SIMPLE_VARIABLE_REFERENCE(1017,1019)
                  NAME_REFERENCE(1017,1019)
                    PsiElement(identifier)('er')(1017,1019)
              PsiElement(;)(';')(1019,1020)
          PsiWhiteSpace('\n')(1020,1021)
          PsiElement(})('}')(1021,1022)
  PsiWhiteSpace('\n\n')(1022,1024)
  DEFINITION(1024,1145)
    FUNCTION_DEFINITION(1024,1145)
      PsiElement(function)('function')(1024,1032)
      PsiWhiteSpace(' ')(1032,1033)
      CALLABLE_UNIT_SIGNATURE(1033,1074)
        ANY_IDENTIFIER_NAME(1033,1052)
          PsiElement(identifier)('participantOnCommit')(1033,1052)
        PsiElement(()('(')(1052,1053)
        FORMAL_PARAMETER_LIST(1053,1073)
          PARAMETER(1053,1073)
            PARAMETER_WITH_TYPE(1053,1073)
              SIMPLE_TYPE_NAME(1053,1059)
                VALUE_TYPE_NAME(1053,1059)
                  PsiElement(string)('string')(1053,1059)
              PsiWhiteSpace(' ')(1059,1060)
              PsiElement(identifier)('transactionId')(1060,1073)
        PsiElement())(')')(1073,1074)
      PsiWhiteSpace(' ')(1074,1075)
      CALLABLE_UNIT_BODY(1075,1145)
        PsiElement({)('{')(1075,1076)
        PsiWhiteSpace('\n    ')(1076,1081)
        STATEMENT(1081,1143)
          EXPRESSION_STMT(1081,1143)
            VARIABLE_REFERENCE_EXPRESSION(1081,1142)
              FUNCTION_INVOCATION_REFERENCE(1081,1142)
                FUNCTION_INVOCATION(1081,1142)
                  FUNCTION_NAME_REFERENCE(1081,1091)
                    PACKAGE_REFERENCE(1081,1084)
                      PsiElement(identifier)('io')(1081,1083)
                      PsiElement(:)(':')(1083,1084)
                    ANY_IDENTIFIER_NAME(1084,1091)
                      PsiElement(identifier)('println')(1084,1091)
                  PsiElement(()('(')(1091,1092)
                  INVOCATION_ARG_LIST(1092,1141)
                    INVOCATION_ARG(1092,1141)
                      SIMPLE_LITERAL_EXPRESSION(1092,1141)
                        SIMPLE_LITERAL(1092,1141)
                          PsiElement(QUOTED_STRING_LITERAL)('"Local participant committed function handler..."')(1092,1141)
                  PsiElement())(')')(1141,1142)
            PsiElement(;)(';')(1142,1143)
        PsiWhiteSpace('\n')(1143,1144)
        PsiElement(})('}')(1144,1145)
