Ballerina File(0,2625)
  IMPORT_DECLARATION(0,22)
    PsiElement(import)('import')(0,6)
    PsiWhiteSpace(' ')(6,7)
    ORG_NAME(7,16)
      PsiElement(identifier)('ballerina')(7,16)
    PsiElement(/)('/')(16,17)
    COMPLETE_PACKAGE_NAME(17,21)
      PACKAGE_NAME(17,21)
        PsiElement(identifier)('http')(17,21)
    PsiElement(;)(';')(21,22)
  PsiWhiteSpace('\n')(22,23)
  IMPORT_DECLARATION(23,43)
    PsiElement(import)('import')(23,29)
    PsiWhiteSpace(' ')(29,30)
    ORG_NAME(30,39)
      PsiElement(identifier)('ballerina')(30,39)
    PsiElement(/)('/')(39,40)
    COMPLETE_PACKAGE_NAME(40,42)
      PACKAGE_NAME(40,42)
        PsiElement(identifier)('io')(40,42)
    PsiElement(;)(';')(42,43)
  PsiWhiteSpace('\n\n')(43,45)
  DEFINITION(45,92)
    TYPE_DEFINITION(45,92)
      PsiElement(type)('type')(45,49)
      PsiWhiteSpace(' ')(49,50)
      PsiElement(identifier)('ClientRequest')(50,63)
      PsiWhiteSpace(' ')(63,64)
      FINITE_TYPE(64,91)
        FINITE_TYPE_UNIT(64,91)
          RECORD_TYPE_NAME(64,91)
            PsiElement(record)('record')(64,70)
            PsiWhiteSpace(' ')(70,71)
            PsiElement({)('{')(71,72)
            PsiWhiteSpace('\n    ')(72,77)
            RECORD_FIELD_DEFINITION_LIST(77,89)
              FIELD_DEFINITION(77,89)
                SIMPLE_TYPE_NAME(77,83)
                  VALUE_TYPE_NAME(77,83)
                    PsiElement(string)('string')(77,83)
                PsiWhiteSpace(' ')(83,84)
                PsiElement(identifier)('host')(84,88)
                PsiElement(;)(';')(88,89)
            PsiWhiteSpace('\n')(89,90)
            PsiElement(})('}')(90,91)
      PsiElement(;)(';')(91,92)
  PsiWhiteSpace('\n\n')(92,94)
  DEFINITION(94,155)
    TYPE_DEFINITION(94,155)
      PsiElement(type)('type')(94,98)
      PsiWhiteSpace(' ')(98,99)
      PsiElement(identifier)('RequestCount')(99,111)
      PsiWhiteSpace(' ')(111,112)
      FINITE_TYPE(112,154)
        FINITE_TYPE_UNIT(112,154)
          RECORD_TYPE_NAME(112,154)
            PsiElement(record)('record')(112,118)
            PsiWhiteSpace(' ')(118,119)
            PsiElement({)('{')(119,120)
            PsiWhiteSpace('\n    ')(120,125)
            RECORD_FIELD_DEFINITION_LIST(125,152)
              FIELD_DEFINITION(125,137)
                SIMPLE_TYPE_NAME(125,131)
                  VALUE_TYPE_NAME(125,131)
                    PsiElement(string)('string')(125,131)
                PsiWhiteSpace(' ')(131,132)
                PsiElement(identifier)('host')(132,136)
                PsiElement(;)(';')(136,137)
              PsiWhiteSpace('\n    ')(137,142)
              FIELD_DEFINITION(142,152)
                SIMPLE_TYPE_NAME(142,145)
                  VALUE_TYPE_NAME(142,145)
                    PsiElement(int)('int')(142,145)
                PsiWhiteSpace(' ')(145,146)
                PsiElement(identifier)('count')(146,151)
                PsiElement(;)(';')(151,152)
            PsiWhiteSpace('\n')(152,153)
            PsiElement(})('}')(153,154)
      PsiElement(;)(';')(154,155)
  PsiWhiteSpace('\n\n')(155,157)
  DEFINITION(157,199)
    GLOBAL_VARIABLE_DEFINITION(157,199)
      SIMPLE_TYPE_NAME(157,178)
        REFERENCE_TYPE_NAME(157,178)
          BUILT_IN_REFERENCE_TYPE_NAME(157,178)
            STREAM_TYPE_NAME(157,178)
              PsiElement(stream)('stream')(157,163)
              PsiElement(<)('<')(163,164)
              SIMPLE_TYPE_NAME(164,177)
                REFERENCE_TYPE_NAME(164,177)
                  USER_DEFINE_TYPE_NAME(164,177)
                    NAME_REFERENCE(164,177)
                      PsiElement(identifier)('ClientRequest')(164,177)
              PsiElement(>)('>')(177,178)
      PsiWhiteSpace(' ')(178,179)
      PsiElement(identifier)('requestStream')(179,192)
      PsiWhiteSpace(' ')(192,193)
      PsiElement(=)('=')(193,194)
      PsiWhiteSpace(' ')(194,195)
      TYPE_INIT_EXPRESSION(195,198)
        INIT_WITHOUT_TYPE(195,198)
          PsiElement(new)('new')(195,198)
      PsiElement(;)(';')(198,199)
  PsiWhiteSpace('\n\n')(199,201)
  DEFINITION(201,1498)
    FUNCTION_DEFINITION(201,1498)
      PsiElement(function)('function')(201,209)
      PsiWhiteSpace(' ')(209,210)
      CALLABLE_UNIT_SIGNATURE(210,249)
        ANY_IDENTIFIER_NAME(210,236)
          PsiElement(identifier)('initRealtimeRequestCounter')(210,236)
        PsiElement(()('(')(236,237)
        PsiElement())(')')(237,238)
        PsiWhiteSpace(' ')(238,239)
        RETURN_PARAMETER(239,249)
          PsiElement(returns)('returns')(239,246)
          PsiWhiteSpace(' ')(246,247)
          RETURN_TYPE(247,249)
            SIMPLE_TYPE_NAME(247,249)
              EMPTY_TUPLE_LITERAL(247,249)
                PsiElement(()('(')(247,248)
                PsiElement())(')')(248,249)
      PsiWhiteSpace(' ')(249,250)
      CALLABLE_UNIT_BODY(250,1498)
        PsiElement({)('{')(250,251)
        PsiWhiteSpace('\n\n    ')(251,257)
        STATEMENT(257,303)
          VARIABLE_DEFINITION_STATEMENT(257,303)
            VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(257,303)
              SIMPLE_TYPE_NAME(257,277)
                REFERENCE_TYPE_NAME(257,277)
                  BUILT_IN_REFERENCE_TYPE_NAME(257,277)
                    STREAM_TYPE_NAME(257,277)
                      PsiElement(stream)('stream')(257,263)
                      PsiElement(<)('<')(263,264)
                      SIMPLE_TYPE_NAME(264,276)
                        REFERENCE_TYPE_NAME(264,276)
                          USER_DEFINE_TYPE_NAME(264,276)
                            NAME_REFERENCE(264,276)
                              PsiElement(identifier)('RequestCount')(264,276)
                      PsiElement(>)('>')(276,277)
              PsiWhiteSpace(' ')(277,278)
              BINDING_PATTERN(278,296)
                PsiElement(identifier)('requestCountStream')(278,296)
              PsiWhiteSpace(' ')(296,297)
              PsiElement(=)('=')(297,298)
              PsiWhiteSpace(' ')(298,299)
              TYPE_INIT_EXPRESSION(299,302)
                INIT_WITHOUT_TYPE(299,302)
                  PsiElement(new)('new')(299,302)
              PsiElement(;)(';')(302,303)
        PsiWhiteSpace('\n\n    ')(303,309)
        PsiComment(LINE_COMMENT)('// Whenever the `requestCountStream` stream receives an event from the streaming rules defined in the `forever` block,')(309,427)
        PsiWhiteSpace('\n    ')(427,432)
        PsiComment(LINE_COMMENT)('// the `printRequestCount` function is invoked.')(432,479)
        PsiWhiteSpace('\n    ')(479,484)
        STATEMENT(484,532)
          EXPRESSION_STMT(484,532)
            VARIABLE_REFERENCE_EXPRESSION(484,531)
              INVOCATION_REFERENCE(484,531)
                SIMPLE_VARIABLE_REFERENCE(484,502)
                  NAME_REFERENCE(484,502)
                    PsiElement(identifier)('requestCountStream')(484,502)
                INVOCATION(502,531)
                  PsiElement(.)('.')(502,503)
                  ANY_IDENTIFIER_NAME(503,512)
                    PsiElement(identifier)('subscribe')(503,512)
                  PsiElement(()('(')(512,513)
                  INVOCATION_ARG_LIST(513,530)
                    INVOCATION_ARG(513,530)
                      VARIABLE_REFERENCE_EXPRESSION(513,530)
                        SIMPLE_VARIABLE_REFERENCE(513,530)
                          NAME_REFERENCE(513,530)
                            PsiElement(identifier)('printRequestCount')(513,530)
                  PsiElement())(')')(530,531)
            PsiElement(;)(';')(531,532)
        PsiWhiteSpace('\n\n    ')(532,538)
        PsiComment(LINE_COMMENT)('// Gather all the events coming in to the `requestStream` for five seconds, group them by the host, count the number')(538,654)
        PsiWhiteSpace('\n    ')(654,659)
        PsiComment(LINE_COMMENT)('// of requests per host, and check if the count is more than six. If yes, publish the output (host and the count) to')(659,775)
        PsiWhiteSpace('\n    ')(775,780)
        PsiComment(LINE_COMMENT)('// the `requestCountStream` stream as an alert. This `forever` block is executed once, when initializing the service.')(780,897)
        PsiWhiteSpace('\n    ')(897,902)
        PsiComment(LINE_COMMENT)('// The processing happens asynchronously each time the `requestStream` receives an event.')(902,991)
        PsiWhiteSpace('\n    ')(991,996)
        STATEMENT(996,1496)
          FOREVER_STATEMENT(996,1496)
            PsiElement(forever)('forever')(996,1003)
            PsiWhiteSpace(' ')(1003,1004)
            PsiElement({)('{')(1004,1005)
            PsiWhiteSpace('\n        ')(1005,1014)
            FOREVER_STATEMENT_BODY(1014,1490)
              STREAMING_QUERY_STATEMENT(1014,1490)
                PsiElement(from)('from')(1014,1018)
                PsiWhiteSpace(' ')(1018,1019)
                STREAMING_INPUT(1019,1056)
                  SIMPLE_VARIABLE_REFERENCE(1019,1032)
                    NAME_REFERENCE(1019,1032)
                      PsiElement(identifier)('requestStream')(1019,1032)
                  PsiWhiteSpace(' ')(1032,1033)
                  WINDOW_CLAUSE(1033,1056)
                    PsiElement(window)('window')(1033,1039)
                    PsiWhiteSpace(' ')(1039,1040)
                    FUNCTION_INVOCATION(1040,1056)
                      FUNCTION_NAME_REFERENCE(1040,1049)
                        ANY_IDENTIFIER_NAME(1040,1049)
                          PsiElement(identifier)('timeBatch')(1040,1049)
                      PsiElement(()('(')(1049,1050)
                      INVOCATION_ARG_LIST(1050,1055)
                        INVOCATION_ARG(1050,1055)
                          SIMPLE_LITERAL_EXPRESSION(1050,1055)
                            SIMPLE_LITERAL(1050,1055)
                              INTEGER_LITERAL(1050,1055)
                                PsiElement(DECIMAL_INTEGER_LITERAL)('10000')(1050,1055)
                      PsiElement())(')')(1055,1056)
                PsiWhiteSpace('\n        ')(1056,1065)
                SELECT_CLAUSE(1065,1153)
                  PsiElement(select)('select')(1065,1071)
                  PsiWhiteSpace(' ')(1071,1072)
                  SELECT_EXPRESSION_LIST(1072,1098)
                    SELECT_EXPRESSION(1072,1076)
                      VARIABLE_REFERENCE_EXPRESSION(1072,1076)
                        SIMPLE_VARIABLE_REFERENCE(1072,1076)
                          NAME_REFERENCE(1072,1076)
                            PsiElement(identifier)('host')(1072,1076)
                    PsiElement(,)(',')(1076,1077)
                    PsiWhiteSpace(' ')(1077,1078)
                    SELECT_EXPRESSION(1078,1098)
                      VARIABLE_REFERENCE_EXPRESSION(1078,1089)
                        FUNCTION_INVOCATION_REFERENCE(1078,1089)
                          FUNCTION_INVOCATION(1078,1089)
                            FUNCTION_NAME_REFERENCE(1078,1083)
                              ANY_IDENTIFIER_NAME(1078,1083)
                                PsiElement(identifier)('count')(1078,1083)
                            PsiElement(()('(')(1083,1084)
                            INVOCATION_ARG_LIST(1084,1088)
                              INVOCATION_ARG(1084,1088)
                                VARIABLE_REFERENCE_EXPRESSION(1084,1088)
                                  SIMPLE_VARIABLE_REFERENCE(1084,1088)
                                    NAME_REFERENCE(1084,1088)
                                      PsiElement(identifier)('host')(1084,1088)
                            PsiElement())(')')(1088,1089)
                      PsiWhiteSpace(' ')(1089,1090)
                      PsiElement(as)('as')(1090,1092)
                      PsiWhiteSpace(' ')(1092,1093)
                      PsiElement(identifier)('count')(1093,1098)
                  PsiWhiteSpace('\n            ')(1098,1111)
                  GROUP_BY_CLAUSE(1111,1124)
                    PsiElement(group)('group')(1111,1116)
                    PsiWhiteSpace(' ')(1116,1117)
                    PsiElement(by)('by')(1117,1119)
                    PsiWhiteSpace(' ')(1119,1120)
                    VARIABLE_REFERENCE_LIST(1120,1124)
                      SIMPLE_VARIABLE_REFERENCE(1120,1124)
                        NAME_REFERENCE(1120,1124)
                          PsiElement(identifier)('host')(1120,1124)
                  PsiWhiteSpace('\n            ')(1124,1137)
                  HAVING_CLAUSE(1137,1153)
                    PsiElement(having)('having')(1137,1143)
                    PsiWhiteSpace(' ')(1143,1144)
                    BINARY_COMPARE_EXPRESSION(1144,1153)
                      VARIABLE_REFERENCE_EXPRESSION(1144,1149)
                        SIMPLE_VARIABLE_REFERENCE(1144,1149)
                          NAME_REFERENCE(1144,1149)
                            PsiElement(identifier)('count')(1144,1149)
                      PsiWhiteSpace(' ')(1149,1150)
                      PsiElement(>)('>')(1150,1151)
                      PsiWhiteSpace(' ')(1151,1152)
                      SIMPLE_LITERAL_EXPRESSION(1152,1153)
                        SIMPLE_LITERAL(1152,1153)
                          INTEGER_LITERAL(1152,1153)
                            PsiElement(DECIMAL_INTEGER_LITERAL)('6')(1152,1153)
                PsiWhiteSpace('\n        ')(1153,1162)
                STREAMING_ACTION(1162,1490)
                  PsiElement(=>)('=>')(1162,1164)
                  PsiWhiteSpace(' ')(1164,1165)
                  PsiElement(()('(')(1165,1166)
                  PARAMETER(1166,1187)
                    PARAMETER_WITH_TYPE(1166,1187)
                      ARRAY_TYPE_NAME(1166,1180)
                        SIMPLE_TYPE_NAME(1166,1178)
                          REFERENCE_TYPE_NAME(1166,1178)
                            USER_DEFINE_TYPE_NAME(1166,1178)
                              NAME_REFERENCE(1166,1178)
                                PsiElement(identifier)('RequestCount')(1166,1178)
                        PsiElement([)('[')(1178,1179)
                        PsiElement(])(']')(1179,1180)
                      PsiWhiteSpace(' ')(1180,1181)
                      PsiElement(identifier)('counts')(1181,1187)
                  PsiElement())(')')(1187,1188)
                  PsiWhiteSpace(' ')(1188,1189)
                  PsiElement({)('{')(1189,1190)
                  PsiWhiteSpace('\n        ')(1190,1199)
                  PsiComment(LINE_COMMENT)('// `counts` is the output of the streaming rules and is published to the `requestCountStream`.')(1199,1293)
                  PsiWhiteSpace('\n        ')(1293,1302)
                  PsiComment(LINE_COMMENT)('// The `select` clause should match the structure of the `RequestCount` record.')(1302,1381)
                  PsiWhiteSpace('\n            ')(1381,1394)
                  BLOCK(1394,1480)
                    STATEMENT(1394,1480)
                      FOREACH_STATEMENT(1394,1480)
                        PsiElement(foreach)('foreach')(1394,1401)
                        PsiWhiteSpace(' ')(1401,1402)
                        PsiElement(var)('var')(1402,1405)
                        PsiWhiteSpace(' ')(1405,1406)
                        BINDING_PATTERN(1406,1407)
                          PsiElement(identifier)('c')(1406,1407)
                        PsiWhiteSpace(' ')(1407,1408)
                        PsiElement(in)('in')(1408,1410)
                        PsiWhiteSpace(' ')(1410,1411)
                        VARIABLE_REFERENCE_EXPRESSION(1411,1417)
                          SIMPLE_VARIABLE_REFERENCE(1411,1417)
                            NAME_REFERENCE(1411,1417)
                              PsiElement(identifier)('counts')(1411,1417)
                        PsiWhiteSpace(' ')(1417,1418)
                        PsiElement({)('{')(1418,1419)
                        PsiWhiteSpace('\n                ')(1419,1436)
                        BLOCK(1436,1466)
                          STATEMENT(1436,1466)
                            EXPRESSION_STMT(1436,1466)
                              VARIABLE_REFERENCE_EXPRESSION(1436,1465)
                                INVOCATION_REFERENCE(1436,1465)
                                  SIMPLE_VARIABLE_REFERENCE(1436,1454)
                                    NAME_REFERENCE(1436,1454)
                                      PsiElement(identifier)('requestCountStream')(1436,1454)
                                  INVOCATION(1454,1465)
                                    PsiElement(.)('.')(1454,1455)
                                    ANY_IDENTIFIER_NAME(1455,1462)
                                      PsiElement(identifier)('publish')(1455,1462)
                                    PsiElement(()('(')(1462,1463)
                                    INVOCATION_ARG_LIST(1463,1464)
                                      INVOCATION_ARG(1463,1464)
                                        VARIABLE_REFERENCE_EXPRESSION(1463,1464)
                                          SIMPLE_VARIABLE_REFERENCE(1463,1464)
                                            NAME_REFERENCE(1463,1464)
                                              PsiElement(identifier)('c')(1463,1464)
                                    PsiElement())(')')(1464,1465)
                              PsiElement(;)(';')(1465,1466)
                        PsiWhiteSpace('\n            ')(1466,1479)
                        PsiElement(})('}')(1479,1480)
                  PsiWhiteSpace('\n        ')(1480,1489)
                  PsiElement(})('}')(1489,1490)
            PsiWhiteSpace('\n    ')(1490,1495)
            PsiElement(})('}')(1495,1496)
        PsiWhiteSpace('\n')(1496,1497)
        PsiElement(})('}')(1497,1498)
  PsiWhiteSpace('\n\n')(1498,1500)
  PsiComment(LINE_COMMENT)('// Define the `printRequestCount` function.')(1500,1543)
  PsiWhiteSpace('\n')(1543,1544)
  DEFINITION(1544,1736)
    FUNCTION_DEFINITION(1544,1736)
      PsiElement(function)('function')(1544,1552)
      PsiWhiteSpace(' ')(1552,1553)
      CALLABLE_UNIT_SIGNATURE(1553,1593)
        ANY_IDENTIFIER_NAME(1553,1570)
          PsiElement(identifier)('printRequestCount')(1553,1570)
        PsiElement(()('(')(1570,1571)
        FORMAL_PARAMETER_LIST(1571,1592)
          PARAMETER(1571,1592)
            PARAMETER_WITH_TYPE(1571,1592)
              SIMPLE_TYPE_NAME(1571,1583)
                REFERENCE_TYPE_NAME(1571,1583)
                  USER_DEFINE_TYPE_NAME(1571,1583)
                    NAME_REFERENCE(1571,1583)
                      PsiElement(identifier)('RequestCount')(1571,1583)
              PsiWhiteSpace(' ')(1583,1584)
              PsiElement(identifier)('reqCount')(1584,1592)
        PsiElement())(')')(1592,1593)
      PsiWhiteSpace(' ')(1593,1594)
      CALLABLE_UNIT_BODY(1594,1736)
        PsiElement({)('{')(1594,1595)
        PsiWhiteSpace('\n    ')(1595,1600)
        STATEMENT(1600,1734)
          EXPRESSION_STMT(1600,1734)
            VARIABLE_REFERENCE_EXPRESSION(1600,1733)
              FUNCTION_INVOCATION_REFERENCE(1600,1733)
                FUNCTION_INVOCATION(1600,1733)
                  FUNCTION_NAME_REFERENCE(1600,1610)
                    PACKAGE_REFERENCE(1600,1603)
                      PsiElement(identifier)('io')(1600,1602)
                      PsiElement(:)(':')(1602,1603)
                    ANY_IDENTIFIER_NAME(1603,1610)
                      PsiElement(identifier)('println')(1603,1610)
                  PsiElement(()('(')(1610,1611)
                  INVOCATION_ARG_LIST(1611,1732)
                    INVOCATION_ARG(1611,1732)
                      BINARY_ADD_SUB_EXPRESSION(1611,1732)
                        BINARY_ADD_SUB_EXPRESSION(1611,1716)
                          SIMPLE_LITERAL_EXPRESSION(1611,1662)
                            SIMPLE_LITERAL(1611,1662)
                              PsiElement(QUOTED_STRING_LITERAL)('"ALERT!! : Received more than 6 requests from the "')(1611,1662)
                          PsiWhiteSpace(' ')(1662,1663)
                          PsiElement(+)('+')(1663,1664)
                          PsiWhiteSpace('\n                        ')(1664,1689)
                          SIMPLE_LITERAL_EXPRESSION(1689,1716)
                            SIMPLE_LITERAL(1689,1716)
                              PsiElement(QUOTED_STRING_LITERAL)('"host within 10 seconds : "')(1689,1716)
                        PsiWhiteSpace(' ')(1716,1717)
                        PsiElement(+)('+')(1717,1718)
                        PsiWhiteSpace(' ')(1718,1719)
                        VARIABLE_REFERENCE_EXPRESSION(1719,1732)
                          FIELD_VARIABLE_REFERENCE(1719,1732)
                            SIMPLE_VARIABLE_REFERENCE(1719,1727)
                              NAME_REFERENCE(1719,1727)
                                PsiElement(identifier)('reqCount')(1719,1727)
                            FIELD(1727,1732)
                              PsiElement(.)('.')(1727,1728)
                              PsiElement(identifier)('host')(1728,1732)
                  PsiElement())(')')(1732,1733)
            PsiElement(;)(';')(1733,1734)
        PsiWhiteSpace('\n')(1734,1735)
        PsiElement(})('}')(1735,1736)
  PsiWhiteSpace('\n\n')(1736,1738)
  DEFINITION(1738,1777)
    GLOBAL_VARIABLE_DEFINITION(1738,1777)
      PsiElement(listener)('listener')(1738,1746)
      PsiWhiteSpace(' ')(1746,1747)
      SIMPLE_TYPE_NAME(1747,1760)
        REFERENCE_TYPE_NAME(1747,1760)
          USER_DEFINE_TYPE_NAME(1747,1760)
            NAME_REFERENCE(1747,1760)
              PACKAGE_REFERENCE(1747,1752)
                PsiElement(identifier)('http')(1747,1751)
                PsiElement(:)(':')(1751,1752)
              PsiElement(identifier)('Listener')(1752,1760)
      PsiWhiteSpace(' ')(1760,1761)
      PsiElement(identifier)('ep')(1761,1763)
      PsiWhiteSpace(' ')(1763,1764)
      PsiElement(=)('=')(1764,1765)
      PsiWhiteSpace(' ')(1765,1766)
      TYPE_INIT_EXPRESSION(1766,1776)
        INIT_WITHOUT_TYPE(1766,1776)
          PsiElement(new)('new')(1766,1769)
          PsiWhiteSpace(' ')(1769,1770)
          PsiElement(()('(')(1770,1771)
          INVOCATION_ARG_LIST(1771,1775)
            INVOCATION_ARG(1771,1775)
              SIMPLE_LITERAL_EXPRESSION(1771,1775)
                SIMPLE_LITERAL(1771,1775)
                  INTEGER_LITERAL(1771,1775)
                    PsiElement(DECIMAL_INTEGER_LITERAL)('9090')(1771,1775)
          PsiElement())(')')(1775,1776)
      PsiElement(;)(';')(1776,1777)
  PsiWhiteSpace('\n\n')(1777,1779)
  DEFINITION(1779,2625)
    ANNOTATION_ATTACHMENT(1779,1820)
      PsiElement(@)('@')(1779,1780)
      NAME_REFERENCE(1780,1798)
        PACKAGE_REFERENCE(1780,1785)
          PsiElement(identifier)('http')(1780,1784)
          PsiElement(:)(':')(1784,1785)
        PsiElement(identifier)('ServiceConfig')(1785,1798)
      PsiWhiteSpace(' ')(1798,1799)
      RECORD_LITERAL(1799,1820)
        PsiElement({)('{')(1799,1800)
        PsiWhiteSpace('\n    ')(1800,1805)
        RECORD_LITERAL_BODY(1805,1818)
          RECORD_KEY_VALUE(1805,1818)
            RECORD_KEY(1805,1813)
              VARIABLE_REFERENCE_EXPRESSION(1805,1813)
                SIMPLE_VARIABLE_REFERENCE(1805,1813)
                  NAME_REFERENCE(1805,1813)
                    PsiElement(identifier)('basePath')(1805,1813)
            PsiElement(:)(':')(1813,1814)
            PsiWhiteSpace(' ')(1814,1815)
            SIMPLE_LITERAL_EXPRESSION(1815,1818)
              SIMPLE_LITERAL(1815,1818)
                PsiElement(QUOTED_STRING_LITERAL)('"/"')(1815,1818)
        PsiWhiteSpace('\n')(1818,1819)
        PsiElement(})('}')(1819,1820)
    PsiWhiteSpace('\n')(1820,1821)
    PsiComment(LINE_COMMENT)('// The host header is extracted from the requests that come to the service using the `/requests` context. Using this')(1821,1937)
    PsiWhiteSpace('\n')(1937,1938)
    PsiComment(LINE_COMMENT)('// information, the `clientRequest` object is created and published to the `requestStream`.')(1938,2029)
    PsiWhiteSpace('\n')(2029,2030)
    DEFINITION(2030,2625)
      SERVICE_DEFINITION(2030,2625)
        PsiElement(service)('service')(2030,2037)
        PsiWhiteSpace(' ')(2037,2038)
        PsiElement(identifier)('requestService')(2038,2052)
        PsiWhiteSpace(' ')(2052,2053)
        PsiElement(on)('on')(2053,2055)
        PsiWhiteSpace(' ')(2055,2056)
        EXPRESSION_LIST(2056,2058)
          VARIABLE_REFERENCE_EXPRESSION(2056,2058)
            SIMPLE_VARIABLE_REFERENCE(2056,2058)
              NAME_REFERENCE(2056,2058)
                PsiElement(identifier)('ep')(2056,2058)
        PsiWhiteSpace(' ')(2058,2059)
        SERVICE_BODY(2059,2625)
          PsiElement({)('{')(2059,2060)
          PsiWhiteSpace('\n\n    ')(2060,2066)
          SERVICE_BODY_MEMBER(2066,2118)
            OBJECT_FIELD_DEFINITION(2066,2118)
              SIMPLE_TYPE_NAME(2066,2076)
                REFERENCE_TYPE_NAME(2066,2076)
                  BUILT_IN_REFERENCE_TYPE_NAME(2066,2076)
                    FUTURE_TYPE_NAME(2066,2076)
                      PsiElement(future)('future')(2066,2072)
                      PsiElement(<)('<')(2072,2073)
                      SIMPLE_TYPE_NAME(2073,2075)
                        EMPTY_TUPLE_LITERAL(2073,2075)
                          PsiElement(()('(')(2073,2074)
                          PsiElement())(')')(2074,2075)
                      PsiElement(>)('>')(2075,2076)
              PsiWhiteSpace(' ')(2076,2077)
              PsiElement(identifier)('ftr')(2077,2080)
              PsiWhiteSpace(' ')(2080,2081)
              PsiElement(=)('=')(2081,2082)
              PsiWhiteSpace(' ')(2082,2083)
              VARIABLE_REFERENCE_EXPRESSION(2083,2117)
                PsiElement(start)('start')(2083,2088)
                PsiWhiteSpace(' ')(2088,2089)
                FUNCTION_INVOCATION_REFERENCE(2089,2117)
                  FUNCTION_INVOCATION(2089,2117)
                    FUNCTION_NAME_REFERENCE(2089,2115)
                      ANY_IDENTIFIER_NAME(2089,2115)
                        PsiElement(identifier)('initRealtimeRequestCounter')(2089,2115)
                    PsiElement(()('(')(2115,2116)
                    PsiElement())(')')(2116,2117)
              PsiElement(;)(';')(2117,2118)
          PsiWhiteSpace('\n\n    ')(2118,2124)
          SERVICE_BODY_MEMBER(2124,2623)
            OBJECT_FUNCTION_DEFINITION(2124,2623)
              ANNOTATION_ATTACHMENT(2124,2205)
                PsiElement(@)('@')(2124,2125)
                NAME_REFERENCE(2125,2144)
                  PACKAGE_REFERENCE(2125,2130)
                    PsiElement(identifier)('http')(2125,2129)
                    PsiElement(:)(':')(2129,2130)
                  PsiElement(identifier)('ResourceConfig')(2130,2144)
                PsiWhiteSpace(' ')(2144,2145)
                RECORD_LITERAL(2145,2205)
                  PsiElement({)('{')(2145,2146)
                  PsiWhiteSpace('\n        ')(2146,2155)
                  RECORD_LITERAL_BODY(2155,2199)
                    RECORD_KEY_VALUE(2155,2172)
                      RECORD_KEY(2155,2162)
                        VARIABLE_REFERENCE_EXPRESSION(2155,2162)
                          SIMPLE_VARIABLE_REFERENCE(2155,2162)
                            NAME_REFERENCE(2155,2162)
                              PsiElement(identifier)('methods')(2155,2162)
                      PsiElement(:)(':')(2162,2163)
                      PsiWhiteSpace(' ')(2163,2164)
                      ARRAY_LITERAL_EXPRESSION(2164,2172)
                        ARRAY_LITERAL(2164,2172)
                          PsiElement([)('[')(2164,2165)
                          EXPRESSION_LIST(2165,2171)
                            SIMPLE_LITERAL_EXPRESSION(2165,2171)
                              SIMPLE_LITERAL(2165,2171)
                                PsiElement(QUOTED_STRING_LITERAL)('"POST"')(2165,2171)
                          PsiElement(])(']')(2171,2172)
                    PsiElement(,)(',')(2172,2173)
                    PsiWhiteSpace('\n        ')(2173,2182)
                    RECORD_KEY_VALUE(2182,2199)
                      RECORD_KEY(2182,2186)
                        VARIABLE_REFERENCE_EXPRESSION(2182,2186)
                          SIMPLE_VARIABLE_REFERENCE(2182,2186)
                            NAME_REFERENCE(2182,2186)
                              PsiElement(identifier)('path')(2182,2186)
                      PsiElement(:)(':')(2186,2187)
                      PsiWhiteSpace(' ')(2187,2188)
                      SIMPLE_LITERAL_EXPRESSION(2188,2199)
                        SIMPLE_LITERAL(2188,2199)
                          PsiElement(QUOTED_STRING_LITERAL)('"/requests"')(2188,2199)
                  PsiWhiteSpace('\n    ')(2199,2204)
                  PsiElement(})('}')(2204,2205)
              PsiWhiteSpace('\n    ')(2205,2210)
              PsiElement(resource)('resource')(2210,2218)
              PsiWhiteSpace(' ')(2218,2219)
              PsiElement(function)('function')(2219,2227)
              PsiWhiteSpace(' ')(2227,2228)
              CALLABLE_UNIT_SIGNATURE(2228,2272)
                ANY_IDENTIFIER_NAME(2228,2236)
                  PsiElement(identifier)('requests')(2228,2236)
                PsiElement(()('(')(2236,2237)
                FORMAL_PARAMETER_LIST(2237,2271)
                  PARAMETER(2237,2253)
                    PARAMETER_WITH_TYPE(2237,2253)
                      SIMPLE_TYPE_NAME(2237,2248)
                        REFERENCE_TYPE_NAME(2237,2248)
                          USER_DEFINE_TYPE_NAME(2237,2248)
                            NAME_REFERENCE(2237,2248)
                              PACKAGE_REFERENCE(2237,2242)
                                PsiElement(identifier)('http')(2237,2241)
                                PsiElement(:)(':')(2241,2242)
                              PsiElement(identifier)('Caller')(2242,2248)
                      PsiWhiteSpace(' ')(2248,2249)
                      PsiElement(identifier)('conn')(2249,2253)
                  PsiElement(,)(',')(2253,2254)
                  PsiWhiteSpace(' ')(2254,2255)
                  PARAMETER(2255,2271)
                    PARAMETER_WITH_TYPE(2255,2271)
                      SIMPLE_TYPE_NAME(2255,2267)
                        REFERENCE_TYPE_NAME(2255,2267)
                          USER_DEFINE_TYPE_NAME(2255,2267)
                            NAME_REFERENCE(2255,2267)
                              PACKAGE_REFERENCE(2255,2260)
                                PsiElement(identifier)('http')(2255,2259)
                                PsiElement(:)(':')(2259,2260)
                              PsiElement(identifier)('Request')(2260,2267)
                      PsiWhiteSpace(' ')(2267,2268)
                      PsiElement(identifier)('req')(2268,2271)
                PsiElement())(')')(2271,2272)
              PsiWhiteSpace(' ')(2272,2273)
              CALLABLE_UNIT_BODY(2273,2623)
                PsiElement({)('{')(2273,2274)
                PsiWhiteSpace('\n        ')(2274,2283)
                STATEMENT(2283,2333)
                  VARIABLE_DEFINITION_STATEMENT(2283,2333)
                    VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(2283,2333)
                      SIMPLE_TYPE_NAME(2283,2289)
                        VALUE_TYPE_NAME(2283,2289)
                          PsiElement(string)('string')(2283,2289)
                      PsiWhiteSpace(' ')(2289,2290)
                      BINDING_PATTERN(2290,2298)
                        PsiElement(identifier)('hostName')(2290,2298)
                      PsiWhiteSpace(' ')(2298,2299)
                      PsiElement(=)('=')(2299,2300)
                      PsiWhiteSpace(' ')(2300,2301)
                      UNARY_EXPRESSION(2301,2332)
                        PsiElement(untaint)('untaint')(2301,2308)
                        PsiWhiteSpace(' ')(2308,2309)
                        VARIABLE_REFERENCE_EXPRESSION(2309,2332)
                          FIELD_VARIABLE_REFERENCE(2309,2332)
                            FIELD_VARIABLE_REFERENCE(2309,2327)
                              SIMPLE_VARIABLE_REFERENCE(2309,2313)
                                NAME_REFERENCE(2309,2313)
                                  PsiElement(identifier)('conn')(2309,2313)
                              FIELD(2313,2327)
                                PsiElement(.)('.')(2313,2314)
                                PsiElement(identifier)('remoteAddress')(2314,2327)
                            FIELD(2327,2332)
                              PsiElement(.)('.')(2327,2328)
                              PsiElement(identifier)('host')(2328,2332)
                      PsiElement(;)(';')(2332,2333)
                PsiWhiteSpace('\n        ')(2333,2342)
                STATEMENT(2342,2391)
                  VARIABLE_DEFINITION_STATEMENT(2342,2391)
                    VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(2342,2391)
                      SIMPLE_TYPE_NAME(2342,2355)
                        REFERENCE_TYPE_NAME(2342,2355)
                          USER_DEFINE_TYPE_NAME(2342,2355)
                            NAME_REFERENCE(2342,2355)
                              PsiElement(identifier)('ClientRequest')(2342,2355)
                      PsiWhiteSpace(' ')(2355,2356)
                      BINDING_PATTERN(2356,2369)
                        PsiElement(identifier)('clientRequest')(2356,2369)
                      PsiWhiteSpace(' ')(2369,2370)
                      PsiElement(=)('=')(2370,2371)
                      PsiWhiteSpace(' ')(2371,2372)
                      RECORD_LITERAL_EXPRESSION(2372,2390)
                        RECORD_LITERAL(2372,2390)
                          PsiElement({)('{')(2372,2373)
                          PsiWhiteSpace(' ')(2373,2374)
                          RECORD_LITERAL_BODY(2374,2388)
                            RECORD_KEY_VALUE(2374,2388)
                              RECORD_KEY(2374,2378)
                                VARIABLE_REFERENCE_EXPRESSION(2374,2378)
                                  SIMPLE_VARIABLE_REFERENCE(2374,2378)
                                    NAME_REFERENCE(2374,2378)
                                      PsiElement(identifier)('host')(2374,2378)
                              PsiElement(:)(':')(2378,2379)
                              PsiWhiteSpace(' ')(2379,2380)
                              VARIABLE_REFERENCE_EXPRESSION(2380,2388)
                                SIMPLE_VARIABLE_REFERENCE(2380,2388)
                                  NAME_REFERENCE(2380,2388)
                                    PsiElement(identifier)('hostName')(2380,2388)
                          PsiWhiteSpace(' ')(2388,2389)
                          PsiElement(})('}')(2389,2390)
                      PsiElement(;)(';')(2390,2391)
                PsiWhiteSpace('\n        ')(2391,2400)
                STATEMENT(2400,2437)
                  EXPRESSION_STMT(2400,2437)
                    VARIABLE_REFERENCE_EXPRESSION(2400,2436)
                      INVOCATION_REFERENCE(2400,2436)
                        SIMPLE_VARIABLE_REFERENCE(2400,2413)
                          NAME_REFERENCE(2400,2413)
                            PsiElement(identifier)('requestStream')(2400,2413)
                        INVOCATION(2413,2436)
                          PsiElement(.)('.')(2413,2414)
                          ANY_IDENTIFIER_NAME(2414,2421)
                            PsiElement(identifier)('publish')(2414,2421)
                          PsiElement(()('(')(2421,2422)
                          INVOCATION_ARG_LIST(2422,2435)
                            INVOCATION_ARG(2422,2435)
                              VARIABLE_REFERENCE_EXPRESSION(2422,2435)
                                SIMPLE_VARIABLE_REFERENCE(2422,2435)
                                  NAME_REFERENCE(2422,2435)
                                    PsiElement(identifier)('clientRequest')(2422,2435)
                          PsiElement())(')')(2435,2436)
                    PsiElement(;)(';')(2436,2437)
                PsiWhiteSpace('\n\n        ')(2437,2447)
                STATEMENT(2447,2471)
                  VARIABLE_DEFINITION_STATEMENT(2447,2471)
                    VARIABLE_DEFINITION_STATEMENT_WITH_ASSIGNMENT(2447,2471)
                      SIMPLE_TYPE_NAME(2447,2460)
                        REFERENCE_TYPE_NAME(2447,2460)
                          USER_DEFINE_TYPE_NAME(2447,2460)
                            NAME_REFERENCE(2447,2460)
                              PACKAGE_REFERENCE(2447,2452)
                                PsiElement(identifier)('http')(2447,2451)
                                PsiElement(:)(':')(2451,2452)
                              PsiElement(identifier)('Response')(2452,2460)
                      PsiWhiteSpace(' ')(2460,2461)
                      BINDING_PATTERN(2461,2464)
                        PsiElement(identifier)('res')(2461,2464)
                      PsiWhiteSpace(' ')(2464,2465)
                      PsiElement(=)('=')(2465,2466)
                      PsiWhiteSpace(' ')(2466,2467)
                      TYPE_INIT_EXPRESSION(2467,2470)
                        INIT_WITHOUT_TYPE(2467,2470)
                          PsiElement(new)('new')(2467,2470)
                      PsiElement(;)(';')(2470,2471)
                PsiWhiteSpace('\n        ')(2471,2480)
                STATEMENT(2480,2585)
                  EXPRESSION_STMT(2480,2585)
                    VARIABLE_REFERENCE_EXPRESSION(2480,2584)
                      INVOCATION_REFERENCE(2480,2584)
                        SIMPLE_VARIABLE_REFERENCE(2480,2483)
                          NAME_REFERENCE(2480,2483)
                            PsiElement(identifier)('res')(2480,2483)
                        INVOCATION(2483,2584)
                          PsiElement(.)('.')(2483,2484)
                          ANY_IDENTIFIER_NAME(2484,2498)
                            PsiElement(identifier)('setJsonPayload')(2484,2498)
                          PsiElement(()('(')(2498,2499)
                          INVOCATION_ARG_LIST(2499,2583)
                            INVOCATION_ARG(2499,2583)
                              BINARY_ADD_SUB_EXPRESSION(2499,2583)
                                SIMPLE_LITERAL_EXPRESSION(2499,2536)
                                  SIMPLE_LITERAL(2499,2536)
                                    PsiElement(QUOTED_STRING_LITERAL)('"{'message' : 'request successfully "')(2499,2536)
                                PsiWhiteSpace(' ')(2536,2537)
                                PsiElement(+)('+')(2537,2538)
                                PsiWhiteSpace('\n                                ')(2538,2571)
                                SIMPLE_LITERAL_EXPRESSION(2571,2583)
                                  SIMPLE_LITERAL(2571,2583)
                                    PsiElement(QUOTED_STRING_LITERAL)('"received'}"')(2571,2583)
                          PsiElement())(')')(2583,2584)
                    PsiElement(;)(';')(2584,2585)
                PsiWhiteSpace('\n        ')(2585,2594)
                STATEMENT(2594,2617)
                  ASSIGNMENT_STATEMENT(2594,2617)
                    SIMPLE_VARIABLE_REFERENCE(2594,2595)
                      NAME_REFERENCE(2594,2595)
                        PsiElement(identifier)('_')(2594,2595)
                    PsiWhiteSpace(' ')(2595,2596)
                    PsiElement(=)('=')(2596,2597)
                    PsiWhiteSpace(' ')(2597,2598)
                    ACTION_INVOCATION_EXPRESSION(2598,2616)
                      ACTION_INVOCATION(2598,2616)
                        SIMPLE_VARIABLE_REFERENCE(2598,2602)
                          NAME_REFERENCE(2598,2602)
                            PsiElement(identifier)('conn')(2598,2602)
                        PsiElement(->)('->')(2602,2604)
                        FUNCTION_INVOCATION(2604,2616)
                          FUNCTION_NAME_REFERENCE(2604,2611)
                            ANY_IDENTIFIER_NAME(2604,2611)
                              PsiElement(identifier)('respond')(2604,2611)
                          PsiElement(()('(')(2611,2612)
                          INVOCATION_ARG_LIST(2612,2615)
                            INVOCATION_ARG(2612,2615)
                              VARIABLE_REFERENCE_EXPRESSION(2612,2615)
                                SIMPLE_VARIABLE_REFERENCE(2612,2615)
                                  NAME_REFERENCE(2612,2615)
                                    PsiElement(identifier)('res')(2612,2615)
                          PsiElement())(')')(2615,2616)
                    PsiElement(;)(';')(2616,2617)
                PsiWhiteSpace('\n    ')(2617,2622)
                PsiElement(})('}')(2622,2623)
          PsiWhiteSpace('\n')(2623,2624)
          PsiElement(})('}')(2624,2625)
